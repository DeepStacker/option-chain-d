{"version":3,"file":"OptionChain-DCcHyxlZ.js","sources":["../../src/context/TableSettingsContext.jsx","../../src/hooks/useSocket.jsx","../../src/hooks/useOptionsChain.js","../../src/hooks/usePercentageHighlights.js","../../src/context/ColumnConfigContext.jsx","../../src/components/features/options/TableHeader.jsx","../../src/constants/index.js","../../src/components/features/options/StrikeRow.jsx","../../src/components/features/options/SpotBar.jsx","../../src/components/features/options/SpotIndicatorRow.jsx","../../src/components/features/options/OptionControls.jsx","../../node_modules/@react-aria/utils/dist/useLayoutEffect.mjs","../../node_modules/@react-aria/utils/dist/useEffectEvent.mjs","../../node_modules/@react-aria/utils/dist/domHelpers.mjs","../../node_modules/@react-stately/flags/dist/import.mjs","../../node_modules/@react-aria/utils/dist/DOMFunctions.mjs","../../node_modules/@react-aria/utils/dist/platform.mjs","../../node_modules/@react-aria/utils/dist/useGlobalListeners.mjs","../../node_modules/@react-aria/utils/dist/isVirtualEvent.mjs","../../node_modules/@react-aria/interactions/dist/utils.mjs","../../node_modules/@react-aria/interactions/dist/useFocusVisible.mjs","../../node_modules/@react-aria/interactions/dist/useFocus.mjs","../../node_modules/@react-aria/interactions/dist/useFocusWithin.mjs","../../node_modules/@react-aria/interactions/dist/useHover.mjs","../../node_modules/@react-aria/focus/dist/useFocusRing.mjs","../../node_modules/@headlessui/react/dist/utils/env.js","../../node_modules/@headlessui/react/dist/utils/owner.js","../../node_modules/@headlessui/react/dist/utils/micro-task.js","../../node_modules/@headlessui/react/dist/utils/disposables.js","../../node_modules/@headlessui/react/dist/hooks/use-disposables.js","../../node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js","../../node_modules/@headlessui/react/dist/hooks/use-latest-value.js","../../node_modules/@headlessui/react/dist/hooks/use-event.js","../../node_modules/@headlessui/react/dist/hooks/use-active-press.js","../../node_modules/@headlessui/react/dist/hooks/use-slot.js","../../node_modules/@headlessui/react/dist/internal/disabled.js","../../node_modules/@headlessui/react/dist/utils/class-names.js","../../node_modules/@headlessui/react/dist/utils/match.js","../../node_modules/@headlessui/react/dist/utils/render.js","../../node_modules/@headlessui/react/dist/hooks/use-controllable.js","../../node_modules/@headlessui/react/dist/hooks/use-default-value.js","../../node_modules/@headlessui/react/dist/utils/form.js","../../node_modules/@headlessui/react/dist/internal/hidden.js","../../node_modules/@headlessui/react/dist/internal/form-fields.js","../../node_modules/@headlessui/react/dist/internal/id.js","../../node_modules/@headlessui/react/dist/utils/dom.js","../../node_modules/@headlessui/react/dist/utils/bugs.js","../../node_modules/@headlessui/react/dist/hooks/use-sync-refs.js","../../node_modules/@headlessui/react/dist/components/description/description.js","../../node_modules/@headlessui/react/dist/components/keyboard.js","../../node_modules/@headlessui/react/dist/components/label/label.js","../../node_modules/@headlessui/react/dist/internal/close-provider.js","../../node_modules/@headlessui/react/dist/utils/default-map.js","../../node_modules/@headlessui/react/dist/machine.js","../../node_modules/@headlessui/react/dist/machines/stack-machine.js","../../node_modules/@headlessui/react/dist/react-glue.js","../../node_modules/@headlessui/react/dist/hooks/use-is-top-layer.js","../../node_modules/@headlessui/react/dist/hooks/use-inert-others.js","../../node_modules/@headlessui/react/dist/hooks/use-on-disappear.js","../../node_modules/@headlessui/react/dist/utils/focus-management.js","../../node_modules/@headlessui/react/dist/utils/platform.js","../../node_modules/@headlessui/react/dist/hooks/use-document-event.js","../../node_modules/@headlessui/react/dist/hooks/use-window-event.js","../../node_modules/@headlessui/react/dist/hooks/use-outside-click.js","../../node_modules/@headlessui/react/dist/hooks/use-owner.js","../../node_modules/@headlessui/react/dist/hooks/use-event-listener.js","../../node_modules/@headlessui/react/dist/hooks/use-resolve-button-type.js","../../node_modules/@headlessui/react/dist/hooks/use-store.js","../../node_modules/@headlessui/react/dist/utils/store.js","../../node_modules/@headlessui/react/dist/hooks/document-overflow/adjust-scrollbar-padding.js","../../node_modules/@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js","../../node_modules/@headlessui/react/dist/hooks/document-overflow/prevent-scroll.js","../../node_modules/@headlessui/react/dist/hooks/document-overflow/overflow-store.js","../../node_modules/@headlessui/react/dist/hooks/document-overflow/use-document-overflow.js","../../node_modules/@headlessui/react/dist/hooks/use-scroll-lock.js","../../node_modules/@headlessui/react/dist/hooks/use-flags.js","../../node_modules/@headlessui/react/dist/hooks/use-transition.js","../../node_modules/@headlessui/react/dist/hooks/use-watch.js","../../node_modules/@headlessui/react/dist/internal/open-closed.js","../../node_modules/@headlessui/react/dist/utils/document-ready.js","../../node_modules/@headlessui/react/dist/utils/active-element-history.js","../../node_modules/@headlessui/react/dist/hooks/use-on-unmount.js","../../node_modules/@headlessui/react/dist/internal/portal-force-root.js","../../node_modules/@headlessui/react/dist/components/portal/portal.js","../../node_modules/@headlessui/react/dist/hooks/use-escape.js","../../node_modules/@headlessui/react/dist/hooks/use-is-touch-device.js","../../node_modules/@headlessui/react/dist/hooks/use-root-containers.js","../../node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js","../../node_modules/@headlessui/react/dist/hooks/use-is-mounted.js","../../node_modules/@headlessui/react/dist/hooks/use-tab-direction.js","../../node_modules/@headlessui/react/dist/components/focus-trap/focus-trap.js","../../node_modules/@headlessui/react/dist/components/transition/transition.js","../../node_modules/@headlessui/react/dist/components/dialog/dialog.js","../../node_modules/@headlessui/react/dist/components/switch/switch.js","../../node_modules/@headlessui/react/dist/internal/focus-sentinel.js","../../node_modules/@headlessui/react/dist/utils/stable-collection.js","../../node_modules/@headlessui/react/dist/components/tabs/tabs.js","../../src/components/features/options/TableSettingsModal.jsx","../../src/components/features/options/StrikeDetailPanel.jsx","../../src/components/features/options/StrikeAnalysisModal.jsx","../../src/components/features/options/CellDetailModal.jsx","../../src/components/features/options/AggregateChartModal.jsx","../../src/components/features/options/AggregatePanel.jsx","../../src/components/features/options/OptionChainTable.jsx","../../src/utils/chartUtils.js","../../src/components/charts/SymbolSelector.jsx","../../src/components/charts/TradingChart.jsx","../../src/pages/OptionChain.jsx"],"sourcesContent":["/* eslint-disable react-refresh/only-export-components */\nimport { createContext, useContext, useState, useCallback, useMemo } from 'react';\n\n/**\n * Table Settings Context\n * Manages table-level settings like sort order, ITM highlighting, compact mode\n */\n\nconst STORAGE_KEY = 'option_chain_table_settings';\n\nconst DEFAULT_SETTINGS = {\n  sortOrder: 'desc', // 'asc' or 'desc' - strikes order\n  highlightITM: true, // Highlight in-the-money options\n  compactMode: true, // Compact row height - enabled by default for smaller rows\n  showStrikePanel: false, // Show strike detail panel\n  selectedStrike: null, // Currently selected strike for panel\n  strikesPerPage: 21, // Number of strikes to show (10 OTM each side + ATM)\n};\n\nconst TableSettingsContext = createContext(null);\n\nexport function TableSettingsProvider({ children }) {\n  const [settings, setSettings] = useState(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        return { ...DEFAULT_SETTINGS, ...JSON.parse(saved) };\n      }\n    } catch (e) {\n      console.warn('Failed to load table settings:', e);\n    }\n    return DEFAULT_SETTINGS;\n  });\n\n  // Update a single setting\n  const updateSetting = useCallback((key, value) => {\n    setSettings(prev => {\n      const newSettings = { ...prev, [key]: value };\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newSettings));\n      return newSettings;\n    });\n  }, []);\n\n  // Toggle sort order\n  const toggleSortOrder = useCallback(() => {\n    setSettings(prev => {\n      const newOrder = prev.sortOrder === 'asc' ? 'desc' : 'asc';\n      const newSettings = { ...prev, sortOrder: newOrder };\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newSettings));\n      return newSettings;\n    });\n  }, []);\n\n  // Toggle ITM highlighting\n  const toggleITMHighlight = useCallback(() => {\n    setSettings(prev => {\n      const newSettings = { ...prev, highlightITM: !prev.highlightITM };\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newSettings));\n      return newSettings;\n    });\n  }, []);\n\n  // Toggle compact mode\n  const toggleCompactMode = useCallback(() => {\n    setSettings(prev => {\n      const newSettings = { ...prev, compactMode: !prev.compactMode };\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newSettings));\n      return newSettings;\n    });\n  }, []);\n\n  // Select strike for detail panel\n  const selectStrike = useCallback((strike) => {\n    setSettings(prev => {\n      const newSettings = { \n        ...prev, \n        selectedStrike: strike,\n        showStrikePanel: strike !== null \n      };\n      return newSettings;\n    });\n  }, []);\n\n  // Reset to defaults\n  const resetSettings = useCallback(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(DEFAULT_SETTINGS));\n    setSettings(DEFAULT_SETTINGS);\n  }, []);\n\n  const value = useMemo(() => ({\n    settings,\n    updateSetting,\n    toggleSortOrder,\n    toggleITMHighlight,\n    toggleCompactMode,\n    selectStrike,\n    resetSettings,\n  }), [settings, updateSetting, toggleSortOrder, toggleITMHighlight, toggleCompactMode, selectStrike, resetSettings]);\n\n  return (\n    <TableSettingsContext.Provider value={value}>\n      {children}\n    </TableSettingsContext.Provider>\n  );\n}\n\nexport function useTableSettings() {\n  const context = useContext(TableSettingsContext);\n  if (!context) {\n    throw new Error('useTableSettings must be used within TableSettingsProvider');\n  }\n  return context;\n}\n\nexport default TableSettingsContext;\n","import { useEffect, useRef, useCallback, useState } from 'react';\r\nimport { decode as msgpackDecode } from '@msgpack/msgpack';\r\nimport logger from '../utils/logger';\r\n\r\n/**\r\n * WebSocket Hook for FastAPI Backend\r\n * Endpoint: ws://host/ws/options\r\n * Supports msgpack binary message decoding\r\n */\r\nconst useSocket = (onDataReceived, options = {}) => {\r\n  const socketRef = useRef(null);\r\n  const reconnectTimeoutRef = useRef(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [subscription, setSubscription] = useState(null);\r\n\r\n  const {\r\n    enabled = true, // Set to false to disable auto-connection\r\n    autoReconnect = true,\r\n    reconnectInterval = 5000,\r\n    maxReconnectAttempts = 3, // Reduced to avoid spam\r\n    socketUrl = import.meta.env.VITE_WS_URL || import.meta.env.VITE_SOCKET_URL || 'ws://localhost:8000/ws/options',\r\n  } = options;\r\n\r\n  const reconnectAttemptsRef = useRef(0);\r\n\r\n  /**\r\n   * Decode message - handles both msgpack binary and JSON\r\n   */\r\n  const decodeMessage = async (data) => {\r\n    try {\r\n      // Handle Blob (binary data from WebSocket)\r\n      if (data instanceof Blob) {\r\n        const buffer = await data.arrayBuffer();\r\n        return msgpackDecode(new Uint8Array(buffer));\r\n      }\r\n      // Handle ArrayBuffer directly\r\n      if (data instanceof ArrayBuffer) {\r\n        return msgpackDecode(new Uint8Array(data));\r\n      }\r\n      // Handle string (JSON)\r\n      if (typeof data === 'string') {\r\n        return JSON.parse(data);\r\n      }\r\n      // Return as-is if already object\r\n      return data;\r\n    } catch (err) {\r\n      console.error('Error decoding message:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Use ref for callback to prevent effect re-triggering when callback identity changes\r\n  const onDataReceivedRef = useRef(onDataReceived);\r\n  \r\n  useEffect(() => {\r\n    onDataReceivedRef.current = onDataReceived;\r\n  }, [onDataReceived]);\r\n\r\n  const connect = useCallback(() => {\r\n    try {\r\n      // Clear any existing connection\r\n      if (socketRef.current) {\r\n        socketRef.current.close();\r\n      }\r\n\r\n      // Use the WebSocket URL (already includes /ws/options if using VITE_WS_URL)\r\n      const wsUrl = socketUrl.includes('/ws/') ? socketUrl : `${socketUrl}/ws/options`;\r\n\r\n      logger.log('ðŸ”Œ Connecting to WebSocket:', wsUrl);\r\n\r\n      // Connect without token in URL (long JWT tokens can cause issues in query params)\r\n      // Auth token can be sent as first message after connection if needed\r\n      socketRef.current = new WebSocket(wsUrl);\r\n\r\n      // Connection opened\r\n      socketRef.current.onopen = () => {\r\n        logger.log('âœ… WebSocket Connected');\r\n        setIsConnected(true);\r\n        setError(null);\r\n        reconnectAttemptsRef.current = 0;\r\n\r\n        // Send ping to confirm connection\r\n        if (socketRef.current.readyState === WebSocket.OPEN) {\r\n          socketRef.current.send(JSON.stringify({ type: 'ping' }));\r\n        }\r\n      };\r\n\r\n      // Listen for messages\r\n      socketRef.current.onmessage = async (event) => {\r\n        try {\r\n          // Debug: Log raw message type\r\n          logger.debug('ðŸ“© WebSocket raw message type:', typeof event.data, event.data instanceof Blob ? 'Blob' : event.data instanceof ArrayBuffer ? 'ArrayBuffer' : 'String');\r\n          \r\n          const data = await decodeMessage(event.data);\r\n          \r\n          // Debug: Log decoded data\r\n          logger.debug('ðŸ“¦ WebSocket decoded data:', data?.type || 'live_data', data?.oc ? `(${Object.keys(data.oc).length} strikes)` : '');\r\n\r\n          // Handle different message types\r\n          if (data.type === 'connected') {\r\n            logger.log('âœ… Connection confirmed, client_id:', data.client_id);\r\n            setError(null); // Clear error on successful connection\r\n          } else if (data.type === 'subscribed') {\r\n            logger.log('âœ… Subscribed to:', data.symbol, data.expiry);\r\n            setSubscription({ symbol: data.symbol, expiry: data.expiry });\r\n            setError(null); // Clear error on successful subscription\r\n          } else if (data.type === 'unsubscribed') {\r\n            logger.log('âœ… Unsubscribed');\r\n            setSubscription(null);\r\n          } else if (data.type === 'pong') {\r\n            // Heartbeat response\r\n          } else if (data.type === 'error') {\r\n            console.error('WebSocket Error Message:', data.message);\r\n            setError(data.message);\r\n          } else {\r\n            // Live data - pass to callback\r\n            if (error) setError(null); // Clear error if we start receiving data\r\n            logger.debug('ðŸ“¡ Passing live data to callback');\r\n            if (onDataReceivedRef.current) {\r\n                onDataReceivedRef.current(data);\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.error('Error processing WebSocket message:', err);\r\n        }\r\n      };\r\n\r\n      // Connection error - less verbose logging\r\n      socketRef.current.onerror = () => {\r\n        // Don't log full error object - too noisy\r\n        setError('WebSocket connection error');\r\n        setIsConnected(false);\r\n      };\r\n\r\n      // Connection closed\r\n      socketRef.current.onclose = (event) => {\r\n        logger.log('ðŸ”Œ WebSocket Disconnected:', event.code, event.reason);\r\n        setIsConnected(false);\r\n        setSubscription(null);\r\n\r\n        // Auto-reconnect logic\r\n        if (\r\n          autoReconnect &&\r\n          reconnectAttemptsRef.current < maxReconnectAttempts &&\r\n          !event.wasClean\r\n        ) {\r\n          reconnectAttemptsRef.current += 1;\r\n          logger.log(\r\n            `â³ Reconnecting... Attempt ${reconnectAttemptsRef.current}/${maxReconnectAttempts}`\r\n          );\r\n\r\n          reconnectTimeoutRef.current = setTimeout(() => {\r\n            connect();\r\n          }, reconnectInterval);\r\n        } else if (reconnectAttemptsRef.current >= maxReconnectAttempts) {\r\n          console.warn('âš ï¸ WebSocket unavailable, using REST polling');\r\n          setError('WebSocket unavailable - using polling');\r\n        }\r\n      };\r\n    } catch (err) {\r\n      console.error('Error creating WebSocket:', err);\r\n      setError(err.message);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketUrl, autoReconnect, reconnectInterval, maxReconnectAttempts]);\r\n\r\n  // Disconnect function\r\n  const disconnect = useCallback(() => {\r\n    if (reconnectTimeoutRef.current) {\r\n      clearTimeout(reconnectTimeoutRef.current);\r\n    }\r\n    if (socketRef.current) {\r\n      socketRef.current.close(1000, 'Client disconnect');\r\n      socketRef.current = null;\r\n    }\r\n    setIsConnected(false);\r\n    setSubscription(null);\r\n  }, []);\r\n\r\n  // Send message function\r\n  const sendMessage = useCallback((message) => {\r\n    if (socketRef.current && socketRef.current.readyState === WebSocket.OPEN) {\r\n      const payload = typeof message === 'string' ? message : JSON.stringify(message);\r\n      socketRef.current.send(payload);\r\n      return true;\r\n    } else {\r\n      console.warn('WebSocket is not connected. Message not sent:', message);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Subscribe to live data for a symbol/expiry\r\n   * @param {string} symbol - Trading symbol (e.g., 'NIFTY')\r\n   * @param {string} expiry - Expiry timestamp (e.g., '1419013800')\r\n   */\r\n  const subscribe = useCallback((symbol, expiry) => {\r\n    if (!isConnected) {\r\n      console.warn('Cannot subscribe: WebSocket not connected');\r\n      return false;\r\n    }\r\n    return sendMessage({\r\n      type: 'subscribe',\r\n      sid: symbol.toUpperCase(),\r\n      exp_sid: expiry\r\n    });\r\n  }, [isConnected, sendMessage]);\r\n\r\n  /**\r\n   * Unsubscribe from live data\r\n   */\r\n  const unsubscribe = useCallback(() => {\r\n    return sendMessage({ type: 'unsubscribe' });\r\n  }, [sendMessage]);\r\n\r\n  // Initial connection - only connect if enabled\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      connect();\r\n    } else {\r\n      disconnect();\r\n    }\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      disconnect();\r\n    };\r\n  }, [enabled, connect, disconnect]);\r\n\r\n  // Return socket interface\r\n  return {\r\n    isConnected,\r\n    error,\r\n    subscription,\r\n    sendMessage,\r\n    subscribe,\r\n    unsubscribe,\r\n    disconnect,\r\n    reconnect: connect,\r\n  };\r\n};\r\n\r\nexport default useSocket;\r\n","\r\nimport { useState, useEffect, useCallback, useRef, useMemo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchLiveData, updateLiveData, setStreamingState, setConnectionMethod } from '../context/dataSlice';\r\nimport {\r\n    selectSelectedSymbol,\r\n    selectSelectedExpiry,\r\n    selectOptionsData,\r\n    selectSpotData,\r\n    selectFuturesData,\r\n    selectExpiryList,\r\n    selectDataLoading,\r\n} from '../context/selectors';\r\nimport useSocket from './useSocket';\r\nimport logger from '../utils/logger';\r\n\r\n/**\r\n * Custom hook for managing option chain data\r\n * Uses WebSocket for real-time data, falls back to polling if WebSocket unavailable\r\n * \r\n * Key fixes:\r\n * - Properly waits for expiry to be set before WebSocket subscription\r\n * - Uses useMemo for derived values to prevent unnecessary re-renders\r\n * - Tracks subscription state per symbol+expiry to allow proper re-subscription\r\n */\r\nexport const useOptionsChain = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    // Selectors\r\n    const symbol = useSelector(selectSelectedSymbol);\r\n    const expiry = useSelector(selectSelectedExpiry);\r\n    const data = useSelector(selectOptionsData);\r\n    const spotData = useSelector(selectSpotData);\r\n    const futuresData = useSelector(selectFuturesData);\r\n    const expiryList = useSelector(selectExpiryList);\r\n    const isLoading = useSelector(selectDataLoading);\r\n\r\n    // Local state\r\n    const [isPaused, setIsPaused] = useState(false);\r\n    const [refreshInterval, setRefreshInterval] = useState(3000);\r\n    const [lastUpdated, setLastUpdated] = useState(null);\r\n    const [isInitialLoad, setIsInitialLoad] = useState(true);\r\n    const [useWebSocket, setUseWebSocket] = useState(true);\r\n\r\n    // Refs for tracking state across renders\r\n    const pollTimerRef = useRef(null);\r\n    const lastFetchedKeyRef = useRef(null); // Track what symbol+expiry we fetched\r\n    const currentSubscriptionRef = useRef(null); // Track current WS subscription\r\n\r\n    // Memoized: Check if we have valid data\r\n    const hasData = useMemo(() => {\r\n        return !!(data && data.oc && Object.keys(data.oc).length > 0);\r\n    }, [data]);\r\n\r\n    // Memoized: Current subscription key - used for tracking\r\n    const _subscriptionKey = useMemo(() => {\r\n        if (!symbol || !expiry) return null;\r\n        return `${symbol}:${expiry}`;\r\n    }, [symbol, expiry]);\r\n\r\n    // Memoized: Check if expiry is valid (not default/placeholder)\r\n    const isExpiryValid = useMemo(() => {\r\n        // expiry should be a valid timestamp > 0\r\n        return expiry && typeof expiry === 'number' && expiry > 0;\r\n    }, [expiry]);\r\n\r\n    // WebSocket data handler - receives real-time data\r\n    const handleWebSocketData = useCallback((wsData) => {\r\n        // Skip error messages\r\n        if (wsData?.type === 'error') {\r\n            console.warn('WebSocket error:', wsData.message);\r\n            return;\r\n        }\r\n\r\n        // Update Redux store with live data\r\n        if (wsData && (wsData.oc || wsData.spot || wsData.futures)) {\r\n            dispatch(updateLiveData(wsData));\r\n            setLastUpdated(new Date());\r\n\r\n            if (isInitialLoad) {\r\n                setIsInitialLoad(false);\r\n            }\r\n        }\r\n    }, [dispatch, isInitialLoad]);\r\n\r\n    // Initialize WebSocket connection - only connect when enabled\r\n    const {\r\n        isConnected: wsConnected,\r\n        error: wsError,\r\n        subscribe,\r\n        unsubscribe,\r\n        subscription\r\n    } = useSocket(handleWebSocketData, { enabled: useWebSocket });\r\n\r\n    // Update streaming state in Redux\r\n    useEffect(() => {\r\n        dispatch(setStreamingState(wsConnected && !!subscription));\r\n        dispatch(setConnectionMethod(wsConnected ? 'websocket' : 'api'));\r\n    }, [wsConnected, subscription, dispatch]);\r\n\r\n    // Note: Expiry and initial data fetching is now handled by setSidAndFetchData thunk\r\n    // from OptionControls.jsx when user changes symbol\r\n\r\n    // WebSocket subscription - ONLY subscribe when we have valid symbol AND expiry\r\n    useEffect(() => {\r\n        // Early return conditions - do NOT unsubscribe here, just wait\r\n        if (!useWebSocket || isPaused || !wsConnected) {\r\n            return;\r\n        }\r\n\r\n        // Don't subscribe until we have valid expiry - wait but don't unsub\r\n        if (!symbol || !isExpiryValid) {\r\n            logger.log('â³ Waiting for valid expiry before WebSocket subscription');\r\n            return;\r\n        }\r\n\r\n        const newKey = `${symbol}:${expiry}`;\r\n\r\n        // Check if we're already subscribed to this combination\r\n        if (currentSubscriptionRef.current === newKey) {\r\n            return; // Already subscribed, no action needed\r\n        }\r\n\r\n        // If we had a previous subscription AND we have a new valid one, switch\r\n        if (currentSubscriptionRef.current) {\r\n            logger.log('ðŸ“¡ Unsubscribing from:', currentSubscriptionRef.current);\r\n            unsubscribe();\r\n        }\r\n\r\n        // Subscribe to new symbol+expiry\r\n        logger.log('ðŸ“¡ Subscribing to WebSocket:', symbol, expiry);\r\n        subscribe(symbol, String(expiry));\r\n        currentSubscriptionRef.current = newKey;\r\n\r\n        // No cleanup here - cleanup only on unmount\r\n    }, [wsConnected, symbol, expiry, isExpiryValid, isPaused, useWebSocket, subscribe, unsubscribe]);\r\n\r\n    // Cleanup on unmount only\r\n    useEffect(() => {\r\n        return () => {\r\n            if (currentSubscriptionRef.current) {\r\n                logger.log('ðŸ“¡ Cleanup: Unsubscribing on unmount');\r\n                unsubscribe();\r\n                currentSubscriptionRef.current = null;\r\n            }\r\n        };\r\n    }, [unsubscribe]);\r\n\r\n    // REST API fetch function (fallback or initial load)\r\n    // Backend auto-fetches expiry if not provided\r\n    const fetchData = useCallback(async () => {\r\n        if (!symbol || isPaused) return;\r\n\r\n        const fetchKey = `${symbol}:${expiry || 'auto'}`;\r\n\r\n        try {\r\n            // Pass expiry if available, otherwise backend will auto-fetch nearest\r\n            await dispatch(fetchLiveData({ symbol, expiry: expiry ? String(expiry) : null })).unwrap();\r\n            setLastUpdated(new Date());\r\n            lastFetchedKeyRef.current = fetchKey;\r\n            if (isInitialLoad) {\r\n                setIsInitialLoad(false);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch option chain data:', error);\r\n            if (isInitialLoad) {\r\n                setIsInitialLoad(false);\r\n            }\r\n        }\r\n    }, [symbol, expiry, isPaused, dispatch, isInitialLoad]);\r\n\r\n    // Fetch data when expiry changes (user manually changed expiry)\r\n    const prevExpiryRef = useRef(expiry);\r\n\r\n    useEffect(() => {\r\n        if (!symbol || !isExpiryValid) return;\r\n\r\n        // Only fetch if expiry actually changed (not initial)\r\n        if (prevExpiryRef.current !== null && prevExpiryRef.current !== expiry) {\r\n            logger.log('ðŸ“¥ Expiry changed, fetching data for:', symbol, expiry);\r\n            fetchData();\r\n        }\r\n        prevExpiryRef.current = expiry;\r\n    }, [symbol, expiry, isExpiryValid, fetchData]);\r\n\r\n    // Polling fallback - only if WebSocket is not connected or not subscribed OR if there's an error\r\n    useEffect(() => {\r\n        // Always clear existing interval first\r\n        if (pollTimerRef.current) {\r\n            clearInterval(pollTimerRef.current);\r\n            pollTimerRef.current = null;\r\n        }\r\n\r\n        // Skip polling if WebSocket is connected AND subscribed AND NO ERROR\r\n        if (wsConnected && subscription && useWebSocket && !wsError) {\r\n            logger.log('ðŸ“¡ WebSocket active, polling disabled');\r\n            return;\r\n        }\r\n\r\n        // Stop polling if we have a specific \"Not Found\" error \r\n        if (data?.error && (data.error.includes(\"404\") || data.error.includes(\"Invalid\"))) {\r\n            return;\r\n        }\r\n\r\n        // Use polling as fallback\r\n        if (isPaused || !symbol) {\r\n            return;\r\n        }\r\n\r\n        logger.log('â±ï¸ Starting REST polling (WebSocket fallback)');\r\n        pollTimerRef.current = setInterval(fetchData, refreshInterval);\r\n\r\n        return () => {\r\n            if (pollTimerRef.current) {\r\n                clearInterval(pollTimerRef.current);\r\n                pollTimerRef.current = null;\r\n            }\r\n        };\r\n    }, [fetchData, refreshInterval, isPaused, symbol, wsConnected, subscription, useWebSocket, wsError, data?.error]);\r\n\r\n    // Manual refresh handler\r\n    const handleRefresh = useCallback(() => {\r\n        fetchData();\r\n    }, [fetchData]);\r\n\r\n    // Toggle pause/resume\r\n    const togglePause = useCallback(() => {\r\n        setIsPaused(prev => !prev);\r\n    }, []);\r\n\r\n    // Update polling interval\r\n    const updateInterval = useCallback((newInterval) => {\r\n        setRefreshInterval(newInterval);\r\n    }, []);\r\n\r\n    // Toggle WebSocket/Polling mode\r\n    const toggleWebSocket = useCallback(() => {\r\n        setUseWebSocket(prev => !prev);\r\n    }, []);\r\n\r\n    // Memoized return object to prevent unnecessary re-renders of consumers\r\n    return useMemo(() => ({\r\n        // Data\r\n        data,\r\n        spotData,\r\n        futuresData,\r\n        expiryList,\r\n        symbol,\r\n        expiry,\r\n\r\n        // Status\r\n        isLoading,\r\n        isInitialLoad,\r\n        isPaused,\r\n        lastUpdated,\r\n        refreshInterval,\r\n        hasData,\r\n\r\n        // WebSocket status\r\n        isWebSocketConnected: wsConnected,\r\n        isStreaming: wsConnected && !!subscription,\r\n        wsError,\r\n        useWebSocket,\r\n\r\n        // Actions\r\n        refresh: handleRefresh,\r\n        togglePause,\r\n        setRefreshInterval: updateInterval,\r\n        toggleWebSocket,\r\n    }), [\r\n        data, spotData, futuresData, expiryList, symbol, expiry,\r\n        isLoading, isInitialLoad, isPaused, lastUpdated, refreshInterval, hasData,\r\n        wsConnected, subscription, wsError, useWebSocket,\r\n        handleRefresh, togglePause, updateInterval, toggleWebSocket\r\n    ]);\r\n};\r\n\r\nexport default useOptionsChain;\r\n","import { useMemo } from 'react';\n\n/**\n * Hook to calculate percentage-based highlighting for VOL, OI, OI CHG columns\n * \n * Rules:\n * 1. Find 100% reference from valid strikes (ATM to 2 ITM + all OTM)\n * 2. Calculate percentage for ALL visible strikes\n * 3. Assign ranks and colors based on value\n */\n\nconst COLUMNS = ['volume', 'oi', 'oichng'];\nconst SIDES = ['ce', 'pe'];\n\n/**\n * Determine if a strike is ITM and how deep\n * @returns {number} ITM depth (0 = ATM/OTM, 1+ = ITM depth)\n */\nconst getITMDepth = (strike, atmStrike, side) => {\n    if (!atmStrike) return 0;\n\n    if (side === 'ce') {\n        // CE is ITM when strike < ATM\n        return strike < atmStrike ? Math.round((atmStrike - strike) / 50) : 0; // Assuming 50 point step\n    } else {\n        // PE is ITM when strike > ATM\n        return strike > atmStrike ? Math.round((strike - atmStrike) / 50) : 0;\n    }\n};\n\n/**\n * Get background color class based on rank and percentage\n * More saturated colors for better visibility\n */\nconst getHighlightColor = (pct, rank, side, _itmDepth) => {\n    // Special case: > 100% (High Saturation Blue)\n    if (pct > 100) {\n        return 'bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-100 font-bold border border-blue-300 dark:border-blue-600';\n    }\n\n    // Rank 1 (Highest) - Rose/Emerald (Strong)\n    if (rank === 1) {\n        return side === 'ce'\n            ? 'bg-rose-200 dark:bg-rose-800 text-rose-950 dark:text-white font-bold border border-rose-300 dark:border-rose-600 shadow-sm'\n            : 'bg-emerald-200 dark:bg-emerald-800 text-emerald-950 dark:text-white font-bold border border-emerald-300 dark:border-emerald-600 shadow-sm';\n    }\n\n    // Rank 2 - Yellow (Medium)\n    if (rank === 2) {\n        return 'bg-yellow-100 dark:bg-yellow-900/40 text-yellow-900 dark:text-yellow-100 font-semibold border border-yellow-200 dark:border-yellow-700/50';\n    }\n\n    // Rank 3 - Very Light (Faint)\n    if (rank === 3) {\n        return side === 'ce'\n            ? 'bg-rose-50/50 dark:bg-rose-900/10 text-rose-700 dark:text-rose-300/70'\n            : 'bg-emerald-50/50 dark:bg-emerald-900/10 text-emerald-700 dark:text-emerald-300/70';\n    }\n\n    return '';\n};\n\n/**\n * Calculate highlights for a single column on one side\n */\nconst calculateColumnHighlights = (strikes, optionData, atmStrike, column, side) => {\n    const result = {};\n    const values = [];\n\n    // Collect values with metadata\n    strikes.forEach(strike => {\n        const strikeKey = strike.toString();\n        const data = optionData?.oc?.[strikeKey] || optionData?.oc?.[`${strike}.000000`] || {};\n        const sideData = data[side] || {};\n\n        let value = 0;\n        let rawValue = 0; // Keep track of original value for OI CHG\n        let isNegative = false;\n\n        if (column === 'volume') {\n            value = sideData.volume || 0;\n            rawValue = value;\n        } else if (column === 'oi') {\n            value = sideData.OI || sideData.oi || 0;\n            rawValue = value;\n        } else if (column === 'oichng') {\n            // For OI CHG: only positive values count for 100% reference\n            rawValue = sideData.oichng || 0;\n            isNegative = rawValue < 0;\n            value = rawValue > 0 ? rawValue : 0; // Only positive for ranking\n        }\n\n        const itmDepth = getITMDepth(strike, atmStrike, side);\n        const isValidFor100 = itmDepth <= 2; // Valid for 100% candidate if <= 2 ITM\n\n        values.push({\n            strike,\n            value, // Positive value for ranking\n            rawValue, // Original value for percentage display\n            isNegative, // Track if this is a negative OI CHG\n            itmDepth,\n            isValidFor100,\n        });\n    });\n\n    // Find max from valid candidates (only positive values for OI CHG)\n    const validValues = values.filter(v => v.isValidFor100 && v.value > 0);\n    const maxValue = validValues.length > 0\n        ? Math.max(...validValues.map(v => v.value))\n        : 0;\n\n    if (maxValue === 0) {\n        // No valid data, return empty highlights\n        strikes.forEach(strike => {\n            result[strike] = { pct: 0, rank: 0, color: '' };\n        });\n        return result;\n    }\n\n    // Calculate percentages and sort for ranking\n    const withPct = values.map(v => ({\n        ...v,\n        // For negative OI CHG: calculate pct using absolute value\n        pct: column === 'oichng' && v.isNegative\n            ? (Math.abs(v.rawValue) / maxValue) * 100\n            : (v.value / maxValue) * 100,\n    }));\n\n    // Sort by value descending for ranking (only count positive values for ranking)\n    const sorted = [...withPct].filter(v => v.value > 0).sort((a, b) => b.value - a.value);\n\n    // Assign ranks (only to positive non-zero values)\n    const ranks = {};\n    let currentRank = 0;\n    let lastValue = null;\n    sorted.forEach((item, idx) => {\n        if (item.value > 0) {\n            if (item.value !== lastValue) {\n                currentRank = idx + 1;\n                lastValue = item.value;\n            }\n            ranks[item.strike] = currentRank;\n        }\n    });\n\n    // Build result\n    withPct.forEach(item => {\n        const rank = ranks[item.strike] || 0;\n        // Negative OI CHG values get NO color highlight\n        const color = (item.value > 0 && !item.isNegative)\n            ? getHighlightColor(item.pct, rank, side, item.itmDepth)\n            : '';\n\n        result[item.strike] = {\n            pct: item.pct,\n            rank,\n            color,\n        };\n    });\n\n    return result;\n};\n\n/**\n * Main hook - calculates all highlights for the visible strikes\n * \n * @param {number[]} visibleStrikes - Array of visible strike prices\n * @param {Object} optionData - Full option chain data\n * @param {number} atmStrike - ATM strike price\n * @returns {Object} highlightData keyed by strike\n */\nexport const usePercentageHighlights = (visibleStrikes, optionData, atmStrike) => {\n    return useMemo(() => {\n        if (!visibleStrikes || visibleStrikes.length === 0 || !optionData?.oc) {\n            return {};\n        }\n\n        const result = {};\n\n        // Initialize result structure\n        visibleStrikes.forEach(strike => {\n            result[strike] = {};\n        });\n\n        // Calculate for each column and side\n        SIDES.forEach(side => {\n            COLUMNS.forEach(column => {\n                const columnHighlights = calculateColumnHighlights(\n                    visibleStrikes,\n                    optionData,\n                    atmStrike,\n                    column,\n                    side\n                );\n\n                // Merge into result\n                const key = `${side}_${column}`;\n                Object.entries(columnHighlights).forEach(([strike, data]) => {\n                    if (result[strike]) {\n                        result[strike][key] = data;\n                    }\n                });\n            });\n        });\n\n        return result;\n    }, [visibleStrikes, optionData, atmStrike]);\n};\n\nexport default usePercentageHighlights;\n","/* eslint-disable react-refresh/only-export-components */\nimport { createContext, useContext, useState, useCallback, useMemo } from 'react';\n\n/**\n * Column Configuration Context\n * Manages dynamic column visibility and ordering for Option Chain table\n */\n\n// All available columns with metadata\n// Default view: LTP/Chg, Vol, OI, OI Chg, IV, Delta\nexport const AVAILABLE_COLUMNS = {\n  // Call columns (left side) - Order: LTP, Vol, OI, OIChg, IV, Delta, then rest\n  ce_ltp: { id: 'ce_ltp', label: 'LTP', side: 'ce', category: 'price', defaultVisible: true, width: 'w-20' },\n  ce_chng: { id: 'ce_chng', label: 'Chg', side: 'ce', category: 'price', defaultVisible: false, width: 'w-16' }, // Hidden since LTP shows change\n  ce_volume: { id: 'ce_volume', label: 'Volume', side: 'ce', category: 'volume', defaultVisible: true, width: 'w-20' },\n  ce_oi: { id: 'ce_oi', label: 'OI', side: 'ce', category: 'oi', defaultVisible: true, width: 'w-24' },\n  ce_oichng: { id: 'ce_oichng', label: 'OI Chg', side: 'ce', category: 'oi', defaultVisible: true, width: 'w-20' },\n  ce_iv: { id: 'ce_iv', label: 'IV', side: 'ce', category: 'greeks', defaultVisible: true, width: 'w-16' },\n  ce_delta: { id: 'ce_delta', label: 'Delta', side: 'ce', category: 'greeks', defaultVisible: true, width: 'w-16' },\n  ce_gamma: { id: 'ce_gamma', label: 'Gamma', side: 'ce', category: 'greeks', defaultVisible: false, width: 'w-16' },\n  ce_theta: { id: 'ce_theta', label: 'Theta', side: 'ce', category: 'greeks', defaultVisible: false, width: 'w-16' },\n  ce_vega: { id: 'ce_vega', label: 'Vega', side: 'ce', category: 'greeks', defaultVisible: false, width: 'w-16' },\n  ce_buildup: { id: 'ce_buildup', label: 'Buildup', side: 'ce', category: 'analysis', defaultVisible: false, width: 'w-16' },\n  ce_bid: { id: 'ce_bid', label: 'Bid', side: 'ce', category: 'depth', defaultVisible: false, width: 'w-16' },\n  ce_ask: { id: 'ce_ask', label: 'Ask', side: 'ce', category: 'depth', defaultVisible: false, width: 'w-16' },\n  ce_pcr: { id: 'ce_pcr', label: 'PCR', side: 'ce', category: 'analysis', defaultVisible: false, width: 'w-16' },\n  \n  // Put columns (right side) - mirror of CE\n  pe_ltp: { id: 'pe_ltp', label: 'LTP', side: 'pe', category: 'price', defaultVisible: true, width: 'w-20' },\n  pe_chng: { id: 'pe_chng', label: 'Chg', side: 'pe', category: 'price', defaultVisible: false, width: 'w-16' },\n  pe_volume: { id: 'pe_volume', label: 'Volume', side: 'pe', category: 'volume', defaultVisible: true, width: 'w-20' },\n  pe_oi: { id: 'pe_oi', label: 'OI', side: 'pe', category: 'oi', defaultVisible: true, width: 'w-24' },\n  pe_oichng: { id: 'pe_oichng', label: 'OI Chg', side: 'pe', category: 'oi', defaultVisible: true, width: 'w-20' },\n  pe_iv: { id: 'pe_iv', label: 'IV', side: 'pe', category: 'greeks', defaultVisible: true, width: 'w-16' },\n  pe_delta: { id: 'pe_delta', label: 'Delta', side: 'pe', category: 'greeks', defaultVisible: true, width: 'w-16' },\n  pe_gamma: { id: 'pe_gamma', label: 'Gamma', side: 'pe', category: 'greeks', defaultVisible: false, width: 'w-16' },\n  pe_theta: { id: 'pe_theta', label: 'Theta', side: 'pe', category: 'greeks', defaultVisible: false, width: 'w-16' },\n  pe_vega: { id: 'pe_vega', label: 'Vega', side: 'pe', category: 'greeks', defaultVisible: false, width: 'w-16' },\n  pe_buildup: { id: 'pe_buildup', label: 'Buildup', side: 'pe', category: 'analysis', defaultVisible: false, width: 'w-16' },\n  pe_bid: { id: 'pe_bid', label: 'Bid', side: 'pe', category: 'depth', defaultVisible: false, width: 'w-16' },\n  pe_ask: { id: 'pe_ask', label: 'Ask', side: 'pe', category: 'depth', defaultVisible: false, width: 'w-16' },\n  pe_pcr: { id: 'pe_pcr', label: 'PCR', side: 'pe', category: 'analysis', defaultVisible: false, width: 'w-16' },\n  \n  // Strike-level data\n  strike_reversal: { id: 'strike_reversal', label: 'Reversal', side: 'strike', category: 'signals', defaultVisible: false, width: 'w-20' },\n  strike_signals: { id: 'strike_signals', label: 'Signals', side: 'strike', category: 'signals', defaultVisible: false, width: 'w-24' },\n};\n\n// Column categories for grouping in selector\nexport const COLUMN_CATEGORIES = {\n  oi: { label: 'Open Interest', color: 'bg-blue-500' },\n  volume: { label: 'Volume', color: 'bg-purple-500' },\n  price: { label: 'Price', color: 'bg-green-500' },\n  greeks: { label: 'Greeks', color: 'bg-orange-500' },\n  depth: { label: 'Market Depth', color: 'bg-cyan-500' },\n  analysis: { label: 'Analysis', color: 'bg-pink-500' },\n  signals: { label: 'Signals', color: 'bg-yellow-500' },\n};\n\nconst STORAGE_KEY = 'option_chain_columns';\n\n// Default column order: IV, Delta (outer) -> OI Chg -> OI -> Vol -> LTP (near strike)\nconst DEFAULT_CE_ORDER = ['ce_iv', 'ce_delta', 'ce_oichng', 'ce_oi', 'ce_volume', 'ce_ltp'];\nconst DEFAULT_PE_ORDER = ['pe_ltp', 'pe_volume', 'pe_oi', 'pe_oichng', 'pe_delta', 'pe_iv'];\n\nconst ColumnConfigContext = createContext(null);\n\nexport function ColumnConfigProvider({ children }) {\n  // Load saved preferences or use defaults\n  const [columnConfig, setColumnConfig] = useState(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        return JSON.parse(saved);\n      }\n    } catch (e) {\n      console.warn('Failed to load column config:', e);\n    }\n    \n    // Default visibility based on column definitions\n    const defaultVisibility = {};\n    Object.values(AVAILABLE_COLUMNS).forEach(col => {\n      defaultVisibility[col.id] = col.defaultVisible;\n    });\n    \n    return {\n      visibility: defaultVisibility,\n      ceOrder: DEFAULT_CE_ORDER,\n      peOrder: DEFAULT_PE_ORDER,\n    };\n  });\n\n  // Toggle column visibility\n  const toggleColumn = useCallback((columnId) => {\n    setColumnConfig(prev => {\n      const newConfig = {\n        ...prev,\n        visibility: {\n          ...prev.visibility,\n          [columnId]: !prev.visibility[columnId],\n        },\n      };\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newConfig));\n      return newConfig;\n    });\n  }, []);\n\n  // Set multiple columns visibility at once\n  const setColumnsVisibility = useCallback((updates) => {\n    setColumnConfig(prev => {\n      const newConfig = {\n        ...prev,\n        visibility: {\n          ...prev.visibility,\n          ...updates,\n        },\n      };\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newConfig));\n      return newConfig;\n    });\n  }, []);\n\n  // Reset to defaults\n  const resetToDefaults = useCallback(() => {\n    const defaultVisibility = {};\n    Object.values(AVAILABLE_COLUMNS).forEach(col => {\n      defaultVisibility[col.id] = col.defaultVisible;\n    });\n    \n    const newConfig = {\n      visibility: defaultVisibility,\n      ceOrder: DEFAULT_CE_ORDER,\n      peOrder: DEFAULT_PE_ORDER,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(newConfig));\n    setColumnConfig(newConfig);\n  }, []);\n\n  // Get visible columns for a side\n  const getVisibleColumns = useCallback((side) => {\n    const order = side === 'ce' ? columnConfig.ceOrder : columnConfig.peOrder;\n    return order\n      .filter(id => columnConfig.visibility[id])\n      .map(id => AVAILABLE_COLUMNS[id])\n      .filter(Boolean);\n  }, [columnConfig]);\n\n  // Check if a column is visible\n  const isColumnVisible = useCallback((columnId) => {\n    return columnConfig.visibility[columnId] ?? false;\n  }, [columnConfig.visibility]);\n\n  const value = useMemo(() => ({\n    columnConfig,\n    toggleColumn,\n    setColumnsVisibility,\n    resetToDefaults,\n    getVisibleColumns,\n    isColumnVisible,\n    allColumns: AVAILABLE_COLUMNS,\n    categories: COLUMN_CATEGORIES,\n  }), [columnConfig, toggleColumn, setColumnsVisibility, resetToDefaults, getVisibleColumns, isColumnVisible]);\n\n  return (\n    <ColumnConfigContext.Provider value={value}>\n      {children}\n    </ColumnConfigContext.Provider>\n  );\n}\n\nexport function useColumnConfig() {\n  const context = useContext(ColumnConfigContext);\n  if (!context) {\n    throw new Error('useColumnConfig must be used within ColumnConfigProvider');\n  }\n  return context;\n}\n\nexport default ColumnConfigContext;\n","import { memo } from 'react';\r\nimport { useColumnConfig } from '../../../context/ColumnConfigContext';\r\nimport { useTableSettings } from '../../../context/TableSettingsContext';\r\n\r\n/**\r\n * Dynamic Option Chain Table Header\r\n * Column Order: IV/Delta at edges | OI Chg | OI | Vol | LTP/Chg | STRIKE | LTP/Chg | Vol | OI | OI Chg | Delta/IV\r\n * Clickable columns: OI, OI Chg, Vol open aggregate chart modal\r\n */\r\nconst TableHeader = memo(({ onColumnClick }) => {\r\n    const { isColumnVisible } = useColumnConfig();\r\n    const { settings } = useTableSettings();\r\n\r\n    const isCompact = settings.compactMode;\r\n    const basePadding = isCompact ? 'p-1.5' : 'p-2.5';\r\n    const commonHeaders = `${basePadding} text-center font-semibold text-sm uppercase text-gray-600 dark:text-gray-300 tracking-wide whitespace-nowrap border-b border-gray-200 dark:border-gray-700`;\r\n    const clickableHeader = `${commonHeaders} cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 transition-colors`;\r\n    const centerHeader = `${basePadding} text-center font-bold text-base tracking-wide sticky left-0 z-20 bg-gray-100 dark:bg-gray-800 border-x-2 border-gray-300 dark:border-gray-600 min-w-[100px]`;\r\n\r\n    // Count visible columns for colspan\r\n    const ceColumns = [\r\n        'ce_iv', 'ce_delta', 'ce_gamma', 'ce_theta', 'ce_vega',\r\n        'ce_oichng', 'ce_oi', 'ce_volume', 'ce_ltp', 'ce_chng', 'ce_buildup', 'ce_bid', 'ce_ask'\r\n    ];\r\n    const peColumns = [\r\n        'pe_ltp', 'pe_chng', 'pe_bid', 'pe_ask',\r\n        'pe_volume', 'pe_oi', 'pe_oichng',\r\n        'pe_delta', 'pe_iv', 'pe_gamma', 'pe_theta', 'pe_vega', 'pe_buildup'\r\n    ];\r\n\r\n    const ceColspan = ceColumns.filter(id => isColumnVisible(id)).length || 1;\r\n    const peColspan = peColumns.filter(id => isColumnVisible(id)).length || 1;\r\n\r\n    return (\r\n        <thead className=\"bg-gray-50 dark:bg-gray-900 sticky top-0 z-20 shadow-sm\">\r\n            <tr>\r\n                {/* CALLS */}\r\n                {/* CALLS (Red/Resistance) */}\r\n                <th colSpan={ceColspan} className={`${basePadding} text-center font-bold text-base border-b border-rose-200 dark:border-rose-900/50 bg-white dark:bg-slate-900 group`}>\r\n                    <span className=\"text-rose-600 dark:text-rose-400\">CALLS</span> <span className=\"text-gray-400 text-xs font-normal ml-1\">(Resistance)</span>\r\n                </th>\r\n                {/* STRIKE */}\r\n                <th className={`${basePadding} bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-gray-700`}></th>\r\n                {/* PUTS */}\r\n                {/* PUTS (Green/Support) */}\r\n                <th colSpan={peColspan} className={`${basePadding} text-center font-bold text-base border-b border-emerald-200 dark:border-emerald-900/50 bg-white dark:bg-slate-900 group`}>\r\n                    <span className=\"text-emerald-600 dark:text-emerald-400\">PUTS</span> <span className=\"text-gray-400 text-xs font-normal ml-1\">(Support)</span>\r\n                </th>\r\n            </tr>\r\n            <tr className=\"bg-gray-100 dark:bg-gray-800/50\">\r\n                {/* CALLS COLUMNS - Order: IV, Delta (outer) -> OI Chg -> OI -> Vol -> LTP (near strike) */}\r\n                {isColumnVisible('ce_iv') && <th className={`${commonHeaders} cursor-help text-blue-600 dark:text-blue-400`} title=\"Hover for all Greeks\">IV â“˜</th>}\r\n                {isColumnVisible('ce_delta') && <th className={commonHeaders}>Î”</th>}\r\n                {isColumnVisible('ce_gamma') && <th className={commonHeaders}>Î“</th>}\r\n                {isColumnVisible('ce_theta') && <th className={`${commonHeaders} text-red-500`}>Î˜</th>}\r\n                {isColumnVisible('ce_vega') && <th className={commonHeaders}>Î½</th>}\r\n                {/* OI Chg = Standard, Call OI = Default */}\r\n                {isColumnVisible('ce_oichng') && <th className={clickableHeader} onClick={() => onColumnClick?.('oi_chng')} title=\"Click for OI Change Distribution\">OI Chg ðŸ“Š</th>}\r\n                {isColumnVisible('ce_oi') && <th className={clickableHeader} onClick={() => onColumnClick?.('oi')} title=\"Click for OI Distribution\">OI ðŸ“Š</th>}\r\n                {isColumnVisible('ce_volume') && <th className={clickableHeader} onClick={() => onColumnClick?.('volume')} title=\"Click for Volume Distribution\">Vol ðŸ“Š</th>}\r\n                {isColumnVisible('ce_buildup') && <th className={commonHeaders}>Buildup</th>}\r\n                {isColumnVisible('ce_ltp') && <th className={`${commonHeaders} font-bold`}>LTP / Chg</th>}\r\n                {isColumnVisible('ce_chng') && !isColumnVisible('ce_ltp') && <th className={commonHeaders}>Chg</th>}\r\n                {isColumnVisible('ce_bid') && <th className={commonHeaders}>Bid</th>}\r\n                {isColumnVisible('ce_ask') && <th className={commonHeaders}>Ask</th>}\r\n\r\n                {/* CENTER STRIKE */}\r\n                <th className={centerHeader}>\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <span>STRIKE</span>\r\n                        <span className=\"text-[9px] text-gray-500 font-normal\">PCR</span>\r\n                    </div>\r\n                </th>\r\n\r\n                {/* PUTS COLUMNS - Order: LTP (near strike) -> Vol -> OI -> OI Chg -> Delta, IV (outer) */}\r\n                {isColumnVisible('pe_bid') && <th className={`${commonHeaders}`}>Bid</th>}\r\n                {isColumnVisible('pe_ask') && <th className={`${commonHeaders}`}>Ask</th>}\r\n                {isColumnVisible('pe_ltp') && <th className={`${commonHeaders} font-bold`}>LTP / Chg</th>}\r\n                {isColumnVisible('pe_chng') && !isColumnVisible('pe_ltp') && <th className={`${commonHeaders}`}>Chg</th>}\r\n                {isColumnVisible('pe_buildup') && <th className={`${commonHeaders}`}>Buildup</th>}\r\n                {isColumnVisible('pe_volume') && <th className={clickableHeader} onClick={() => onColumnClick?.('volume')} title=\"Click for Volume Distribution\">Vol ðŸ“Š</th>}\r\n                {/* Put OI = Default, Put OI Chg = Standard */}\r\n                {isColumnVisible('pe_oi') && <th className={clickableHeader} onClick={() => onColumnClick?.('oi')} title=\"Click for OI Distribution\">OI ðŸ“Š</th>}\r\n                {isColumnVisible('pe_oichng') && <th className={clickableHeader} onClick={() => onColumnClick?.('oi_chng')} title=\"Click for OI Change Distribution\">OI Chg ðŸ“Š</th>}\r\n                {isColumnVisible('pe_delta') && <th className={`${commonHeaders}`}>Î”</th>}\r\n                {isColumnVisible('pe_iv') && <th className={`${commonHeaders} cursor-help text-blue-600 dark:text-blue-400`} title=\"Hover for all Greeks\">IV â“˜</th>}\r\n                {isColumnVisible('pe_gamma') && <th className={`${commonHeaders}`}>Î“</th>}\r\n                {isColumnVisible('pe_theta') && <th className={`${commonHeaders} text-red-500`}>Î˜</th>}\r\n                {isColumnVisible('pe_vega') && <th className={`${commonHeaders}`}>Î½</th>}\r\n            </tr>\r\n        </thead>\r\n    );\r\n});\r\n\r\nTableHeader.displayName = 'TableHeader';\r\n\r\nexport default TableHeader;\r\n","/**\r\n * Application Constants\r\n * Centralized configuration values\r\n */\r\n\r\n// Supported trading symbols\r\nexport const SYMBOLS = [\r\n    { value: 'NIFTY', label: 'NIFTY 50' },\r\n    { value: 'BANKNIFTY', label: 'Bank NIFTY' },\r\n    { value: 'FINNIFTY', label: 'Fin NIFTY' },\r\n    { value: 'MIDCPNIFTY', label: 'Midcap NIFTY' },\r\n];\r\n\r\nexport const SYMBOL_LIST = ['NIFTY', 'BANKNIFTY', 'FINNIFTY', 'MIDCPNIFTY'];\r\n\r\n// Option table headers\r\nexport const TABLE_HEADERS = {\r\n    CE: [\r\n        { key: 'oi', label: 'OI', subtitle: 'Call' },\r\n        { key: 'oichng', label: 'OI Chg' },\r\n        { key: 'volume', label: 'Vol' },\r\n        { key: 'iv', label: 'IV' },\r\n        { key: 'ltp', label: 'LTP' },\r\n        { key: 'chng', label: 'Chg' },\r\n        { key: 'bid', label: 'Bid' },\r\n        { key: 'ask', label: 'Ask' },\r\n    ],\r\n    PE: [\r\n        { key: 'bid', label: 'Bid' },\r\n        { key: 'ask', label: 'Ask' },\r\n        { key: 'chng', label: 'Chg' },\r\n        { key: 'ltp', label: 'LTP' },\r\n        { key: 'iv', label: 'IV' },\r\n        { key: 'volume', label: 'Vol' },\r\n        { key: 'oichng', label: 'OI Chg' },\r\n        { key: 'oi', label: 'OI', subtitle: 'Put' },\r\n    ],\r\n};\r\n\r\n// Theme options\r\nexport const THEME = {\r\n    DARK: 'dark',\r\n    LIGHT: 'light',\r\n};\r\n\r\n// API endpoints (relative to base URL)\r\nexport const API_ENDPOINTS = {\r\n    // Options\r\n    OPTIONS_LIVE: '/options/live',\r\n    OPTIONS_EXPIRY: '/options/expiry',\r\n    OPTIONS_PERCENTAGE: '/options/percentage',\r\n    OPTIONS_IV: '/options/iv',\r\n    OPTIONS_DELTA: '/options/delta',\r\n    OPTIONS_FUTURE: '/options/future',\r\n\r\n    // Auth\r\n    AUTH_LOGIN: '/auth/login',\r\n    AUTH_REGISTER: '/auth/register',\r\n    AUTH_LOGOUT: '/auth/logout',\r\n    AUTH_REFRESH: '/auth/refresh',\r\n\r\n    // User\r\n    USER_PROFILE: '/user/profile',\r\n    USER_SETTINGS: '/user/settings',\r\n};\r\n\r\n// Build-up types from Dhan API\r\nexport const BUILDUP_TYPES = {\r\n    LB: { code: 'LB', name: 'LONG BUILDUP', color: 'success', description: 'Bullish - Price up, OI up' },\r\n    SB: { code: 'SB', name: 'SHORT BUILDUP', color: 'danger', description: 'Bearish - Price down, OI up' },\r\n    SC: { code: 'SC', name: 'SHORT COVERING', color: 'success', description: 'Bullish - Price up, OI down' },\r\n    LC: { code: 'LC', name: 'LONG UNWINDING', color: 'danger', description: 'Bearish - Price down, OI down' },\r\n    NT: { code: 'NT', name: 'NEUTRAL', color: 'default', description: 'No significant change' },\r\n};\r\n\r\n// Chart colors\r\nexport const CHART_COLORS = {\r\n    primary: '#3b82f6',\r\n    success: '#22c55e',\r\n    danger: '#ef4444',\r\n    warning: '#f59e0b',\r\n    info: '#6366f1',\r\n    call: '#22c55e',\r\n    put: '#ef4444',\r\n};\r\n\r\n// Timeframes for charts\r\nexport const TIMEFRAMES = {\r\n    '1m': { label: '1 Min', minutes: 1 },\r\n    '5m': { label: '5 Min', minutes: 5 },\r\n    '15m': { label: '15 Min', minutes: 15 },\r\n    '30m': { label: '30 Min', minutes: 30 },\r\n    '1h': { label: '1 Hour', minutes: 60 },\r\n    '4h': { label: '4 Hours', minutes: 240 },\r\n    '1d': { label: '1 Day', minutes: 1440 },\r\n};\r\n\r\n// Market hours (IST)\r\nexport const MARKET_HOURS = {\r\n    open: { hour: 9, minute: 15 },\r\n    close: { hour: 15, minute: 30 },\r\n};\r\n\r\n// Local storage keys\r\nexport const STORAGE_KEYS = {\r\n    AUTH_TOKEN: 'authToken',\r\n    USER: 'user',\r\n    THEME: 'theme',\r\n    SELECTED_SYMBOL: 'selectedSymbol',\r\n    SELECTED_EXPIRY: 'selectedExpiry',\r\n};\r\n\r\n// Pagination defaults\r\nexport const PAGINATION = {\r\n    DEFAULT_PAGE_SIZE: 20,\r\n    PAGE_SIZE_OPTIONS: [10, 20, 50, 100],\r\n};\r\n","import { memo, useState, useCallback, useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BUILDUP_TYPES } from '../../../constants';\r\nimport { useColumnConfig } from '../../../context/ColumnConfigContext';\r\nimport { useTableSettings } from '../../../context/TableSettingsContext';\r\nimport { XMarkIcon, ChartBarIcon } from '@heroicons/react/24/outline';\r\n\r\n/**\r\n * Format number as K/M/B/T\r\n */\r\nconst formatNumber = (num) => {\r\n  if (num === null || num === undefined) return 'â€”';\r\n  if (num === 0) return '0';\r\n\r\n  const absNum = Math.abs(num);\r\n  const sign = num < 0 ? '-' : '';\r\n\r\n  if (absNum >= 1e12) return sign + (absNum / 1e12).toFixed(2) + 'T';\r\n  if (absNum >= 1e9) return sign + (absNum / 1e9).toFixed(2) + 'B';\r\n  if (absNum >= 1e6) return sign + (absNum / 1e6).toFixed(2) + 'M';\r\n  if (absNum >= 1e3) return sign + (absNum / 1e3).toFixed(1) + 'K';\r\n  return sign + absNum.toFixed(0);\r\n};\r\n\r\n/**\r\n * Greeks Tooltip - Shows all 12 Greeks on hover\r\n */\r\nconst GreeksTooltip = memo(({ optgeeks, isVisible, position }) => {\r\n  if (!isVisible || !optgeeks) return null;\r\n\r\n  const greekItems = [\r\n    { key: 'delta', label: 'Î” Delta', color: 'text-blue-500' },\r\n    { key: 'gamma', label: 'Î“ Gamma', color: 'text-green-500' },\r\n    { key: 'theta', label: 'Î˜ Theta', color: 'text-red-500' },\r\n    { key: 'vega', label: 'Î½ Vega', color: 'text-purple-500' },\r\n    { key: 'rho', label: 'Ï Rho', color: 'text-cyan-500' },\r\n    { key: 'vanna', label: 'Vanna', color: 'text-orange-400' },\r\n    { key: 'vomma', label: 'Vomma', color: 'text-pink-500' },\r\n    { key: 'charm', label: 'Charm', color: 'text-yellow-500' },\r\n    { key: 'speed', label: 'Speed', color: 'text-indigo-500' },\r\n    { key: 'zomma', label: 'Zomma', color: 'text-lime-500' },\r\n    { key: 'color', label: 'Color', color: 'text-amber-500' },\r\n    { key: 'ultima', label: 'Ultima', color: 'text-rose-500' },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className={`\r\n        absolute z-50 bg-gray-900/95 dark:bg-gray-800/95 text-white\r\n        rounded-lg shadow-2xl p-3 min-w-[220px]\r\n        border border-gray-700\r\n        ${position === 'left' ? 'right-full mr-2' : 'left-full ml-2'}\r\n      `}\r\n      style={{ top: '50%', transform: 'translateY(-50%)' }}\r\n    >\r\n      <div className=\"text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wider\">\r\n        Option Greeks\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5\">\r\n        {greekItems.map(({ key, label, color }) => (\r\n          <div key={key} className=\"flex justify-between items-center text-xs\">\r\n            <span className={`${color} font-medium`}>{label}</span>\r\n            <span className=\"text-gray-300 font-mono\">\r\n              {optgeeks[key]?.toFixed(4) ?? 'â€”'}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nGreeksTooltip.displayName = 'GreeksTooltip';\r\n\r\n/**\r\n * Strike Detail Popup - Shows support/resistance from reversal at strike level\r\n */\r\nconst StrikeDetailPopup = memo(({ data, strike, spotPrice, onClose }) => {\r\n  if (!data) return null;\r\n\r\n  const ce = data.ce || {};\r\n  const pe = data.pe || {};\r\n\r\n  const ce_oi = ce.OI || ce.oi || 0;\r\n  const pe_oi = pe.OI || pe.oi || 0;\r\n  const ce_oi_chng = ce.oichng || 0;\r\n  const pe_oi_chng = pe.oichng || 0;\r\n\r\n  // PCR calculations\r\n  const pcr_oi = ce_oi > 0 ? (pe_oi / ce_oi) : 0;\r\n  const pcr_oi_chng = ce_oi_chng !== 0 ? (pe_oi_chng / ce_oi_chng) : 0;\r\n\r\n  // Reversal at strike level - resistance above spot, support below\r\n  const reversal = data.reversal || 0;\r\n  const wklyReversal = data.wkly_reversal || 0;\r\n  const futReversal = data.fut_reversal || 0;\r\n  const isAboveSpot = strike > (spotPrice || 0);\r\n  const strikePCR = data.pcr || pcr_oi;\r\n\r\n  // Trading signals\r\n  const signals = data.trading_signals || {};\r\n  const _priceRange = data.price_range || {};\r\n  const _regime = data.market_regimes || {};\r\n\r\n  const getPCRColor = (pcrValue) => {\r\n    if (pcrValue > 1.5) return 'text-green-600 bg-green-50 dark:bg-green-900/30';\r\n    if (pcrValue > 1.0) return 'text-green-500 bg-green-50/50 dark:bg-green-900/20';\r\n    if (pcrValue > 0.7) return 'text-amber-600 bg-amber-50 dark:bg-amber-900/30';\r\n    return 'text-red-600 bg-red-50 dark:bg-red-900/30';\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={onClose}>\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h3 className=\"text-2xl font-bold\">Strike {strike}</h3>\r\n            <span className={`text-sm ${isAboveSpot ? 'text-red-500' : 'text-green-500'}`}>\r\n              {isAboveSpot ? 'â†‘ Above Spot (Resistance Zone)' : 'â†“ Below Spot (Support Zone)'}\r\n            </span>\r\n          </div>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\">\r\n            <XMarkIcon className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Reversal - Support/Resistance - COPYABLE */}\r\n        <div className=\"mb-5 p-4 rounded-xl bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border border-purple-200 dark:border-purple-700/50\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <ChartBarIcon className=\"w-5 h-5 text-purple-600\" />\r\n              <span className=\"font-semibold text-purple-700 dark:text-purple-300\">\r\n                {isAboveSpot ? 'Resistance Level' : 'Support Level'}\r\n              </span>\r\n            </div>\r\n            {reversal && (\r\n              <button\r\n                onClick={() => navigator.clipboard.writeText(reversal.toFixed(2))}\r\n                className=\"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-800 text-purple-700 dark:text-purple-200 rounded hover:bg-purple-200 dark:hover:bg-purple-700\"\r\n                title=\"Copy to clipboard\"\r\n              >\r\n                ðŸ“‹ Copy\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div\r\n            className=\"text-3xl font-bold text-purple-800 dark:text-purple-200 mb-2 cursor-pointer select-all\"\r\n            onClick={() => reversal && navigator.clipboard.writeText(reversal.toFixed(2))}\r\n            title=\"Click to copy\"\r\n          >\r\n            {reversal ? reversal.toFixed(2) : 'N/A'}\r\n          </div>\r\n          <div className=\"grid grid-cols-3 gap-3 text-sm\">\r\n            <div className=\"cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-800/50 p-1 rounded\" onClick={() => wklyReversal && navigator.clipboard.writeText(wklyReversal.toFixed(2))}>\r\n              <span className=\"text-gray-500 text-xs\">Weekly:</span>\r\n              <span className=\"ml-1 font-medium select-all\">{wklyReversal ? wklyReversal.toFixed(2) : 'â€”'}</span>\r\n            </div>\r\n            <div className=\"cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-800/50 p-1 rounded\" onClick={() => futReversal && navigator.clipboard.writeText(futReversal.toFixed(2))}>\r\n              <span className=\"text-gray-500 text-xs\">Futures:</span>\r\n              <span className=\"ml-1 font-medium select-all\">{futReversal ? futReversal.toFixed(2) : 'â€”'}</span>\r\n            </div>\r\n            <div className=\"cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-800/50 p-1 rounded\" onClick={() => strikePCR && navigator.clipboard.writeText(strikePCR.toFixed(2))}>\r\n              <span className=\"text-gray-500 text-xs\">PCR:</span>\r\n              <span className=\"ml-1 font-medium select-all\">{strikePCR ? strikePCR.toFixed(2) : 'â€”'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Dual PCR - OI and OI Change */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-5\">\r\n          <div className={`p-4 rounded-xl ${getPCRColor(pcr_oi)}`}>\r\n            <div className=\"text-xs text-gray-500 mb-1\">OI PCR (PE/CE)</div>\r\n            <div className=\"text-2xl font-bold\">{pcr_oi.toFixed(2)}</div>\r\n            <div className=\"text-xs mt-1\">\r\n              {pcr_oi > 1 ? 'ðŸŸ¢ Bullish' : 'ðŸ”´ Bearish'}\r\n            </div>\r\n          </div>\r\n          <div className={`p-4 rounded-xl ${getPCRColor(Math.abs(pcr_oi_chng))}`}>\r\n            <div className=\"text-xs text-gray-500 mb-1\">OI Chng PCR</div>\r\n            <div className=\"text-2xl font-bold\">{pcr_oi_chng.toFixed(2)}</div>\r\n            <div className=\"text-xs mt-1\">\r\n              {pcr_oi_chng > 1 ? 'ðŸ“ˆ Put Activity' : 'ðŸ“‰ Call Activity'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* OI Details */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-5\">\r\n          <div className=\"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl\">\r\n            <div className=\"text-xs text-green-600 mb-1\">Call OI</div>\r\n            <div className=\"text-xl font-bold text-green-700\">{formatNumber(ce_oi)}</div>\r\n            <div className={`text-sm ${ce_oi_chng >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n              {ce_oi_chng >= 0 ? '+' : ''}{formatNumber(ce_oi_chng)}\r\n            </div>\r\n          </div>\r\n          <div className=\"p-3 bg-red-50 dark:bg-red-900/20 rounded-xl\">\r\n            <div className=\"text-xs text-red-600 mb-1\">Put OI</div>\r\n            <div className=\"text-xl font-bold text-red-700\">{formatNumber(pe_oi)}</div>\r\n            <div className={`text-sm ${pe_oi_chng >= 0 ? 'text-red-600' : 'text-green-600'}`}>\r\n              {pe_oi_chng >= 0 ? '+' : ''}{formatNumber(pe_oi_chng)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Price Details */}\r\n        <div className=\"space-y-2 text-sm border-t pt-4 border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-gray-500\">CE LTP</span>\r\n            <span className=\"font-medium\">\r\n              â‚¹{ce.ltp?.toFixed(2) || 'â€”'}\r\n              <span className={`ml-1 text-xs ${ce.p_chng >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                ({ce.p_chng >= 0 ? '+' : ''}{ce.p_chng?.toFixed(2) || 0})\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-gray-500\">PE LTP</span>\r\n            <span className=\"font-medium\">\r\n              â‚¹{pe.ltp?.toFixed(2) || 'â€”'}\r\n              <span className={`ml-1 text-xs ${pe.p_chng >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                ({pe.p_chng >= 0 ? '+' : ''}{pe.p_chng?.toFixed(2) || 0})\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-gray-500\">CE IV / PE IV</span>\r\n            <span className=\"font-medium\">{ce.iv?.toFixed(1) || 'â€”'}% / {pe.iv?.toFixed(1) || 'â€”'}%</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-gray-500\">Straddle</span>\r\n            <span className=\"font-bold text-purple-600\">â‚¹{((ce.ltp || 0) + (pe.ltp || 0)).toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Trading Signals if available */}\r\n        {signals.entry && (\r\n          <div className=\"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl\">\r\n            <div className=\"text-xs text-blue-600 font-medium mb-2\">Trading Signals</div>\r\n            <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n              <div><span className=\"text-gray-500\">Entry:</span> <span className=\"font-bold\">{signals.entry?.toFixed(2)}</span></div>\r\n              <div><span className=\"text-gray-500\">SL:</span> <span className=\"font-bold text-red-600\">{signals.stop_loss?.toFixed(2)}</span></div>\r\n              <div><span className=\"text-gray-500\">TP:</span> <span className=\"font-bold text-green-600\">{signals.take_profit?.toFixed(2)}</span></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nStrikeDetailPopup.displayName = 'StrikeDetailPopup';\r\n\r\n/**\r\n * Clickable Cell - Universal clickable cell wrapper\r\n */\r\nconst ClickableCell = memo(({ children, onClick, className = '' }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className={`\r\n      cursor-pointer transition-all duration-150\r\n      hover:bg-blue-100 dark:hover:bg-blue-900/40\r\n      hover:ring-1 hover:ring-blue-300 dark:hover:ring-blue-700\r\n      rounded px-1 -mx-1\r\n      ${className}\r\n    `}\r\n  >\r\n    {children}\r\n  </div>\r\n));\r\n\r\nClickableCell.displayName = 'ClickableCell';\r\n\r\n/**\r\n * Buildup Indicator\r\n */\r\nconst BuildupIndicator = memo(({ type }) => {\r\n  const buildup = BUILDUP_TYPES[type] || BUILDUP_TYPES.NT;\r\n\r\n  const colors = {\r\n    success: 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300',\r\n    danger: 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300',\r\n    default: 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400',\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={`px-1.5 py-0.5 text-[11px] rounded font-medium ${colors[buildup.color]}`}\r\n      title={`${buildup.name}: ${buildup.description || ''}`}\r\n    >\r\n      {type}\r\n    </span>\r\n  );\r\n});\r\n\r\nBuildupIndicator.displayName = 'BuildupIndicator';\r\n\r\n/**\r\n * PCR Display - Shows OI PCR, OI Change PCR, and Volume PCR\r\n * PCR (Put/Call Ratio) - Buyer View styling\r\n */\r\nconst PCRDisplay = memo(({ oiPcr, oiChngPcr, volPcr, compact = false }) => {\r\n  // Only OI Change gets color\r\n  const getPCRColor = (value) => {\r\n    if (!value || value === 0) return 'text-gray-400 bg-gray-100 dark:bg-gray-700';\r\n    if (value > 1.2) return 'text-green-700 bg-green-100 dark:bg-green-900/50 dark:text-green-300';\r\n    if (value > 0.8) return 'text-amber-700 bg-amber-100 dark:bg-amber-900/50 dark:text-amber-300';\r\n    return 'text-red-700 bg-red-100 dark:bg-red-900/50 dark:text-red-300';\r\n  };\r\n\r\n  const textSize = compact ? 'text-[8px]' : 'text-[10px]';\r\n  const padding = compact ? 'px-0.5' : '';\r\n\r\n  return (\r\n    <div className={`flex items-center gap-0.5 ${textSize}`}>\r\n      {/* OI PCR - Simple text (no color) */}\r\n      <span className={`rounded font-medium ${padding} bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400`} title=\"OI PCR (PE/CE)\">\r\n        {oiPcr > 0 ? oiPcr.toFixed(1) : 'â€”'}\r\n      </span>\r\n      {/* OI Change PCR - Colored */}\r\n      <span className={`rounded font-medium ${padding} ${getPCRColor(Math.abs(oiChngPcr))}`} title=\"OI Change PCR\">\r\n        Î”{oiChngPcr !== 0 ? Math.abs(oiChngPcr).toFixed(1) : 'â€”'}\r\n      </span>\r\n      {/* Volume PCR - Simple text (no color) */}\r\n      <span className={`rounded font-medium ${padding} bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400`} title=\"Volume PCR (PE/CE)\">\r\n        V{volPcr > 0 ? volPcr.toFixed(1) : 'â€”'}\r\n      </span>\r\n    </div>\r\n  );\r\n});\r\n\r\nPCRDisplay.displayName = 'PCRDisplay';\r\n\r\n/**\r\n * Strike Row Component - Dynamic columns, all cells clickable\r\n * Enhanced with K/M/B formatting, dual PCR, larger font, combined LTP cell\r\n */\r\nconst StrikeRow = memo(({ data, strike, atmStrike, spotPrice, onCellClick, onStrikeSelect: _onStrikeSelect, onStrikeClick, highlightData }) => {\r\n  const { isColumnVisible } = useColumnConfig();\r\n  const { settings } = useTableSettings();\r\n\r\n  // Helper to get highlight background class\r\n  const getHighlight = (key) => highlightData?.[key]?.color || '';\r\n  // Helper to get percentage value\r\n  const getPct = (key) => highlightData?.[key]?.pct || 0;\r\n\r\n  const ce = useMemo(() => data.ce || {}, [data.ce]);\r\n  const pe = useMemo(() => data.pe || {}, [data.pe]);\r\n  const [hoveredGreeks, setHoveredGreeks] = useState(null);\r\n  const [showStrikePopup, setShowStrikePopup] = useState(false);\r\n\r\n  // ATM Calculation: Strict equality (with epsilon for floats) to highlight ONLY the exact ATM strike\r\n  const isATM = Math.abs(strike - atmStrike) < 0.01;\r\n  const isITM_CE = ce.mness === 'I';\r\n  const isITM_PE = pe.mness === 'I';\r\n  const showITM = settings.highlightITM;\r\n  const isCompact = settings.compactMode;\r\n\r\n  // Calculate strike PCR (OI, OI Change, and Volume)\r\n  const ce_oi = ce.OI || ce.oi || 0;\r\n  const pe_oi = pe.OI || pe.oi || 0;\r\n  const ce_oi_chng = ce.oichng || 0;\r\n  const pe_oi_chng = pe.oichng || 0;\r\n  const ce_vol = ce.volume || 0;\r\n  const pe_vol = pe.volume || 0;\r\n\r\n  const oiPcr = ce_oi > 0 ? pe_oi / ce_oi : 0;\r\n  const oiChngPcr = ce_oi_chng !== 0 ? pe_oi_chng / ce_oi_chng : 0;\r\n  const volPcr = ce_vol > 0 ? pe_vol / ce_vol : 0; // Reverted to PCR (PE/CE)\r\n\r\n  const handleCellClick = useCallback((side, field, value) => {\r\n    if (onCellClick) {\r\n      onCellClick({\r\n        strike,\r\n        side,\r\n        field,\r\n        value,\r\n        symbol: side === 'ce' ? ce.sym : pe.sym,\r\n        sid: side === 'ce' ? ce.sid : pe.sid,\r\n        fullData: data,\r\n      });\r\n    }\r\n  }, [strike, ce.sym, ce.sid, pe.sym, pe.sid, onCellClick, data]);\r\n\r\n  const handleStrikeClick = useCallback(() => {\r\n    // Trigger Strike Analysis Modal with full strike data\r\n    if (onStrikeClick) {\r\n      onStrikeClick({ strike, ce, pe, ...data });\r\n    } else {\r\n      setShowStrikePopup(true);\r\n    }\r\n  }, [onStrikeClick, strike, ce, pe, data]);\r\n\r\n  // Compact padding for smaller row height - but keep readable font\r\n  const cellPadding = isCompact ? 'py-1 px-1.5' : 'p-2';\r\n  const fontSize = 'text-sm'; // Always readable font size\r\n  // ITM background - subtle tint\r\n  const itmBg = (isITM) => showITM && isITM ? 'bg-yellow-50/50 dark:bg-yellow-900/10' : '';\r\n  // Cell class builder - highlight takes priority over ITM\r\n  const cellClass = (isITM, highlight = '') => {\r\n    const bgClass = highlight || itmBg(isITM); // Percentage highlight overrides ITM\r\n    return `${cellPadding} ${fontSize} text-center border-r border-gray-100 dark:border-gray-800 ${bgClass}`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <tr\r\n        className={`\r\n          border-b border-gray-100 dark:border-gray-800\r\n          hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\r\n          ${isATM\r\n            ? 'bg-gradient-to-r from-yellow-50 via-amber-50 to-yellow-50 dark:from-yellow-900/30 dark:via-amber-900/20 dark:to-yellow-900/30 ring-2 ring-yellow-400 dark:ring-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.3)] relative z-10'\r\n            : ''\r\n          }\r\n        `}\r\n      >\r\n        {/* ============ CALLS (Left) - Order: IV/Delta (outer) -> OI Chg -> OI -> Vol -> LTP (near strike) ============ */}\r\n\r\n        {/* IV with Greeks Tooltip - OUTER */}\r\n        {isColumnVisible('ce_iv') && (\r\n          <td\r\n            className={`${cellClass(isITM_CE)} text-blue-600 dark:text-blue-400 relative`}\r\n            onMouseEnter={() => setHoveredGreeks('ce')}\r\n            onMouseLeave={() => setHoveredGreeks(null)}\r\n          >\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'iv', ce.iv)}>\r\n              <span className=\"cursor-help underline decoration-dotted decoration-blue-400/50 font-medium\">\r\n                {ce.iv?.toFixed(1) || 'â€”'}\r\n              </span>\r\n            </ClickableCell>\r\n            <GreeksTooltip optgeeks={ce.optgeeks} isVisible={hoveredGreeks === 'ce'} position=\"right\" />\r\n          </td>\r\n        )}\r\n\r\n        {/* Delta - Next to IV */}\r\n        {isColumnVisible('ce_delta') && (\r\n          <td className={cellClass(isITM_CE)}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'delta', ce.optgeeks?.delta)}>\r\n              {ce.optgeeks?.delta?.toFixed(3) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Other Greeks (hidden by default) */}\r\n        {isColumnVisible('ce_gamma') && (\r\n          <td className={cellClass(isITM_CE)}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'gamma', ce.optgeeks?.gamma)}>\r\n              {ce.optgeeks?.gamma?.toFixed(5) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n        {isColumnVisible('ce_theta') && (\r\n          <td className={`${cellClass(isITM_CE)} text-red-500`}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'theta', ce.optgeeks?.theta)}>\r\n              {ce.optgeeks?.theta?.toFixed(2) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n        {isColumnVisible('ce_vega') && (\r\n          <td className={cellClass(isITM_CE)}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'vega', ce.optgeeks?.vega)}>\r\n              {ce.optgeeks?.vega?.toFixed(3) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* OI Change */}\r\n        {isColumnVisible('ce_oichng') && (\r\n          <td className={cellClass(isITM_CE, getHighlight('ce_oichng'))}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'oichng', ce.oichng)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span className={`font-medium ${ce.oichng > 0 ? 'text-green-600' : ce.oichng < 0 ? 'text-red-600' : ''}`}>\r\n                  {ce.oichng > 0 ? '+' : ''}{formatNumber(ce.oichng)}\r\n                </span>\r\n                {getPct('ce_oichng') > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">{getPct('ce_oichng').toFixed(0)}%</span>\r\n                )}\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* OI */}\r\n        {isColumnVisible('ce_oi') && (\r\n          <td className={cellClass(isITM_CE, getHighlight('ce_oi'))}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'OI', ce.OI)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span className=\"font-semibold text-gray-700 dark:text-gray-300\">\r\n                  {formatNumber(ce.OI)}\r\n                </span>\r\n                {getPct('ce_oi') > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">{getPct('ce_oi').toFixed(0)}%</span>\r\n                )}\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Volume */}\r\n        {isColumnVisible('ce_volume') && (\r\n          <td className={`${cellClass(isITM_CE, getHighlight('ce_volume'))} text-gray-600 dark:text-gray-400`}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'volume', ce.volume)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span>{formatNumber(ce.volume)}</span>\r\n                {getPct('ce_volume') > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">{getPct('ce_volume').toFixed(0)}%</span>\r\n                )}\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Buildup */}\r\n        {isColumnVisible('ce_buildup') && (\r\n          <td className={cellClass(isITM_CE)}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'buildup', ce.btyp)}>\r\n              <BuildupIndicator type={ce.btyp} />\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* LTP + Change Combined - NEAR STRIKE */}\r\n        {isColumnVisible('ce_ltp') && (\r\n          <td className={`${cellClass(isITM_CE)} font-semibold`}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'ltp', ce.ltp)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span className=\"text-gray-900 dark:text-white\">{ce.ltp?.toFixed(2) || 'â€”'}</span>\r\n                <span className={`text-xs ${ce.p_chng > 0 ? 'text-green-600' : ce.p_chng < 0 ? 'text-red-600' : 'text-gray-400'}`}>\r\n                  {ce.p_chng > 0 ? '+' : ''}{ce.p_chng?.toFixed(1) || '0'}\r\n                </span>\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Bid/Ask */}\r\n        {isColumnVisible('ce_bid') && (\r\n          <td className={`${cellClass(isITM_CE)} text-xs text-gray-400`}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'bid', ce.bid)}>\r\n              {ce.bid || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n        {isColumnVisible('ce_ask') && (\r\n          <td className={`${cellClass(isITM_CE)} text-xs text-gray-400`}>\r\n            <ClickableCell onClick={() => handleCellClick('ce', 'ask', ce.ask)}>\r\n              {ce.ask || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* ============ STRIKE (Center) with dual PCR ============ */}\r\n        <td\r\n          onClick={handleStrikeClick}\r\n          className={`\r\n            ${isCompact ? 'py-0.5 px-1' : cellPadding} text-center font-bold sticky left-0 z-10 cursor-pointer\r\n            ${isATM ? 'text-blue-600 dark:text-blue-400' : 'text-gray-800 dark:text-gray-200'}\r\n            ${isCompact ? 'text-sm' : 'text-lg'}\r\n            bg-gray-100 dark:bg-gray-800 border-x-2 border-gray-300 dark:border-gray-600\r\n            hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors\r\n            min-w-[60px]\r\n          `}\r\n        >\r\n          {/* Vertical layout with tight gaps */}\r\n          <div className={`flex flex-col items-center ${isCompact ? 'gap-0 leading-tight' : 'gap-0.5'}`}>\r\n            <span className={isATM ? 'font-bold' : ''}>{strike}</span>\r\n            {!isCompact && isATM && <span className=\"text-[10px] text-blue-500 font-medium px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/50 rounded\">ATM</span>}\r\n            <PCRDisplay oiPcr={oiPcr} oiChngPcr={oiChngPcr} volPcr={volPcr} compact={isCompact} />\r\n          </div>\r\n        </td>\r\n\r\n        {/* ============ PUTS (Right) - Order: LTP (near strike) -> Vol -> OI -> OI Chg -> Delta/IV (outer) ============ */}\r\n\r\n        {/* Bid/Ask - near strike */}\r\n        {isColumnVisible('pe_bid') && (\r\n          <td className={`${cellClass(isITM_PE)} text-xs text-gray-400`}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'bid', pe.bid)}>\r\n              {pe.bid || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n        {isColumnVisible('pe_ask') && (\r\n          <td className={`${cellClass(isITM_PE)} text-xs text-gray-400`}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'ask', pe.ask)}>\r\n              {pe.ask || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* LTP + Change Combined - NEAR STRIKE */}\r\n        {isColumnVisible('pe_ltp') && (\r\n          <td className={`${cellClass(isITM_PE)} font-semibold`}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'ltp', pe.ltp)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span className=\"text-gray-900 dark:text-white\">{pe.ltp?.toFixed(2) || 'â€”'}</span>\r\n                <span className={`text-xs ${pe.p_chng > 0 ? 'text-green-600' : pe.p_chng < 0 ? 'text-red-600' : 'text-gray-400'}`}>\r\n                  {pe.p_chng > 0 ? '+' : ''}{pe.p_chng?.toFixed(1) || '0'}\r\n                </span>\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Buildup */}\r\n        {isColumnVisible('pe_buildup') && (\r\n          <td className={cellClass(isITM_PE)}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'buildup', pe.btyp)}>\r\n              <BuildupIndicator type={pe.btyp} />\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Volume */}\r\n        {isColumnVisible('pe_volume') && (\r\n          <td className={`${cellClass(isITM_PE, getHighlight('pe_volume'))} text-gray-600 dark:text-gray-400`}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'volume', pe.volume)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span>{formatNumber(pe.volume)}</span>\r\n                {getPct('pe_volume') > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">{getPct('pe_volume').toFixed(0)}%</span>\r\n                )}\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* OI */}\r\n        {isColumnVisible('pe_oi') && (\r\n          <td className={cellClass(isITM_PE, getHighlight('pe_oi'))}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'OI', pe.OI)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span className=\"font-semibold text-gray-700 dark:text-gray-300\">\r\n                  {formatNumber(pe.OI)}\r\n                </span>\r\n                {getPct('pe_oi') > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">{getPct('pe_oi').toFixed(0)}%</span>\r\n                )}\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* OI Change */}\r\n        {isColumnVisible('pe_oichng') && (\r\n          <td className={cellClass(isITM_PE, getHighlight('pe_oichng'))}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'oichng', pe.oichng)}>\r\n              <div className=\"flex flex-col items-center\">\r\n                <span className={`font-medium ${pe.oichng > 0 ? 'text-green-600' : pe.oichng < 0 ? 'text-red-600' : ''}`}>\r\n                  {pe.oichng > 0 ? '+' : ''}{formatNumber(pe.oichng)}\r\n                </span>\r\n                {getPct('pe_oichng') > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">{getPct('pe_oichng').toFixed(0)}%</span>\r\n                )}\r\n              </div>\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* Delta - next to IV */}\r\n        {isColumnVisible('pe_delta') && (\r\n          <td className={cellClass(isITM_PE)}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'delta', pe.optgeeks?.delta)}>\r\n              {pe.optgeeks?.delta?.toFixed(3) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n\r\n        {/* IV with Greeks Tooltip - OUTER */}\r\n        {isColumnVisible('pe_iv') && (\r\n          <td\r\n            className={`${cellClass(isITM_PE)} text-blue-600 dark:text-blue-400 relative`}\r\n            onMouseEnter={() => setHoveredGreeks('pe')}\r\n            onMouseLeave={() => setHoveredGreeks(null)}\r\n          >\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'iv', pe.iv)}>\r\n              <span className=\"cursor-help underline decoration-dotted decoration-blue-400/50 font-medium\">\r\n                {pe.iv?.toFixed(1) || 'â€”'}\r\n              </span>\r\n            </ClickableCell>\r\n            <GreeksTooltip optgeeks={pe.optgeeks} isVisible={hoveredGreeks === 'pe'} position=\"left\" />\r\n          </td>\r\n        )}\r\n\r\n        {/* Other Greeks (hidden by default) */}\r\n        {isColumnVisible('pe_gamma') && (\r\n          <td className={cellClass(isITM_PE)}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'gamma', pe.optgeeks?.gamma)}>\r\n              {pe.optgeeks?.gamma?.toFixed(5) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n        {isColumnVisible('pe_theta') && (\r\n          <td className={`${cellClass(isITM_PE)} text-red-500`}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'theta', pe.optgeeks?.theta)}>\r\n              {pe.optgeeks?.theta?.toFixed(2) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n        {isColumnVisible('pe_vega') && (\r\n          <td className={cellClass(isITM_PE)}>\r\n            <ClickableCell onClick={() => handleCellClick('pe', 'vega', pe.optgeeks?.vega)}>\r\n              {pe.optgeeks?.vega?.toFixed(3) || 'â€”'}\r\n            </ClickableCell>\r\n          </td>\r\n        )}\r\n      </tr>\r\n\r\n      {/* Strike Detail Popup */}\r\n      {showStrikePopup && (\r\n        <StrikeDetailPopup\r\n          data={data}\r\n          strike={strike}\r\n          spotPrice={spotPrice}\r\n          onClose={() => setShowStrikePopup(false)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nStrikeRow.displayName = 'StrikeRow';\r\n\r\nStrikeRow.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  strike: PropTypes.number.isRequired,\r\n  atmStrike: PropTypes.number,\r\n  spotPrice: PropTypes.number,\r\n  onCellClick: PropTypes.func,\r\n  onStrikeSelect: PropTypes.func,\r\n};\r\n\r\nexport default StrikeRow;\r\n","import { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ArrowTrendingUpIcon, ArrowTrendingDownIcon } from '@heroicons/react/24/solid';\r\n\r\n/**\r\n * Premium Compact Metric Pill\r\n */\r\nconst Metric = memo(({ label, value, change, highlight = false }) => {\r\n    const isPositive = change > 0;\r\n    const isZero = change === 0 || change === undefined;\r\n\r\n    return (\r\n        <div className={`\r\n            flex items-center gap-2 px-3 py-1.5 rounded-full border shadow-sm transition-all duration-200\r\n            ${highlight \r\n                ? 'bg-blue-50/50 dark:bg-blue-900/10 border-blue-200 dark:border-blue-700/50' \r\n                : 'bg-white/50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700'\r\n            }\r\n            backdrop-blur-md\r\n        `}>\r\n            <span className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide\">{label}</span>\r\n            <div className=\"flex items-center gap-1.5\">\r\n                <span className={`text-sm font-bold tracking-tight ${highlight ? 'text-blue-700 dark:text-blue-300' : 'text-gray-900 dark:text-gray-100'}`}>\r\n                    {value?.toLocaleString?.() || 'â€”'}\r\n                </span>\r\n                {!isZero && (\r\n                    <span className={`\r\n                        flex items-center text-xs font-bold px-1.5 py-0.5 rounded-full\r\n                        ${isPositive \r\n                            ? 'bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400' \r\n                            : 'bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400'\r\n                        }\r\n                    `}>\r\n                        {isPositive ? <ArrowTrendingUpIcon className=\"w-3 h-3 mr-0.5\" /> : <ArrowTrendingDownIcon className=\"w-3 h-3 mr-0.5\" />}\r\n                        {Math.abs(change).toFixed(2)}%\r\n                    </span>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nMetric.displayName = 'Metric';\r\n\r\n/**\r\n * Premium SpotBar - Inline dashboard metrics\r\n */\r\nconst SpotBar = memo(({ spotData, futuresData, pcr, maxPain }) => {\r\n    return (\r\n        <div className=\"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar\">\r\n            <Metric label=\"Spot\" value={spotData?.ltp} change={spotData?.change_percent} highlight />\r\n            {futuresData && <Metric label=\"Fut\" value={futuresData.ltp} change={futuresData.change_percent} />}\r\n            <Metric label=\"PCR\" value={pcr?.toFixed(2)} />\r\n            {maxPain && <Metric label=\"Max Pain\" value={maxPain} />}\r\n        </div>\r\n    );\r\n});\r\n\r\nSpotBar.displayName = 'SpotBar';\r\n\r\nSpotBar.propTypes = {\r\n    spotData: PropTypes.object,\r\n    futuresData: PropTypes.object,\r\n    pcr: PropTypes.number,\r\n    maxPain: PropTypes.number,\r\n};\r\n\r\nexport default SpotBar;\r\n","import { memo, useMemo } from 'react';\nimport { ArrowTrendingUpIcon, ArrowTrendingDownIcon } from '@heroicons/react/24/solid';\n\n/**\n * Format number with proper display\n */\nconst formatPrice = (num) => {\n  if (num === null || num === undefined) return 'â€”';\n  return num.toLocaleString('en-IN', { maximumFractionDigits: 2 });\n};\n\n/**\n * Floating Spot/Futures Indicator\n * Overlays on the table at the position between strikes where spot price falls\n * rowHeight should match actual StrikeRow height (cells have multi-line content)\n */\nconst SpotIndicatorRow = memo(({ spotData, futuresData, strikes, rowHeight = 44, headerHeight = 32 }) => {\n  const spot = spotData?.ltp;\n  const spotChange = spotData?.change;\n  const spotChangePct = spotData?.change_percent;\n  const fut = futuresData?.ltp;\n  const futChange = futuresData?.change;\n  \n  // Calculate spot-futures difference (premium/discount)\n  const spotFutDiff = fut && spot ? fut - spot : null;\n  const isPremium = spotFutDiff > 0;\n\n  // Calculate row index - find gap between which two consecutive strikes the spot falls\n  const rowIndex = useMemo(() => {\n    if (!spot || !strikes || strikes.length < 2) return null;\n    \n    // Iterate through strikes as they appear in display order\n    for (let i = 0; i < strikes.length - 1; i++) {\n      const currentStrike = strikes[i];\n      const nextStrike = strikes[i + 1];\n      \n      // Get the lower and higher strike\n      const lowerStrike = Math.min(currentStrike, nextStrike);\n      const higherStrike = Math.max(currentStrike, nextStrike);\n      \n      // Check if spot price is between these two strikes\n      if (spot > lowerStrike && spot < higherStrike) {\n        return i;\n      }\n    }\n    \n    return null;\n  }, [spot, strikes]);\n\n  if (!spot || rowIndex === null) return null;\n\n  // Calculate top position: header + (rowIndex + 1) rows, centered on the border\n  const topPosition = headerHeight + (rowIndex + 1) * rowHeight;\n\n  return (\n    <div \n      className=\"absolute left-0 right-0 z-20 pointer-events-none\"\n      style={{ \n        top: `${topPosition}px`,\n        transform: 'translateY(-50%)'\n      }}\n    >\n      <div className=\"flex items-center justify-center\">\n        <div className=\"flex items-center gap-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 px-3 py-0.5 rounded-full shadow-lg border border-white/30 pointer-events-auto\">\n          {/* Spot Price */}\n          <div className=\"flex items-center gap-1\">\n            <span className=\"text-[9px] font-medium text-white/70\">SPOT</span>\n            <span className=\"text-xs font-bold text-white\">\n              {formatPrice(spot)}\n            </span>\n            {spotChange !== undefined && (\n              <span className={`flex items-center text-[10px] font-semibold ${spotChange >= 0 ? 'text-green-300' : 'text-red-300'}`}>\n                {spotChange >= 0 ? <ArrowTrendingUpIcon className=\"w-2.5 h-2.5\" /> : <ArrowTrendingDownIcon className=\"w-2.5 h-2.5\" />}\n                {spotChange >= 0 ? '+' : ''}{spotChange?.toFixed(1)}\n                ({spotChangePct?.toFixed(1)}%)\n              </span>\n            )}\n          </div>\n\n          {/* Divider */}\n          <div className=\"w-px h-3 bg-white/40\" />\n\n          {/* Futures Price */}\n          {fut && (\n            <div className=\"flex items-center gap-1\">\n              <span className=\"text-[9px] font-medium text-white/70\">FUT</span>\n              <span className=\"text-xs font-bold text-white\">\n                {formatPrice(fut)}\n              </span>\n              {futChange !== undefined && (\n                <span className={`flex items-center text-[10px] font-semibold ${futChange >= 0 ? 'text-green-300' : 'text-red-300'}`}>\n                  {futChange >= 0 ? <ArrowTrendingUpIcon className=\"w-2.5 h-2.5\" /> : <ArrowTrendingDownIcon className=\"w-2.5 h-2.5\" />}\n                  {futChange >= 0 ? '+' : ''}{futChange?.toFixed(1)}\n                </span>\n              )}\n            </div>\n          )}\n\n          {/* Premium/Discount Badge */}\n          {spotFutDiff !== null && (\n            <>\n              <div className=\"w-px h-3 bg-white/40\" />\n              <span className={`text-[9px] font-bold ${\n                isPremium ? 'text-amber-300' : 'text-cyan-300'\n              }`}>\n                {isPremium ? '+' : ''}{spotFutDiff.toFixed(0)}\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nSpotIndicatorRow.displayName = 'SpotIndicatorRow';\n\nexport default SpotIndicatorRow;\n\n\n","import { memo, useEffect, useState, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { selectSid, selectSelectedExpiry, selectExpiryList } from '../../../context/selectors';\r\nimport { setSidAndFetchData, setExp_sid } from '../../../context/dataSlice';\r\nimport { setSymbols } from '../../../context/chartSlice';\r\n\r\n/**\r\n * Premium Symbol Selector - Inline version for OptionControls with Portal\r\n */\r\nconst PremiumSymbolSelector = ({ symbols, currentSymbol, onSelect, theme }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [search, setSearch] = useState('');\r\n    const [dropdownPos, setDropdownPos] = useState({ top: 0, left: 0 });\r\n    const containerRef = useRef(null);\r\n    const buttonRef = useRef(null);\r\n    const inputRef = useRef(null);\r\n\r\n    // Known indices\r\n    const INDICES = ['NIFTY', 'BANKNIFTY', 'FINNIFTY', 'MIDCPNIFTY', 'SENSEX', 'BANKEX', 'NIFTYNXT50'];\r\n\r\n    // Filter symbols\r\n    const filtered = symbols.filter(s => \r\n        s.symbol.toLowerCase().includes(search.toLowerCase()) ||\r\n        (s.name || '').toLowerCase().includes(search.toLowerCase())\r\n    );\r\n\r\n    const indices = filtered.filter(s => INDICES.includes(s.symbol));\r\n    const equities = filtered.filter(s => !INDICES.includes(s.symbol));\r\n\r\n    // Calculate dropdown position\r\n    const openDropdown = () => {\r\n        if (buttonRef.current) {\r\n            const rect = buttonRef.current.getBoundingClientRect();\r\n            setDropdownPos({\r\n                top: rect.bottom + 8,\r\n                left: rect.left,\r\n            });\r\n        }\r\n        setIsOpen(true);\r\n    };\r\n\r\n    // Close on outside click - handled by backdrop now\r\n    useEffect(() => {\r\n        if (isOpen && inputRef.current) inputRef.current.focus();\r\n    }, [isOpen]);\r\n\r\n    const handleSelect = (s) => {\r\n        onSelect(s.symbol);\r\n        setIsOpen(false);\r\n        setSearch('');\r\n    };\r\n\r\n    const isDark = theme === 'dark';\r\n    const isIndex = INDICES.includes(currentSymbol);\r\n\r\n    return (\r\n        <div ref={containerRef} className=\"relative\">\r\n            {/* Trigger */}\r\n            <button\r\n                ref={buttonRef}\r\n                onClick={() => isOpen ? setIsOpen(false) : openDropdown()}\r\n                className={`\r\n                    flex items-center gap-2 px-4 py-2 rounded-xl border shadow-md\r\n                    font-bold text-sm transition-all duration-200 min-w-[140px]\r\n                    ${isDark \r\n                        ? 'bg-gradient-to-r from-slate-800 to-slate-900 border-slate-600 text-white hover:border-slate-500' \r\n                        : 'bg-gradient-to-r from-white to-gray-50 border-gray-200 text-gray-900 hover:border-gray-300'}\r\n                    ${isOpen ? 'ring-2 ring-emerald-500/50 shadow-lg' : ''}\r\n                `}\r\n            >\r\n                <span className=\"text-lg\">{isIndex ? 'ðŸ“ˆ' : 'ðŸ¢'}</span>\r\n                <span className=\"tracking-wide\">{currentSymbol || 'Select'}</span>\r\n                <svg className={`w-4 h-4 ml-auto transition-transform ${isOpen ? 'rotate-180' : ''} ${isDark ? 'text-gray-400' : 'text-gray-500'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                </svg>\r\n            </button>\r\n\r\n            {/* Dropdown - Portal to escape stacking contexts */}\r\n            {isOpen && createPortal(\r\n                <>\r\n                    {/* Backdrop */}\r\n                    <div \r\n                        className=\"fixed inset-0 z-[2147483646]\" \r\n                        onClick={() => setIsOpen(false)}\r\n                    />\r\n                    <div \r\n                        className={`fixed w-80 max-h-[70vh] rounded-xl border shadow-2xl z-[2147483647] overflow-hidden ${isDark ? 'bg-slate-900 border-slate-700' : 'bg-white border-gray-200'}`}\r\n                        style={{ top: dropdownPos.top, left: dropdownPos.left }}\r\n                    >\r\n                        {/* Search */}\r\n                        <div className={`p-3 border-b ${isDark ? 'border-slate-700' : 'border-gray-100'}`}>\r\n                            <div className=\"relative\">\r\n                                <svg className={`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${isDark ? 'text-gray-500' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                                </svg>\r\n                                <input\r\n                                    ref={inputRef}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search symbols...\"\r\n                                    value={search}\r\n                                    onChange={(e) => setSearch(e.target.value)}\r\n                                    className={`w-full pl-10 pr-4 py-2.5 rounded-lg text-sm focus:outline-none focus:ring-2 ${isDark ? 'bg-slate-800 text-white placeholder-gray-500 focus:ring-emerald-500/50' : 'bg-gray-100 text-gray-900 placeholder-gray-400 focus:ring-emerald-400/50'}`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* List */}\r\n                        <div className=\"overflow-y-auto max-h-80 p-2\">\r\n                            {indices.length > 0 && (\r\n                                <div className=\"mb-3\">\r\n                                    <div className={`px-3 py-1.5 text-xs font-bold uppercase tracking-wider ${isDark ? 'text-blue-400' : 'text-blue-600'}`}>ðŸ“Š Indices</div>\r\n                                    {indices.map(s => (\r\n                                        <button key={s.symbol} onClick={() => handleSelect(s)}\r\n                                            className={`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all ${currentSymbol === s.symbol ? (isDark ? 'bg-emerald-600/20 text-emerald-400 font-bold' : 'bg-emerald-50 text-emerald-700 font-bold') : (isDark ? 'hover:bg-slate-700/50 text-gray-200' : 'hover:bg-gray-100 text-gray-800')}`}>\r\n                                            <span className=\"text-lg\">ðŸ“ˆ</span>\r\n                                            <span className=\"font-semibold\">{s.symbol}</span>\r\n                                            {currentSymbol === s.symbol && <svg className=\"w-4 h-4 ml-auto text-emerald-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" /></svg>}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                            {equities.length > 0 && (\r\n                                <div>\r\n                                    <div className={`px-3 py-1.5 text-xs font-bold uppercase tracking-wider ${isDark ? 'text-emerald-400' : 'text-emerald-600'}`}>ðŸ¢ Equities</div>\r\n                                    {equities.map(s => (\r\n                                        <button key={s.symbol} onClick={() => handleSelect(s)}\r\n                                            className={`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all ${currentSymbol === s.symbol ? (isDark ? 'bg-emerald-600/20 text-emerald-400 font-bold' : 'bg-emerald-50 text-emerald-700 font-bold') : (isDark ? 'hover:bg-slate-700/50 text-gray-200' : 'hover:bg-gray-100 text-gray-800')}`}>\r\n                                            <span className=\"text-lg\">ðŸ¢</span>\r\n                                            <span className=\"font-semibold\">{s.symbol}</span>\r\n                                            {currentSymbol === s.symbol && <svg className=\"w-4 h-4 ml-auto text-emerald-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" /></svg>}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                            {filtered.length === 0 && <div className={`text-center py-8 text-sm ${isDark ? 'text-gray-500' : 'text-gray-400'}`}>No symbols found</div>}\r\n                        </div>\r\n                    </div>\r\n                </>,\r\n                document.getElementById('dropdown-root') || document.body\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n/**\r\n * Compact Option Controls - Symbol, Expiry, and Chart Toggle\r\n */\r\nconst OptionControls = memo(({ showChart, onToggleChart }) => {\r\n    const dispatch = useDispatch();\r\n    const sid = useSelector(selectSid);\r\n    const expiry = useSelector(selectSelectedExpiry);\r\n    const expiryList = useSelector(selectExpiryList);\r\n    const theme = useSelector((state) => state.theme.theme);\r\n    const symbols = useSelector((state) => state.chart.symbols);\r\n\r\n    const displaySymbol = sid || 'NIFTY';\r\n\r\n    // Fetch symbols if not already loaded\r\n    useEffect(() => {\r\n        if (symbols.length === 0) {\r\n            const fetchSymbols = async () => {\r\n                try {\r\n                    const response = await fetch('http://localhost:8000/api/v1/charts/symbols');\r\n                    const data = await response.json();\r\n                    if (data.success && data.data) {\r\n                        dispatch(setSymbols(data.data));\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Failed to fetch symbols:', error);\r\n                }\r\n            };\r\n            fetchSymbols();\r\n        }\r\n    }, [symbols.length, dispatch]);\r\n\r\n    const handleSymbolChange = (symbolValue) => {\r\n        dispatch(setSidAndFetchData({ newSid: symbolValue }));\r\n    };\r\n\r\n    const handleExpiryChange = (e) => {\r\n        dispatch(setExp_sid(Number(e.target.value)));\r\n    };\r\n\r\n    const formatExpiryDate = (timestamp) => {\r\n        const date = new Date(Number(timestamp) * 1000);\r\n        return date.toLocaleDateString('en-IN', { day: '2-digit', month: 'short', year: '2-digit' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-3 p-1\">\r\n            {/* Premium Symbol Selector */}\r\n            <PremiumSymbolSelector\r\n                symbols={symbols.length > 0 ? symbols : [{ symbol: 'NIFTY' }, { symbol: 'BANKNIFTY' }, { symbol: 'FINNIFTY' }]}\r\n                currentSymbol={displaySymbol}\r\n                onSelect={handleSymbolChange}\r\n                theme={theme}\r\n            />\r\n\r\n            {/* Expiry - hide in chart mode */}\r\n            {!showChart && (\r\n                <div className=\"relative group\">\r\n                    <select\r\n                        value={expiry || \"\"}\r\n                        onChange={handleExpiryChange}\r\n                        className={`\r\n                            appearance-none pl-4 pr-8 py-1.5 text-sm font-medium rounded-full \r\n                            border transition-all duration-200 cursor-pointer shadow-sm\r\n                            ${theme === 'dark'\r\n                                ? 'bg-gray-800 border-gray-700 text-gray-200 hover:border-gray-600 focus:ring-2 focus:ring-emerald-500/50'\r\n                                : 'bg-white border-gray-200 text-gray-700 hover:border-gray-300 focus:ring-2 focus:ring-emerald-500/50'\r\n                            }\r\n                        `}\r\n                    >\r\n                        {expiryList?.map((exp) => (\r\n                            <option key={exp} value={exp}>\r\n                                {formatExpiryDate(exp)}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <div className=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400\">\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" /></svg>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Chart Toggle Button */}\r\n            {onToggleChart && (\r\n                <button\r\n                    onClick={onToggleChart}\r\n                    className={`\r\n                        flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-semibold shadow-sm\r\n                        transition-all duration-200 border\r\n                        ${showChart \r\n                            ? theme === 'dark' \r\n                                ? 'bg-emerald-600 text-white border-emerald-500 hover:bg-emerald-500 hover:shadow-emerald-500/20' \r\n                                : 'bg-emerald-500 text-white border-emerald-400 hover:bg-emerald-600 hover:shadow-emerald-500/20'\r\n                            : theme === 'dark'\r\n                                ? 'bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700 hover:text-white'\r\n                                : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900'\r\n                        }\r\n                    `}\r\n                    title={showChart ? 'View Option Chain Table' : 'View Chart'}\r\n                >\r\n                    {showChart ? (\r\n                        <>\r\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n                            </svg>\r\n                            Table View\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\" />\r\n                            </svg>\r\n                            Chart View\r\n                        </>\r\n                    )}\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\nOptionControls.displayName = 'OptionControls';\r\n\r\nexport default OptionControls;\r\n","import $HgANd$react from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nconst $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c = typeof document !== 'undefined' ? (0, $HgANd$react).useLayoutEffect : ()=>{};\n\n\nexport {$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c as useLayoutEffect};\n//# sourceMappingURL=useLayoutEffect.module.js.map\n","import {useLayoutEffect as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c} from \"./useLayoutEffect.mjs\";\nimport $lmaYr$react, {useRef as $lmaYr$useRef, useCallback as $lmaYr$useCallback} from \"react\";\n\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nvar $8ae05eaa5c114e9c$var$_React_useInsertionEffect;\n// Use the earliest effect type possible. useInsertionEffect runs during the mutation phase,\n// before all layout effects, but is available only in React 18 and later.\nconst $8ae05eaa5c114e9c$var$useEarlyEffect = ($8ae05eaa5c114e9c$var$_React_useInsertionEffect = (0, $lmaYr$react)['useInsertionEffect']) !== null && $8ae05eaa5c114e9c$var$_React_useInsertionEffect !== void 0 ? $8ae05eaa5c114e9c$var$_React_useInsertionEffect : (0, $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c);\nfunction $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn) {\n    const ref = (0, $lmaYr$useRef)(null);\n    $8ae05eaa5c114e9c$var$useEarlyEffect(()=>{\n        ref.current = fn;\n    }, [\n        fn\n    ]);\n    // @ts-ignore\n    return (0, $lmaYr$useCallback)((...args)=>{\n        const f = ref.current;\n        return f === null || f === void 0 ? void 0 : f(...args);\n    }, []);\n}\n\n\nexport {$8ae05eaa5c114e9c$export$7f54fc3180508a52 as useEffectEvent};\n//# sourceMappingURL=useEffectEvent.module.js.map\n","const $431fbd86ca7dc216$export$b204af158042fbac = (el)=>{\n    var _el_ownerDocument;\n    return (_el_ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el_ownerDocument !== void 0 ? _el_ownerDocument : document;\n};\nconst $431fbd86ca7dc216$export$f21a1ffae260145a = (el)=>{\n    if (el && 'window' in el && el.window === el) return el;\n    const doc = $431fbd86ca7dc216$export$b204af158042fbac(el);\n    return doc.defaultView || window;\n};\n/**\n * Type guard that checks if a value is a Node. Verifies the presence and type of the nodeType property.\n */ function $431fbd86ca7dc216$var$isNode(value) {\n    return value !== null && typeof value === 'object' && 'nodeType' in value && typeof value.nodeType === 'number';\n}\nfunction $431fbd86ca7dc216$export$af51f0f06c0f328a(node) {\n    return $431fbd86ca7dc216$var$isNode(node) && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && 'host' in node;\n}\n\n\nexport {$431fbd86ca7dc216$export$b204af158042fbac as getOwnerDocument, $431fbd86ca7dc216$export$f21a1ffae260145a as getOwnerWindow, $431fbd86ca7dc216$export$af51f0f06c0f328a as isShadowRoot};\n//# sourceMappingURL=domHelpers.module.js.map\n","/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ let $f4e2df6bd15f8569$var$_tableNestedRows = false;\nlet $f4e2df6bd15f8569$var$_shadowDOM = false;\nfunction $f4e2df6bd15f8569$export$d9d8a0f82de49530() {\n    $f4e2df6bd15f8569$var$_tableNestedRows = true;\n}\nfunction $f4e2df6bd15f8569$export$1b00cb14a96194e6() {\n    return $f4e2df6bd15f8569$var$_tableNestedRows;\n}\nfunction $f4e2df6bd15f8569$export$12b151d9882e9985() {\n    $f4e2df6bd15f8569$var$_shadowDOM = true;\n}\nfunction $f4e2df6bd15f8569$export$98658e8c59125e6a() {\n    return $f4e2df6bd15f8569$var$_shadowDOM;\n}\n\n\nexport {$f4e2df6bd15f8569$export$d9d8a0f82de49530 as enableTableNestedRows, $f4e2df6bd15f8569$export$1b00cb14a96194e6 as tableNestedRows, $f4e2df6bd15f8569$export$12b151d9882e9985 as enableShadowDOM, $f4e2df6bd15f8569$export$98658e8c59125e6a as shadowDOM};\n//# sourceMappingURL=module.js.map\n","import {isShadowRoot as $431fbd86ca7dc216$export$af51f0f06c0f328a} from \"./domHelpers.mjs\";\nimport {shadowDOM as $lcSu5$shadowDOM} from \"@react-stately/flags\";\n\n// Source: https://github.com/microsoft/tabster/blob/a89fc5d7e332d48f68d03b1ca6e344489d1c3898/src/Shadowdomize/DOMFunctions.ts#L16\n\n\nfunction $d4ee10de306f2510$export$4282f70798064fe0(node, otherNode) {\n    if (!(0, $lcSu5$shadowDOM)()) return otherNode && node ? node.contains(otherNode) : false;\n    if (!node || !otherNode) return false;\n    let currentNode = otherNode;\n    while(currentNode !== null){\n        if (currentNode === node) return true;\n        if (currentNode.tagName === 'SLOT' && currentNode.assignedSlot) // Element is slotted\n        currentNode = currentNode.assignedSlot.parentNode;\n        else if ((0, $431fbd86ca7dc216$export$af51f0f06c0f328a)(currentNode)) // Element is in shadow root\n        currentNode = currentNode.host;\n        else currentNode = currentNode.parentNode;\n    }\n    return false;\n}\nconst $d4ee10de306f2510$export$cd4e5573fbe2b576 = (doc = document)=>{\n    var _activeElement_shadowRoot;\n    if (!(0, $lcSu5$shadowDOM)()) return doc.activeElement;\n    let activeElement = doc.activeElement;\n    while(activeElement && 'shadowRoot' in activeElement && ((_activeElement_shadowRoot = activeElement.shadowRoot) === null || _activeElement_shadowRoot === void 0 ? void 0 : _activeElement_shadowRoot.activeElement))activeElement = activeElement.shadowRoot.activeElement;\n    return activeElement;\n};\nfunction $d4ee10de306f2510$export$e58f029f0fbfdb29(event) {\n    if ((0, $lcSu5$shadowDOM)() && event.target.shadowRoot) {\n        if (event.composedPath) return event.composedPath()[0];\n    }\n    return event.target;\n}\n\n\nexport {$d4ee10de306f2510$export$4282f70798064fe0 as nodeContains, $d4ee10de306f2510$export$cd4e5573fbe2b576 as getActiveElement, $d4ee10de306f2510$export$e58f029f0fbfdb29 as getEventTarget};\n//# sourceMappingURL=DOMFunctions.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $c87311424ea30a05$var$testUserAgent(re) {\n    var _window_navigator_userAgentData;\n    if (typeof window === 'undefined' || window.navigator == null) return false;\n    let brands = (_window_navigator_userAgentData = window.navigator['userAgentData']) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.brands;\n    return Array.isArray(brands) && brands.some((brand)=>re.test(brand.brand)) || re.test(window.navigator.userAgent);\n}\nfunction $c87311424ea30a05$var$testPlatform(re) {\n    var _window_navigator_userAgentData;\n    return typeof window !== 'undefined' && window.navigator != null ? re.test(((_window_navigator_userAgentData = window.navigator['userAgentData']) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.platform) || window.navigator.platform) : false;\n}\nfunction $c87311424ea30a05$var$cached(fn) {\n    if (process.env.NODE_ENV === 'test') return fn;\n    let res = null;\n    return ()=>{\n        if (res == null) res = fn();\n        return res;\n    };\n}\nconst $c87311424ea30a05$export$9ac100e40613ea10 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^Mac/i);\n});\nconst $c87311424ea30a05$export$186c6964ca17d99 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPhone/i);\n});\nconst $c87311424ea30a05$export$7bef049ce92e4224 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    $c87311424ea30a05$export$9ac100e40613ea10() && navigator.maxTouchPoints > 1;\n});\nconst $c87311424ea30a05$export$fedb369cb70207f1 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$186c6964ca17d99() || $c87311424ea30a05$export$7bef049ce92e4224();\n});\nconst $c87311424ea30a05$export$e1865c3bedcd822b = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$9ac100e40613ea10() || $c87311424ea30a05$export$fedb369cb70207f1();\n});\nconst $c87311424ea30a05$export$78551043582a6a98 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i) && !$c87311424ea30a05$export$6446a186d09e379e();\n});\nconst $c87311424ea30a05$export$6446a186d09e379e = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Chrome/i);\n});\nconst $c87311424ea30a05$export$a11b0059900ceec8 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Android/i);\n});\nconst $c87311424ea30a05$export$b7d78993b74f766d = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Firefox/i);\n});\n\n\nexport {$c87311424ea30a05$export$9ac100e40613ea10 as isMac, $c87311424ea30a05$export$186c6964ca17d99 as isIPhone, $c87311424ea30a05$export$7bef049ce92e4224 as isIPad, $c87311424ea30a05$export$fedb369cb70207f1 as isIOS, $c87311424ea30a05$export$e1865c3bedcd822b as isAppleDevice, $c87311424ea30a05$export$78551043582a6a98 as isWebKit, $c87311424ea30a05$export$6446a186d09e379e as isChrome, $c87311424ea30a05$export$a11b0059900ceec8 as isAndroid, $c87311424ea30a05$export$b7d78993b74f766d as isFirefox};\n//# sourceMappingURL=platform.module.js.map\n","import {useRef as $lPAwt$useRef, useCallback as $lPAwt$useCallback, useEffect as $lPAwt$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n    let globalListeners = (0, $lPAwt$useRef)(new Map());\n    let addGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        // Make sure we remove the listener after it is called with the `once` option.\n        let fn = (options === null || options === void 0 ? void 0 : options.once) ? (...args)=>{\n            globalListeners.current.delete(listener);\n            listener(...args);\n        } : listener;\n        globalListeners.current.set(listener, {\n            type: type,\n            eventTarget: eventTarget,\n            fn: fn,\n            options: options\n        });\n        eventTarget.addEventListener(type, fn, options);\n    }, []);\n    let removeGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        var _globalListeners_current_get;\n        let fn = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n        eventTarget.removeEventListener(type, fn, options);\n        globalListeners.current.delete(listener);\n    }, []);\n    let removeAllGlobalListeners = (0, $lPAwt$useCallback)(()=>{\n        globalListeners.current.forEach((value, key)=>{\n            removeGlobalListener(value.eventTarget, value.type, key, value.options);\n        });\n    }, [\n        removeGlobalListener\n    ]);\n    (0, $lPAwt$useEffect)(()=>{\n        return removeAllGlobalListeners;\n    }, [\n        removeAllGlobalListeners\n    ]);\n    return {\n        addGlobalListener: addGlobalListener,\n        removeGlobalListener: removeGlobalListener,\n        removeAllGlobalListeners: removeAllGlobalListeners\n    };\n}\n\n\nexport {$03deb23ff14920c4$export$4eaf04e54aa8eed6 as useGlobalListeners};\n//# sourceMappingURL=useGlobalListeners.module.js.map\n","import {isAndroid as $c87311424ea30a05$export$a11b0059900ceec8} from \"./platform.mjs\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $6a7db85432448f7f$export$60278871457622de(event) {\n    // JAWS/NVDA with Firefox.\n    if (event.pointerType === '' && event.isTrusted) return true;\n    // Android TalkBack's detail value varies depending on the event listener providing the event so we have specific logic here instead\n    // If pointerType is defined, event is from a click listener. For events from mousedown listener, detail === 0 is a sufficient check\n    // to detect TalkBack virtual clicks.\n    if ((0, $c87311424ea30a05$export$a11b0059900ceec8)() && event.pointerType) return event.type === 'click' && event.buttons === 1;\n    return event.detail === 0 && !event.pointerType;\n}\nfunction $6a7db85432448f7f$export$29bf1b5f2c56cf63(event) {\n    // If the pointer size is zero, then we assume it's from a screen reader.\n    // Android TalkBack double tap will sometimes return a event with width and height of 1\n    // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n    // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n    // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n    // Talkback double tap from Windows Firefox touch screen press\n    return !(0, $c87311424ea30a05$export$a11b0059900ceec8)() && event.width === 0 && event.height === 0 || event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse';\n}\n\n\nexport {$6a7db85432448f7f$export$60278871457622de as isVirtualClick, $6a7db85432448f7f$export$29bf1b5f2c56cf63 as isVirtualPointerEvent};\n//# sourceMappingURL=isVirtualEvent.module.js.map\n","import {useLayoutEffect as $6dfIe$useLayoutEffect, useEffectEvent as $6dfIe$useEffectEvent, isFocusable as $6dfIe$isFocusable, getOwnerWindow as $6dfIe$getOwnerWindow, focusWithoutScrolling as $6dfIe$focusWithoutScrolling} from \"@react-aria/utils\";\nimport {useRef as $6dfIe$useRef, useCallback as $6dfIe$useCallback} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nfunction $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent) {\n    let event = nativeEvent;\n    event.nativeEvent = nativeEvent;\n    event.isDefaultPrevented = ()=>event.defaultPrevented;\n    // cancelBubble is technically deprecated in the spec, but still supported in all browsers.\n    event.isPropagationStopped = ()=>event.cancelBubble;\n    event.persist = ()=>{};\n    return event;\n}\nfunction $8a9cb279dc87e130$export$c2b7abe5d61ec696(event, target) {\n    Object.defineProperty(event, 'target', {\n        value: target\n    });\n    Object.defineProperty(event, 'currentTarget', {\n        value: target\n    });\n}\nfunction $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n    let stateRef = (0, $6dfIe$useRef)({\n        isFocused: false,\n        observer: null\n    });\n    // Clean up MutationObserver on unmount. See below.\n    (0, $6dfIe$useLayoutEffect)(()=>{\n        const state = stateRef.current;\n        return ()=>{\n            if (state.observer) {\n                state.observer.disconnect();\n                state.observer = null;\n            }\n        };\n    }, []);\n    let dispatchBlur = (0, $6dfIe$useEffectEvent)((e)=>{\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n    });\n    // This function is called during a React onFocus event.\n    return (0, $6dfIe$useCallback)((e)=>{\n        // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n        // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n        // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n        // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n        if (e.target instanceof HTMLButtonElement || e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) {\n            stateRef.current.isFocused = true;\n            let target = e.target;\n            let onBlurHandler = (e)=>{\n                stateRef.current.isFocused = false;\n                if (target.disabled) {\n                    // For backward compatibility, dispatch a (fake) React synthetic event.\n                    let event = $8a9cb279dc87e130$export$525bc4921d56d4a(e);\n                    dispatchBlur(event);\n                }\n                // We no longer need the MutationObserver once the target is blurred.\n                if (stateRef.current.observer) {\n                    stateRef.current.observer.disconnect();\n                    stateRef.current.observer = null;\n                }\n            };\n            target.addEventListener('focusout', onBlurHandler, {\n                once: true\n            });\n            stateRef.current.observer = new MutationObserver(()=>{\n                if (stateRef.current.isFocused && target.disabled) {\n                    var _stateRef_current_observer;\n                    (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n                    let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n                    target.dispatchEvent(new FocusEvent('blur', {\n                        relatedTarget: relatedTargetEl\n                    }));\n                    target.dispatchEvent(new FocusEvent('focusout', {\n                        bubbles: true,\n                        relatedTarget: relatedTargetEl\n                    }));\n                }\n            });\n            stateRef.current.observer.observe(target, {\n                attributes: true,\n                attributeFilter: [\n                    'disabled'\n                ]\n            });\n        }\n    }, [\n        dispatchBlur\n    ]);\n}\nlet $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\nfunction $8a9cb279dc87e130$export$cabe61c495ee3649(target) {\n    // The browser will focus the nearest focusable ancestor of our target.\n    while(target && !(0, $6dfIe$isFocusable)(target))target = target.parentElement;\n    let window = (0, $6dfIe$getOwnerWindow)(target);\n    let activeElement = window.document.activeElement;\n    if (!activeElement || activeElement === target) return;\n    $8a9cb279dc87e130$export$fda7da73ab5d4c48 = true;\n    let isRefocusing = false;\n    let onBlur = (e)=>{\n        if (e.target === activeElement || isRefocusing) e.stopImmediatePropagation();\n    };\n    let onFocusOut = (e)=>{\n        if (e.target === activeElement || isRefocusing) {\n            e.stopImmediatePropagation();\n            // If there was no focusable ancestor, we don't expect a focus event.\n            // Re-focus the original active element here.\n            if (!target && !isRefocusing) {\n                isRefocusing = true;\n                (0, $6dfIe$focusWithoutScrolling)(activeElement);\n                cleanup();\n            }\n        }\n    };\n    let onFocus = (e)=>{\n        if (e.target === target || isRefocusing) e.stopImmediatePropagation();\n    };\n    let onFocusIn = (e)=>{\n        if (e.target === target || isRefocusing) {\n            e.stopImmediatePropagation();\n            if (!isRefocusing) {\n                isRefocusing = true;\n                (0, $6dfIe$focusWithoutScrolling)(activeElement);\n                cleanup();\n            }\n        }\n    };\n    window.addEventListener('blur', onBlur, true);\n    window.addEventListener('focusout', onFocusOut, true);\n    window.addEventListener('focusin', onFocusIn, true);\n    window.addEventListener('focus', onFocus, true);\n    let cleanup = ()=>{\n        cancelAnimationFrame(raf);\n        window.removeEventListener('blur', onBlur, true);\n        window.removeEventListener('focusout', onFocusOut, true);\n        window.removeEventListener('focusin', onFocusIn, true);\n        window.removeEventListener('focus', onFocus, true);\n        $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\n        isRefocusing = false;\n    };\n    let raf = requestAnimationFrame(cleanup);\n    return cleanup;\n}\n\n\nexport {$8a9cb279dc87e130$export$525bc4921d56d4a as createSyntheticEvent, $8a9cb279dc87e130$export$c2b7abe5d61ec696 as setEventTarget, $8a9cb279dc87e130$export$715c682d09d639cc as useSyntheticBlurEvent, $8a9cb279dc87e130$export$fda7da73ab5d4c48 as ignoreFocusEvent, $8a9cb279dc87e130$export$cabe61c495ee3649 as preventFocus};\n//# sourceMappingURL=utils.module.js.map\n","import {ignoreFocusEvent as $8a9cb279dc87e130$export$fda7da73ab5d4c48} from \"./utils.mjs\";\nimport {isMac as $28AnR$isMac, isVirtualClick as $28AnR$isVirtualClick, getOwnerWindow as $28AnR$getOwnerWindow, getOwnerDocument as $28AnR$getOwnerDocument} from \"@react-aria/utils\";\nimport {useState as $28AnR$useState, useEffect as $28AnR$useEffect} from \"react\";\nimport {useIsSSR as $28AnR$useIsSSR} from \"@react-aria/ssr\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\n\nlet $507fabe10e71c6fb$var$currentModality = null;\nlet $507fabe10e71c6fb$var$changeHandlers = new Set();\nlet $507fabe10e71c6fb$export$d90243b58daecda7 = new Map(); // We use a map here to support setting event listeners across multiple document objects.\nlet $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\nlet $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n// Only Tab or Esc keys will make focus visible on text input elements\nconst $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS = {\n    Tab: true,\n    Escape: true\n};\nfunction $507fabe10e71c6fb$var$triggerChangeHandlers(modality, e) {\n    for (let handler of $507fabe10e71c6fb$var$changeHandlers)handler(modality, e);\n}\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */ function $507fabe10e71c6fb$var$isValidKey(e) {\n    // Control and Shift keys trigger when navigating back to the tab with keyboard.\n    return !(e.metaKey || !(0, $28AnR$isMac)() && e.altKey || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\nfunction $507fabe10e71c6fb$var$handleKeyboardEvent(e) {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    if ($507fabe10e71c6fb$var$isValidKey(e)) {\n        $507fabe10e71c6fb$var$currentModality = 'keyboard';\n        $507fabe10e71c6fb$var$triggerChangeHandlers('keyboard', e);\n    }\n}\nfunction $507fabe10e71c6fb$var$handlePointerEvent(e) {\n    $507fabe10e71c6fb$var$currentModality = 'pointer';\n    if (e.type === 'mousedown' || e.type === 'pointerdown') {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        $507fabe10e71c6fb$var$triggerChangeHandlers('pointer', e);\n    }\n}\nfunction $507fabe10e71c6fb$var$handleClickEvent(e) {\n    if ((0, $28AnR$isVirtualClick)(e)) {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        $507fabe10e71c6fb$var$currentModality = 'virtual';\n    }\n}\nfunction $507fabe10e71c6fb$var$handleFocusEvent(e) {\n    // Firefox fires two extra focus events when the user first clicks into an iframe:\n    // first on the window, then on the document. We ignore these events so they don't\n    // cause keyboard focus rings to appear.\n    if (e.target === window || e.target === document || (0, $8a9cb279dc87e130$export$fda7da73ab5d4c48) || !e.isTrusted) return;\n    // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n    // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n    if (!$507fabe10e71c6fb$var$hasEventBeforeFocus && !$507fabe10e71c6fb$var$hasBlurredWindowRecently) {\n        $507fabe10e71c6fb$var$currentModality = 'virtual';\n        $507fabe10e71c6fb$var$triggerChangeHandlers('virtual', e);\n    }\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n}\nfunction $507fabe10e71c6fb$var$handleWindowBlur() {\n    if (0, $8a9cb279dc87e130$export$fda7da73ab5d4c48) return;\n    // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n    // for example, since a subsequent focus event won't be fired.\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = true;\n}\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */ function $507fabe10e71c6fb$var$setupGlobalFocusEvents(element) {\n    if (typeof window === 'undefined' || typeof document === 'undefined' || $507fabe10e71c6fb$export$d90243b58daecda7.get((0, $28AnR$getOwnerWindow)(element))) return;\n    const windowObject = (0, $28AnR$getOwnerWindow)(element);\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    // Programmatic focus() calls shouldn't affect the current input modality.\n    // However, we need to detect other cases when a focus event occurs without\n    // a preceding user event (e.g. screen reader focus). Overriding the focus\n    // method on HTMLElement.prototype is a bit hacky, but works.\n    let focus = windowObject.HTMLElement.prototype.focus;\n    windowObject.HTMLElement.prototype.focus = function() {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        focus.apply(this, arguments);\n    };\n    documentObject.addEventListener('keydown', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener('keyup', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener('click', $507fabe10e71c6fb$var$handleClickEvent, true);\n    // Register focus events on the window so they are sure to happen\n    // before React's event listeners (registered on the document).\n    windowObject.addEventListener('focus', $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.addEventListener('blur', $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== 'undefined') {\n        documentObject.addEventListener('pointerdown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('pointermove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('pointerup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (process.env.NODE_ENV === 'test') {\n        documentObject.addEventListener('mousedown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('mousemove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('mouseup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    }\n    // Add unmount handler\n    windowObject.addEventListener('beforeunload', ()=>{\n        $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element);\n    }, {\n        once: true\n    });\n    $507fabe10e71c6fb$export$d90243b58daecda7.set(windowObject, {\n        focus: focus\n    });\n}\nconst $507fabe10e71c6fb$var$tearDownWindowFocusTracking = (element, loadListener)=>{\n    const windowObject = (0, $28AnR$getOwnerWindow)(element);\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    if (loadListener) documentObject.removeEventListener('DOMContentLoaded', loadListener);\n    if (!$507fabe10e71c6fb$export$d90243b58daecda7.has(windowObject)) return;\n    windowObject.HTMLElement.prototype.focus = $507fabe10e71c6fb$export$d90243b58daecda7.get(windowObject).focus;\n    documentObject.removeEventListener('keydown', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener('keyup', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener('click', $507fabe10e71c6fb$var$handleClickEvent, true);\n    windowObject.removeEventListener('focus', $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.removeEventListener('blur', $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== 'undefined') {\n        documentObject.removeEventListener('pointerdown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('pointermove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('pointerup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (process.env.NODE_ENV === 'test') {\n        documentObject.removeEventListener('mousedown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('mousemove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('mouseup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    }\n    $507fabe10e71c6fb$export$d90243b58daecda7.delete(windowObject);\n};\nfunction $507fabe10e71c6fb$export$2f1888112f558a7d(element) {\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    let loadListener;\n    if (documentObject.readyState !== 'loading') $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n    else {\n        loadListener = ()=>{\n            $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n        };\n        documentObject.addEventListener('DOMContentLoaded', loadListener);\n    }\n    return ()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(element, loadListener);\n}\n// Server-side rendering does not have the document object defined\n// eslint-disable-next-line no-restricted-globals\nif (typeof document !== 'undefined') $507fabe10e71c6fb$export$2f1888112f558a7d();\nfunction $507fabe10e71c6fb$export$b9b3dfddab17db27() {\n    return $507fabe10e71c6fb$var$currentModality !== 'pointer';\n}\nfunction $507fabe10e71c6fb$export$630ff653c5ada6a9() {\n    return $507fabe10e71c6fb$var$currentModality;\n}\nfunction $507fabe10e71c6fb$export$8397ddfc504fdb9a(modality) {\n    $507fabe10e71c6fb$var$currentModality = modality;\n    $507fabe10e71c6fb$var$triggerChangeHandlers(modality, null);\n}\nfunction $507fabe10e71c6fb$export$98e20ec92f614cfe() {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    let [modality, setModality] = (0, $28AnR$useState)($507fabe10e71c6fb$var$currentModality);\n    (0, $28AnR$useEffect)(()=>{\n        let handler = ()=>{\n            setModality($507fabe10e71c6fb$var$currentModality);\n        };\n        $507fabe10e71c6fb$var$changeHandlers.add(handler);\n        return ()=>{\n            $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n        };\n    }, []);\n    return (0, $28AnR$useIsSSR)() ? null : modality;\n}\nconst $507fabe10e71c6fb$var$nonTextInputTypes = new Set([\n    'checkbox',\n    'radio',\n    'range',\n    'color',\n    'file',\n    'image',\n    'button',\n    'submit',\n    'reset'\n]);\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */ function $507fabe10e71c6fb$var$isKeyboardFocusEvent(isTextInput, modality, e) {\n    let document1 = (0, $28AnR$getOwnerDocument)(e === null || e === void 0 ? void 0 : e.target);\n    const IHTMLInputElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLInputElement : HTMLInputElement;\n    const IHTMLTextAreaElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLTextAreaElement : HTMLTextAreaElement;\n    const IHTMLElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLElement : HTMLElement;\n    const IKeyboardEvent = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).KeyboardEvent : KeyboardEvent;\n    // For keyboard events that occur on a non-input element that will move focus into input element (aka ArrowLeft going from Datepicker button to the main input group)\n    // we need to rely on the user passing isTextInput into here. This way we can skip toggling focus visiblity for said input element\n    isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$507fabe10e71c6fb$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n    return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\nfunction $507fabe10e71c6fb$export$ffd9e5021c1fb2d6(props = {}) {\n    let { isTextInput: isTextInput, autoFocus: autoFocus } = props;\n    let [isFocusVisibleState, setFocusVisible] = (0, $28AnR$useState)(autoFocus || $507fabe10e71c6fb$export$b9b3dfddab17db27());\n    $507fabe10e71c6fb$export$ec71b4b83ac08ec3((isFocusVisible)=>{\n        setFocusVisible(isFocusVisible);\n    }, [\n        isTextInput\n    ], {\n        isTextInput: isTextInput\n    });\n    return {\n        isFocusVisible: isFocusVisibleState\n    };\n}\nfunction $507fabe10e71c6fb$export$ec71b4b83ac08ec3(fn, deps, opts) {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    (0, $28AnR$useEffect)(()=>{\n        let handler = (modality, e)=>{\n            // We want to early return for any keyboard events that occur inside text inputs EXCEPT for Tab and Escape\n            if (!$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e)) return;\n            fn($507fabe10e71c6fb$export$b9b3dfddab17db27());\n        };\n        $507fabe10e71c6fb$var$changeHandlers.add(handler);\n        return ()=>{\n            $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n}\n\n\nexport {$507fabe10e71c6fb$export$d90243b58daecda7 as hasSetupGlobalListeners, $507fabe10e71c6fb$export$2f1888112f558a7d as addWindowFocusTracking, $507fabe10e71c6fb$export$b9b3dfddab17db27 as isFocusVisible, $507fabe10e71c6fb$export$630ff653c5ada6a9 as getInteractionModality, $507fabe10e71c6fb$export$8397ddfc504fdb9a as setInteractionModality, $507fabe10e71c6fb$export$98e20ec92f614cfe as useInteractionModality, $507fabe10e71c6fb$export$ffd9e5021c1fb2d6 as useFocusVisible, $507fabe10e71c6fb$export$ec71b4b83ac08ec3 as useFocusVisibleListener};\n//# sourceMappingURL=useFocusVisible.module.js.map\n","import {useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useCallback as $hf0lj$useCallback} from \"react\";\nimport {getOwnerDocument as $hf0lj$getOwnerDocument, getActiveElement as $hf0lj$getActiveElement, getEventTarget as $hf0lj$getEventTarget} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\nfunction $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(props) {\n    let { isDisabled: isDisabled, onFocus: onFocusProp, onBlur: onBlurProp, onFocusChange: onFocusChange } = props;\n    const onBlur = (0, $hf0lj$useCallback)((e)=>{\n        if (e.target === e.currentTarget) {\n            if (onBlurProp) onBlurProp(e);\n            if (onFocusChange) onFocusChange(false);\n            return true;\n        }\n    }, [\n        onBlurProp,\n        onFocusChange\n    ]);\n    const onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    const onFocus = (0, $hf0lj$useCallback)((e)=>{\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        const ownerDocument = (0, $hf0lj$getOwnerDocument)(e.target);\n        const activeElement = ownerDocument ? (0, $hf0lj$getActiveElement)(ownerDocument) : (0, $hf0lj$getActiveElement)();\n        if (e.target === e.currentTarget && activeElement === (0, $hf0lj$getEventTarget)(e.nativeEvent)) {\n            if (onFocusProp) onFocusProp(e);\n            if (onFocusChange) onFocusChange(true);\n            onSyntheticFocus(e);\n        }\n    }, [\n        onFocusChange,\n        onFocusProp,\n        onSyntheticFocus\n    ]);\n    return {\n        focusProps: {\n            onFocus: !isDisabled && (onFocusProp || onFocusChange || onBlurProp) ? onFocus : undefined,\n            onBlur: !isDisabled && (onBlurProp || onFocusChange) ? onBlur : undefined\n        }\n    };\n}\n\n\nexport {$a1ea59d68270f0dd$export$f8168d8dd8fd66e6 as useFocus};\n//# sourceMappingURL=useFocus.module.js.map\n","import {createSyntheticEvent as $8a9cb279dc87e130$export$525bc4921d56d4a, setEventTarget as $8a9cb279dc87e130$export$c2b7abe5d61ec696, useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useRef as $3b9Q0$useRef, useCallback as $3b9Q0$useCallback} from \"react\";\nimport {useGlobalListeners as $3b9Q0$useGlobalListeners, getOwnerDocument as $3b9Q0$getOwnerDocument, getActiveElement as $3b9Q0$getActiveElement, getEventTarget as $3b9Q0$getEventTarget, nodeContains as $3b9Q0$nodeContains} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\nfunction $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n    let { isDisabled: isDisabled, onBlurWithin: onBlurWithin, onFocusWithin: onFocusWithin, onFocusWithinChange: onFocusWithinChange } = props;\n    let state = (0, $3b9Q0$useRef)({\n        isFocusWithin: false\n    });\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $3b9Q0$useGlobalListeners)();\n    let onBlur = (0, $3b9Q0$useCallback)((e)=>{\n        // Ignore events bubbling through portals.\n        if (!e.currentTarget.contains(e.target)) return;\n        // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n        // when moving focus inside the element. Only trigger if the currentTarget doesn't\n        // include the relatedTarget (where focus is moving).\n        if (state.current.isFocusWithin && !e.currentTarget.contains(e.relatedTarget)) {\n            state.current.isFocusWithin = false;\n            removeAllGlobalListeners();\n            if (onBlurWithin) onBlurWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(false);\n        }\n    }, [\n        onBlurWithin,\n        onFocusWithinChange,\n        state,\n        removeAllGlobalListeners\n    ]);\n    let onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    let onFocus = (0, $3b9Q0$useCallback)((e)=>{\n        // Ignore events bubbling through portals.\n        if (!e.currentTarget.contains(e.target)) return;\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        const ownerDocument = (0, $3b9Q0$getOwnerDocument)(e.target);\n        const activeElement = (0, $3b9Q0$getActiveElement)(ownerDocument);\n        if (!state.current.isFocusWithin && activeElement === (0, $3b9Q0$getEventTarget)(e.nativeEvent)) {\n            if (onFocusWithin) onFocusWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(true);\n            state.current.isFocusWithin = true;\n            onSyntheticFocus(e);\n            // Browsers don't fire blur events when elements are removed from the DOM.\n            // However, if a focus event occurs outside the element we're tracking, we\n            // can manually fire onBlur.\n            let currentTarget = e.currentTarget;\n            addGlobalListener(ownerDocument, 'focus', (e)=>{\n                if (state.current.isFocusWithin && !(0, $3b9Q0$nodeContains)(currentTarget, e.target)) {\n                    let nativeEvent = new ownerDocument.defaultView.FocusEvent('blur', {\n                        relatedTarget: e.target\n                    });\n                    (0, $8a9cb279dc87e130$export$c2b7abe5d61ec696)(nativeEvent, currentTarget);\n                    let event = (0, $8a9cb279dc87e130$export$525bc4921d56d4a)(nativeEvent);\n                    onBlur(event);\n                }\n            }, {\n                capture: true\n            });\n        }\n    }, [\n        onFocusWithin,\n        onFocusWithinChange,\n        onSyntheticFocus,\n        addGlobalListener,\n        onBlur\n    ]);\n    if (isDisabled) return {\n        focusWithinProps: {\n            // These cannot be null, that would conflict in mergeProps\n            onFocus: undefined,\n            onBlur: undefined\n        }\n    };\n    return {\n        focusWithinProps: {\n            onFocus: onFocus,\n            onBlur: onBlur\n        }\n    };\n}\n\n\nexport {$9ab94262bd0047c7$export$420e68273165f4ec as useFocusWithin};\n//# sourceMappingURL=useFocusWithin.module.js.map\n","import {useGlobalListeners as $AWxnT$useGlobalListeners, getOwnerDocument as $AWxnT$getOwnerDocument, nodeContains as $AWxnT$nodeContains} from \"@react-aria/utils\";\nimport {useState as $AWxnT$useState, useRef as $AWxnT$useRef, useEffect as $AWxnT$useEffect, useMemo as $AWxnT$useMemo} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\nlet $6179b936705e76d3$var$hoverCount = 0;\nfunction $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents() {\n    $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = true;\n    // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n    // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n    // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n    // the distant future because a user previously touched the element.\n    setTimeout(()=>{\n        $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n    }, 50);\n}\nfunction $6179b936705e76d3$var$handleGlobalPointerEvent(e) {\n    if (e.pointerType === 'touch') $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents();\n}\nfunction $6179b936705e76d3$var$setupGlobalTouchEvents() {\n    if (typeof document === 'undefined') return;\n    if ($6179b936705e76d3$var$hoverCount === 0) {\n        if (typeof PointerEvent !== 'undefined') document.addEventListener('pointerup', $6179b936705e76d3$var$handleGlobalPointerEvent);\n        else if (process.env.NODE_ENV === 'test') document.addEventListener('touchend', $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents);\n    }\n    $6179b936705e76d3$var$hoverCount++;\n    return ()=>{\n        $6179b936705e76d3$var$hoverCount--;\n        if ($6179b936705e76d3$var$hoverCount > 0) return;\n        if (typeof PointerEvent !== 'undefined') document.removeEventListener('pointerup', $6179b936705e76d3$var$handleGlobalPointerEvent);\n        else if (process.env.NODE_ENV === 'test') document.removeEventListener('touchend', $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents);\n    };\n}\nfunction $6179b936705e76d3$export$ae780daf29e6d456(props) {\n    let { onHoverStart: onHoverStart, onHoverChange: onHoverChange, onHoverEnd: onHoverEnd, isDisabled: isDisabled } = props;\n    let [isHovered, setHovered] = (0, $AWxnT$useState)(false);\n    let state = (0, $AWxnT$useRef)({\n        isHovered: false,\n        ignoreEmulatedMouseEvents: false,\n        pointerType: '',\n        target: null\n    }).current;\n    (0, $AWxnT$useEffect)($6179b936705e76d3$var$setupGlobalTouchEvents, []);\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $AWxnT$useGlobalListeners)();\n    let { hoverProps: hoverProps, triggerHoverEnd: triggerHoverEnd } = (0, $AWxnT$useMemo)(()=>{\n        let triggerHoverStart = (event, pointerType)=>{\n            state.pointerType = pointerType;\n            if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) return;\n            state.isHovered = true;\n            let target = event.currentTarget;\n            state.target = target;\n            // When an element that is hovered over is removed, no pointerleave event is fired by the browser,\n            // even though the originally hovered target may have shrunk in size so it is no longer hovered.\n            // However, a pointerover event will be fired on the new target the mouse is over.\n            // In Chrome this happens immediately. In Safari and Firefox, it happens upon moving the mouse one pixel.\n            addGlobalListener((0, $AWxnT$getOwnerDocument)(event.target), 'pointerover', (e)=>{\n                if (state.isHovered && state.target && !(0, $AWxnT$nodeContains)(state.target, e.target)) triggerHoverEnd(e, e.pointerType);\n            }, {\n                capture: true\n            });\n            if (onHoverStart) onHoverStart({\n                type: 'hoverstart',\n                target: target,\n                pointerType: pointerType\n            });\n            if (onHoverChange) onHoverChange(true);\n            setHovered(true);\n        };\n        let triggerHoverEnd = (event, pointerType)=>{\n            let target = state.target;\n            state.pointerType = '';\n            state.target = null;\n            if (pointerType === 'touch' || !state.isHovered || !target) return;\n            state.isHovered = false;\n            removeAllGlobalListeners();\n            if (onHoverEnd) onHoverEnd({\n                type: 'hoverend',\n                target: target,\n                pointerType: pointerType\n            });\n            if (onHoverChange) onHoverChange(false);\n            setHovered(false);\n        };\n        let hoverProps = {};\n        if (typeof PointerEvent !== 'undefined') {\n            hoverProps.onPointerEnter = (e)=>{\n                if ($6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') return;\n                triggerHoverStart(e, e.pointerType);\n            };\n            hoverProps.onPointerLeave = (e)=>{\n                if (!isDisabled && e.currentTarget.contains(e.target)) triggerHoverEnd(e, e.pointerType);\n            };\n        } else if (process.env.NODE_ENV === 'test') {\n            hoverProps.onTouchStart = ()=>{\n                state.ignoreEmulatedMouseEvents = true;\n            };\n            hoverProps.onMouseEnter = (e)=>{\n                if (!state.ignoreEmulatedMouseEvents && !$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents) triggerHoverStart(e, 'mouse');\n                state.ignoreEmulatedMouseEvents = false;\n            };\n            hoverProps.onMouseLeave = (e)=>{\n                if (!isDisabled && e.currentTarget.contains(e.target)) triggerHoverEnd(e, 'mouse');\n            };\n        }\n        return {\n            hoverProps: hoverProps,\n            triggerHoverEnd: triggerHoverEnd\n        };\n    }, [\n        onHoverStart,\n        onHoverChange,\n        onHoverEnd,\n        isDisabled,\n        state,\n        addGlobalListener,\n        removeAllGlobalListeners\n    ]);\n    (0, $AWxnT$useEffect)(()=>{\n        // Call the triggerHoverEnd as soon as isDisabled changes to true\n        // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n        if (isDisabled) triggerHoverEnd({\n            currentTarget: state.target\n        }, state.pointerType);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        isDisabled\n    ]);\n    return {\n        hoverProps: hoverProps,\n        isHovered: isHovered\n    };\n}\n\n\nexport {$6179b936705e76d3$export$ae780daf29e6d456 as useHover};\n//# sourceMappingURL=useHover.module.js.map\n","import {isFocusVisible as $isWE5$isFocusVisible, useFocusVisibleListener as $isWE5$useFocusVisibleListener, useFocus as $isWE5$useFocus, useFocusWithin as $isWE5$useFocusWithin} from \"@react-aria/interactions\";\nimport {useRef as $isWE5$useRef, useState as $isWE5$useState, useCallback as $isWE5$useCallback} from \"react\";\n\n\n\nfunction $f7dceffc5ad7768b$export$4e328f61c538687f(props = {}) {\n    let { autoFocus: autoFocus = false, isTextInput: isTextInput, within: within } = props;\n    let state = (0, $isWE5$useRef)({\n        isFocused: false,\n        isFocusVisible: autoFocus || (0, $isWE5$isFocusVisible)()\n    });\n    let [isFocused, setFocused] = (0, $isWE5$useState)(false);\n    let [isFocusVisibleState, setFocusVisible] = (0, $isWE5$useState)(()=>state.current.isFocused && state.current.isFocusVisible);\n    let updateState = (0, $isWE5$useCallback)(()=>setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n    let onFocusChange = (0, $isWE5$useCallback)((isFocused)=>{\n        state.current.isFocused = isFocused;\n        setFocused(isFocused);\n        updateState();\n    }, [\n        updateState\n    ]);\n    (0, $isWE5$useFocusVisibleListener)((isFocusVisible)=>{\n        state.current.isFocusVisible = isFocusVisible;\n        updateState();\n    }, [], {\n        isTextInput: isTextInput\n    });\n    let { focusProps: focusProps } = (0, $isWE5$useFocus)({\n        isDisabled: within,\n        onFocusChange: onFocusChange\n    });\n    let { focusWithinProps: focusWithinProps } = (0, $isWE5$useFocusWithin)({\n        isDisabled: !within,\n        onFocusWithinChange: onFocusChange\n    });\n    return {\n        isFocused: isFocused,\n        isFocusVisible: isFocusVisibleState,\n        focusProps: within ? focusWithinProps : focusProps\n    };\n}\n\n\nexport {$f7dceffc5ad7768b$export$4e328f61c538687f as useFocusRing};\n//# sourceMappingURL=useFocusRing.module.js.map\n","var i=Object.defineProperty;var d=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var r=(t,e,n)=>(d(t,typeof e!=\"symbol\"?e+\"\":e,n),n);class o{constructor(){r(this,\"current\",this.detect());r(this,\"handoffState\",\"pending\");r(this,\"currentId\",0)}set(e){this.current!==e&&(this.handoffState=\"pending\",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current===\"server\"}get isClient(){return this.current===\"client\"}detect(){return typeof window==\"undefined\"||typeof document==\"undefined\"?\"server\":\"client\"}handoff(){this.handoffState===\"pending\"&&(this.handoffState=\"complete\")}get isHandoffComplete(){return this.handoffState===\"complete\"}}let s=new o;export{s as env};\n","import{env as t}from'./env.js';function l(n){var u;return t.isServer?null:n==null?document:(u=n==null?void 0:n.ownerDocument)!=null?u:document}function r(n){var u,o;return t.isServer?null:n==null?document:(o=(u=n==null?void 0:n.getRootNode)==null?void 0:u.call(n))!=null?o:document}function e(n){var u,o;return(o=(u=r(n))==null?void 0:u.activeElement)!=null?o:null}function d(n){return e(n)===n}export{e as getActiveElement,l as getOwnerDocument,r as getRootNode,d as isActiveElement};\n","function t(e){typeof queueMicrotask==\"function\"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}export{t as microTask};\n","import{microTask as a}from'./micro-task.js';function o(){let s=[],r={addEventListener(e,t,n,i){return e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...e))},setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return a(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,n){let i=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:i})})},group(e){let t=o();return e(t),this.add(()=>t.dispose())},add(e){return s.includes(e)||s.push(e),()=>{let t=s.indexOf(e);if(t>=0)for(let n of s.splice(t,1))n()}},dispose(){for(let e of s.splice(0))e()}};return r}export{o as disposables};\n","import{useEffect as s,useState as o}from\"react\";import{disposables as t}from'../utils/disposables.js';function p(){let[e]=o(t);return s(()=>()=>e.dispose(),[e]),e}export{p as useDisposables};\n","import{useEffect as f,useLayoutEffect as c}from\"react\";import{env as i}from'../utils/env.js';let n=(e,t)=>{i.isServer?f(e,t):c(e,t)};export{n as useIsoMorphicEffect};\n","import{useRef as t}from\"react\";import{useIsoMorphicEffect as o}from'./use-iso-morphic-effect.js';function s(e){let r=t(e);return o(()=>{r.current=e},[e]),r}export{s as useLatestValue};\n","import a from\"react\";import{useLatestValue as n}from'./use-latest-value.js';let o=function(t){let e=n(t);return a.useCallback((...r)=>e.current(...r),[e])};export{o as useEvent};\n","import{useRef as a,useState as m}from\"react\";import{getOwnerDocument as d}from'../utils/owner.js';import{useDisposables as g}from'./use-disposables.js';import{useEvent as u}from'./use-event.js';function E(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function P(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function w({disabled:e=!1}={}){let t=a(null),[n,l]=m(!1),r=g(),o=u(()=>{t.current=null,l(!1),r.dispose()}),f=u(s=>{if(r.dispose(),t.current===null){t.current=s.currentTarget,l(!0);{let i=d(s.currentTarget);r.addEventListener(i,\"pointerup\",o,!1),r.addEventListener(i,\"pointermove\",c=>{if(t.current){let p=E(c);l(P(p,t.current.getBoundingClientRect()))}},!1),r.addEventListener(i,\"pointercancel\",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:f,onPointerUp:o,onClick:o}}}export{w as useActivePress};\n","import{useMemo as t}from\"react\";function n(e){return t(()=>e,Object.values(e))}export{n as useSlot};\n","import n,{createContext as r,useContext as i}from\"react\";let e=r(void 0);function a(){return i(e)}function l({value:t,children:o}){return n.createElement(e.Provider,{value:t},o)}export{l as DisabledProvider,a as useDisabled};\n","function t(...r){return Array.from(new Set(r.flatMap(n=>typeof n==\"string\"?n.split(\" \"):[]))).filter(Boolean).join(\" \")}export{t as classNames};\n","function u(r,n,...a){if(r in n){let e=n[r];return typeof e==\"function\"?e(...a):e}let t=new Error(`Tried to handle \"${r}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`\"${e}\"`).join(\", \")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}export{u as match};\n","import E,{Fragment as j,cloneElement as v,createElement as S,forwardRef as w,isValidElement as k,useCallback as x,useRef as M}from\"react\";import{classNames as N}from'./class-names.js';import{match as O}from'./match.js';var A=(a=>(a[a.None=0]=\"None\",a[a.RenderStrategy=1]=\"RenderStrategy\",a[a.Static=2]=\"Static\",a))(A||{}),C=(e=>(e[e.Unmount=0]=\"Unmount\",e[e.Hidden=1]=\"Hidden\",e))(C||{});function K(){let n=$();return x(r=>U({mergeRefs:n,...r}),[n])}function U({ourProps:n,theirProps:r,slot:e,defaultTag:a,features:s,visible:t=!0,name:l,mergeRefs:i}){i=i!=null?i:I;let o=P(r,n);if(t)return F(o,e,a,l,i);let y=s!=null?s:0;if(y&2){let{static:f=!1,...u}=o;if(f)return F(u,e,a,l,i)}if(y&1){let{unmount:f=!0,...u}=o;return O(f?0:1,{[0](){return null},[1](){return F({...u,hidden:!0,style:{display:\"none\"}},e,a,l,i)}})}return F(o,e,a,l,i)}function F(n,r={},e,a,s){let{as:t=e,children:l,refName:i=\"ref\",...o}=h(n,[\"unmount\",\"static\"]),y=n.ref!==void 0?{[i]:n.ref}:{},f=typeof l==\"function\"?l(r):l;\"className\"in o&&o.className&&typeof o.className==\"function\"&&(o.className=o.className(r)),o[\"aria-labelledby\"]&&o[\"aria-labelledby\"]===o.id&&(o[\"aria-labelledby\"]=void 0);let u={};if(r){let d=!1,p=[];for(let[c,T]of Object.entries(r))typeof T==\"boolean\"&&(d=!0),T===!0&&p.push(c.replace(/([A-Z])/g,g=>`-${g.toLowerCase()}`));if(d){u[\"data-headlessui-state\"]=p.join(\" \");for(let c of p)u[`data-${c}`]=\"\"}}if(b(t)&&(Object.keys(m(o)).length>0||Object.keys(m(u)).length>0))if(!k(f)||Array.isArray(f)&&f.length>1||D(f)){if(Object.keys(m(o)).length>0)throw new Error(['Passing props on \"Fragment\"!',\"\",`The current component <${a} /> is rendering a \"Fragment\".`,\"However we need to passthrough the following props:\",Object.keys(m(o)).concat(Object.keys(m(u))).map(d=>`  - ${d}`).join(`\n`),\"\",\"You can apply a few solutions:\",['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\"Render a single element as the child so that we can forward the props onto that element.\"].map(d=>`  - ${d}`).join(`\n`)].join(`\n`))}else{let d=f.props,p=d==null?void 0:d.className,c=typeof p==\"function\"?(...R)=>N(p(...R),o.className):N(p,o.className),T=c?{className:c}:{},g=P(f.props,m(h(o,[\"ref\"])));for(let R in u)R in g&&delete u[R];return v(f,Object.assign({},g,u,y,{ref:s(H(f),y.ref)},T))}return S(t,Object.assign({},h(o,[\"ref\"]),!b(t)&&y,!b(t)&&u),f)}function $(){let n=M([]),r=x(e=>{for(let a of n.current)a!=null&&(typeof a==\"function\"?a(e):a.current=e)},[]);return(...e)=>{if(!e.every(a=>a==null))return n.current=e,r}}function I(...n){return n.every(r=>r==null)?void 0:r=>{for(let e of n)e!=null&&(typeof e==\"function\"?e(r):e.current=r)}}function P(...n){var a;if(n.length===0)return{};if(n.length===1)return n[0];let r={},e={};for(let s of n)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):r[t]=s[t];if(r.disabled||r[\"aria-disabled\"])for(let s in e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(e[s]=[t=>{var l;return(l=t==null?void 0:t.preventDefault)==null?void 0:l.call(t)}]);for(let s in e)Object.assign(r,{[s](t,...l){let i=e[s];for(let o of i){if((t instanceof Event||(t==null?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;o(t,...l)}}});return r}function V(...n){var a;if(n.length===0)return{};if(n.length===1)return n[0];let r={},e={};for(let s of n)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):r[t]=s[t];for(let s in e)Object.assign(r,{[s](...t){let l=e[s];for(let i of l)i==null||i(...t)}});return r}function Y(n){var r;return Object.assign(w(n),{displayName:(r=n.displayName)!=null?r:n.name})}function m(n){let r=Object.assign({},n);for(let e in r)r[e]===void 0&&delete r[e];return r}function h(n,r=[]){let e=Object.assign({},n);for(let a of r)a in e&&delete e[a];return e}function H(n){return E.version.split(\".\")[0]>=\"19\"?n.props.ref:n.ref}function b(n){return n===j||n===Symbol.for(\"react.fragment\")}function D(n){return b(n.type)}export{A as RenderFeatures,C as RenderStrategy,m as compact,Y as forwardRefWithAs,b as isFragment,D as isFragmentInstance,V as mergeProps,K as useRender};\n","import{useRef as o,useState as f}from\"react\";import{flushSync as a}from\"react-dom\";import{useEvent as m}from'./use-event.js';function b(l,r,c){let[i,s]=f(c),e=l!==void 0,t=o(e),u=o(!1),d=o(!1);return e&&!t.current&&!u.current?(u.current=!0,t.current=e,console.error(\"A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.\")):!e&&t.current&&!d.current&&(d.current=!0,t.current=e,console.error(\"A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.\")),[e?l:i,m(n=>(e||a(()=>s(n)),r==null?void 0:r(n)))]}export{b as useControllable};\n","import{useState as u}from\"react\";function l(e){let[t]=u(e);return t}export{l as useDefaultValue};\n","import{isValidElement as f}from\"react\";function p(t={},i=null,n=[]){for(let[e,o]of Object.entries(t))s(n,r(i,e),o);return n}function r(t,i){return t?t+\"[\"+i+\"]\":i}function s(t,i,n){if(Array.isArray(n))for(let[e,o]of n.entries())s(t,r(i,e.toString()),o);else n instanceof Date?t.push([i,n.toISOString()]):typeof n==\"boolean\"?t.push([i,n?\"1\":\"0\"]):typeof n==\"string\"?t.push([i,n]):typeof n==\"number\"?t.push([i,`${n}`]):n==null?t.push([i,\"\"]):c(n)&&!f(n)&&p(n,i,t)}function g(t){var n,e;let i=(n=t==null?void 0:t.form)!=null?n:t.closest(\"form\");if(i){for(let o of i.elements)if(o!==t&&(o.tagName===\"INPUT\"&&o.type===\"submit\"||o.tagName===\"BUTTON\"&&o.type===\"submit\"||o.nodeName===\"INPUT\"&&o.type===\"image\")){o.click();return}(e=i.requestSubmit)==null||e.call(i)}}function c(t){if(Object.prototype.toString.call(t)!==\"[object Object]\")return!1;let i=Object.getPrototypeOf(t);return i===null||Object.getPrototypeOf(i)===null}export{g as attemptSubmit,p as objectToFormEntries};\n","import{forwardRefWithAs as i,useRender as p}from'../utils/render.js';let a=\"span\";var s=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(s||{});function l(t,r){var n;let{features:d=1,...e}=t,o={ref:r,\"aria-hidden\":(d&2)===2?!0:(n=e[\"aria-hidden\"])!=null?n:void 0,hidden:(d&4)===4?!0:void 0,style:{position:\"fixed\",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(d&4)===4&&(d&2)!==2&&{display:\"none\"}}};return p()({ourProps:o,theirProps:e,slot:{},defaultTag:a,name:\"Hidden\"})}let f=i(l);export{f as Hidden,s as HiddenFeatures};\n","import o,{createContext as H,useContext as E,useEffect as m,useState as u}from\"react\";import{createPortal as g}from\"react-dom\";import{useDisposables as h}from'../hooks/use-disposables.js';import{objectToFormEntries as x}from'../utils/form.js';import{compact as y}from'../utils/render.js';import{Hidden as l,HiddenFeatures as d}from'./hidden.js';let f=H(null);function W(t){let[e,r]=u(null);return o.createElement(f.Provider,{value:{target:e}},t.children,o.createElement(l,{features:d.Hidden,ref:r}))}function c({children:t}){let e=E(f);if(!e)return o.createElement(o.Fragment,null,t);let{target:r}=e;return r?g(o.createElement(o.Fragment,null,t),r):null}function j({data:t,form:e,disabled:r,onReset:n,overrides:F}){let[i,a]=u(null),p=h();return m(()=>{if(n&&i)return p.addEventListener(i,\"reset\",n)},[i,e,n]),o.createElement(c,null,o.createElement(C,{setForm:a,formId:e}),x(t).map(([s,v])=>o.createElement(l,{features:d.Hidden,...y({key:s,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:e,disabled:r,name:s,value:v,...F})})))}function C({setForm:t,formId:e}){return m(()=>{if(e){let r=document.getElementById(e);r&&t(r)}},[t,e]),e?null:o.createElement(l,{features:d.Hidden,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest(\"form\");n&&t(n)}})}export{j as FormFields,W as FormFieldsProvider,c as HoistFormFields};\n","import n,{createContext as d,useContext as i}from\"react\";let e=d(void 0);function u(){return i(e)}function f({id:t,children:r}){return n.createElement(e.Provider,{value:t},r)}export{f as IdProvider,u as useProvidedId};\n","function o(e){return typeof e!=\"object\"||e===null?!1:\"nodeType\"in e}function t(e){return o(e)&&\"tagName\"in e}function n(e){return t(e)&&\"accessKey\"in e}function i(e){return t(e)&&\"tabIndex\"in e}function r(e){return t(e)&&\"style\"in e}function u(e){return n(e)&&e.nodeName===\"IFRAME\"}function l(e){return n(e)&&e.nodeName===\"INPUT\"}function s(e){return n(e)&&e.nodeName===\"TEXTAREA\"}function m(e){return n(e)&&e.nodeName===\"LABEL\"}function a(e){return n(e)&&e.nodeName===\"FIELDSET\"}function E(e){return n(e)&&e.nodeName===\"LEGEND\"}function L(e){return t(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type=\"hidden\"]),label,select,textarea,video[controls]'):!1}export{r as hasInlineStyle,t as isElement,n as isHTMLElement,a as isHTMLFieldSetElement,u as isHTMLIframeElement,l as isHTMLInputElement,m as isHTMLLabelElement,E as isHTMLLegendElement,s as isHTMLTextAreaElement,i as isHTMLorSVGElement,L as isInteractiveElement,o as isNode};\n","import*as n from'./dom.js';function s(l){let e=l.parentElement,t=null;for(;e&&!n.isHTMLFieldSetElement(e);)n.isHTMLLegendElement(e)&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute(\"disabled\"))===\"\";return i&&r(t)?!1:i}function r(l){if(!l)return!1;let e=l.previousElementSibling;for(;e!==null;){if(n.isHTMLLegendElement(e))return!1;e=e.previousElementSibling}return!0}export{s as isDisabledReactIssue7711};\n","import{useEffect as l,useRef as i}from\"react\";import{useEvent as r}from'./use-event.js';let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=i(t);l(()=>{n.current=t},[t]);let c=r(e=>{for(let o of n.current)o!=null&&(typeof o==\"function\"?o(e):o.current=e)});return t.every(e=>e==null||(e==null?void 0:e[u]))?void 0:c}export{T as optionalRef,y as useSyncRefs};\n","\"use client\";import m,{createContext as D,useContext as d,useMemo as u,useState as T}from\"react\";import{useEvent as P}from'../../hooks/use-event.js';import{useId as g}from'../../hooks/use-id.js';import{useIsoMorphicEffect as x}from'../../hooks/use-iso-morphic-effect.js';import{useSlot as y}from'../../hooks/use-slot.js';import{useSyncRefs as E}from'../../hooks/use-sync-refs.js';import{useDisabled as v}from'../../internal/disabled.js';import{forwardRefWithAs as R,useRender as S}from'../../utils/render.js';let a=D(null);a.displayName=\"DescriptionContext\";function f(){let r=d(a);if(r===null){let e=new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(e,f),e}return r}function w(){var r,e;return(e=(r=d(a))==null?void 0:r.value)!=null?e:void 0}function H(){let[r,e]=T([]);return[r.length>0?r.join(\" \"):void 0,u(()=>function(t){let i=P(n=>(e(o=>[...o,n]),()=>e(o=>{let s=o.slice(),p=s.indexOf(n);return p!==-1&&s.splice(p,1),s}))),l=u(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return m.createElement(a.Provider,{value:l},t.children)},[e])]}let I=\"p\";function C(r,e){let c=g(),t=v(),{id:i=`headlessui-description-${c}`,...l}=r,n=f(),o=E(e);x(()=>n.register(i),[i,n.register]);let s=y({...n.slot,disabled:t||!1}),p={ref:o,...n.props,id:i};return S()({ourProps:p,theirProps:l,slot:s,defaultTag:I,name:n.name||\"Description\"})}let _=R(C),M=Object.assign(_,{});export{M as Description,w as useDescribedBy,H as useDescriptions};\n","var o=(r=>(r.Space=\" \",r.Enter=\"Enter\",r.Escape=\"Escape\",r.Backspace=\"Backspace\",r.Delete=\"Delete\",r.ArrowLeft=\"ArrowLeft\",r.ArrowUp=\"ArrowUp\",r.ArrowRight=\"ArrowRight\",r.ArrowDown=\"ArrowDown\",r.Home=\"Home\",r.End=\"End\",r.PageUp=\"PageUp\",r.PageDown=\"PageDown\",r.Tab=\"Tab\",r))(o||{});export{o as Keys};\n","\"use client\";import R,{createContext as D,useContext as h,useMemo as v,useState as k}from\"react\";import{useEvent as P}from'../../hooks/use-event.js';import{useId as _}from'../../hooks/use-id.js';import{useIsoMorphicEffect as S}from'../../hooks/use-iso-morphic-effect.js';import{useSlot as A}from'../../hooks/use-slot.js';import{useSyncRefs as B}from'../../hooks/use-sync-refs.js';import{useDisabled as F}from'../../internal/disabled.js';import{useProvidedId as M}from'../../internal/id.js';import*as m from'../../utils/dom.js';import{forwardRefWithAs as I,useRender as H}from'../../utils/render.js';let L=D(null);L.displayName=\"LabelContext\";function C(){let n=h(L);if(n===null){let l=new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(l,C),l}return n}function N(n){var a,e,o;let l=(e=(a=h(L))==null?void 0:a.value)!=null?e:void 0;return((o=n==null?void 0:n.length)!=null?o:0)>0?[l,...n].filter(Boolean).join(\" \"):l}function V({inherit:n=!1}={}){let l=N(),[a,e]=k([]),o=n?[l,...a].filter(Boolean):a;return[o.length>0?o.join(\" \"):void 0,v(()=>function(t){let p=P(i=>(e(u=>[...u,i]),()=>e(u=>{let d=u.slice(),f=d.indexOf(i);return f!==-1&&d.splice(f,1),d}))),b=v(()=>({register:p,slot:t.slot,name:t.name,props:t.props,value:t.value}),[p,t.slot,t.name,t.props,t.value]);return R.createElement(L.Provider,{value:b},t.children)},[e])]}let G=\"label\";function U(n,l){var y;let a=_(),e=C(),o=M(),T=F(),{id:t=`headlessui-label-${a}`,htmlFor:p=o!=null?o:(y=e.props)==null?void 0:y.htmlFor,passive:b=!1,...i}=n,u=B(l);S(()=>e.register(t),[t,e.register]);let d=P(s=>{let g=s.currentTarget;if(!(s.target!==s.currentTarget&&m.isInteractiveElement(s.target))&&(m.isHTMLLabelElement(g)&&s.preventDefault(),e.props&&\"onClick\"in e.props&&typeof e.props.onClick==\"function\"&&e.props.onClick(s),m.isHTMLLabelElement(g))){let r=document.getElementById(g.htmlFor);if(r){let E=r.getAttribute(\"disabled\");if(E===\"true\"||E===\"\")return;let x=r.getAttribute(\"aria-disabled\");if(x===\"true\"||x===\"\")return;(m.isHTMLInputElement(r)&&(r.type===\"file\"||r.type===\"radio\"||r.type===\"checkbox\")||r.role===\"radio\"||r.role===\"checkbox\"||r.role===\"switch\")&&r.click(),r.focus({preventScroll:!0})}}}),f=A({...e.slot,disabled:T||!1}),c={ref:u,...e.props,id:t,htmlFor:p,onClick:d};return b&&(\"onClick\"in c&&(delete c.htmlFor,delete c.onClick),\"onClick\"in i&&delete i.onClick),H()({ourProps:c,theirProps:i,slot:f,defaultTag:p?G:\"div\",name:e.name||\"Label\"})}let j=I(U),Z=Object.assign(j,{});export{Z as Label,C as useLabelContext,N as useLabelledBy,V as useLabels};\n","\"use client\";import r,{createContext as n,useContext as i}from\"react\";let e=n(()=>{});function u(){return i(e)}function C({value:t,children:o}){return r.createElement(e.Provider,{value:t},o)}export{C as CloseProvider,u as useClose};\n","class a extends Map{constructor(t){super();this.factory=t}get(t){let e=super.get(t);return e===void 0&&(e=this.factory(t),this.set(t,e)),e}}export{a as DefaultMap};\n","var h=Object.defineProperty;var v=(t,e,r)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>(v(t,typeof e!=\"symbol\"?e+\"\":e,r),r),b=(t,e,r)=>{if(!e.has(t))throw TypeError(\"Cannot \"+r)};var i=(t,e,r)=>(b(t,e,\"read from private field\"),r?r.call(t):e.get(t)),c=(t,e,r)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,r)},u=(t,e,r,s)=>(b(t,e,\"write to private field\"),s?s.call(t,r):e.set(t,r),r);var n,a,o;import{DefaultMap as m}from'./utils/default-map.js';import{disposables as y}from'./utils/disposables.js';import{env as d}from'./utils/env.js';class T{constructor(e){c(this,n,{});c(this,a,new m(()=>new Set));c(this,o,new Set);S(this,\"disposables\",y());u(this,n,e),d.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return i(this,n)}subscribe(e,r){if(d.isServer)return()=>{};let s={selector:e,callback:r,current:e(i(this,n))};return i(this,o).add(s),this.disposables.add(()=>{i(this,o).delete(s)})}on(e,r){return d.isServer?()=>{}:(i(this,a).get(e).add(r),this.disposables.add(()=>{i(this,a).get(e).delete(r)}))}send(e){let r=this.reduce(i(this,n),e);if(r!==i(this,n)){u(this,n,r);for(let s of i(this,o)){let l=s.selector(i(this,n));j(s.current,l)||(s.current=l,s.callback(l))}for(let s of i(this,a).get(e.type))s(i(this,n),e)}}}n=new WeakMap,a=new WeakMap,o=new WeakMap;function j(t,e){return Object.is(t,e)?!0:typeof t!=\"object\"||t===null||typeof e!=\"object\"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:f(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:f(t.entries(),e.entries()):p(t)&&p(e)?f(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function f(t,e){do{let r=t.next(),s=e.next();if(r.done&&s.done)return!0;if(r.done||s.done||!Object.is(r.value,s.value))return!1}while(!0)}function p(t){if(Object.prototype.toString.call(t)!==\"[object Object]\")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function k(t){let[e,r]=t(),s=y();return(...l)=>{e(...l),s.dispose(),s.microTask(r)}}export{T as Machine,k as batch,j as shallowEqual};\n","var a=Object.defineProperty;var r=(e,c,t)=>c in e?a(e,c,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[c]=t;var p=(e,c,t)=>(r(e,typeof c!=\"symbol\"?c+\"\":c,t),t);import{Machine as d}from'../machine.js';import{DefaultMap as l}from'../utils/default-map.js';import{match as u}from'../utils/match.js';var k=(t=>(t[t.Push=0]=\"Push\",t[t.Pop=1]=\"Pop\",t))(k||{});let y={[0](e,c){let t=c.id,s=e.stack,i=e.stack.indexOf(t);if(i!==-1){let n=e.stack.slice();return n.splice(i,1),n.push(t),s=n,{...e,stack:s}}return{...e,stack:[...e.stack,t]}},[1](e,c){let t=c.id,s=e.stack.indexOf(t);if(s===-1)return e;let i=e.stack.slice();return i.splice(s,1),{...e,stack:i}}};class o extends d{constructor(){super(...arguments);p(this,\"actions\",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})});p(this,\"selectors\",{isTop:(t,s)=>t.stack[t.stack.length-1]===s,inStack:(t,s)=>t.stack.includes(s)})}static new(){return new o({stack:[]})}reduce(t,s){return u(s.type,y,t,s)}}const x=new l(()=>o.new());export{k as ActionTypes,x as stackMachines};\n","import{useSyncExternalStoreWithSelector as a}from\"use-sync-external-store/with-selector\";import{useEvent as t}from'./hooks/use-event.js';import{shallowEqual as o}from'./machine.js';function S(e,n,r=o){return a(t(i=>e.subscribe(s,i)),t(()=>e.state),t(()=>e.state),t(n),r)}function s(e){return e}export{S as useSlice};\n","import{useCallback as n,useId as u}from\"react\";import{stackMachines as p}from'../machines/stack-machine.js';import{useSlice as f}from'../react-glue.js';import{useIsoMorphicEffect as a}from'./use-iso-morphic-effect.js';function I(o,s){let t=u(),r=p.get(s),[i,c]=f(r,n(e=>[r.selectors.isTop(e,t),r.selectors.inStack(e,t)],[r,t]));return a(()=>{if(o)return r.actions.push(t),()=>r.actions.pop(t)},[r,o,t]),o?c?i:!0:!1}export{I as useIsTopLayer};\n","import{disposables as M}from'../utils/disposables.js';import{getOwnerDocument as b}from'../utils/owner.js';import{useIsTopLayer as L}from'./use-is-top-layer.js';import{useIsoMorphicEffect as T}from'./use-iso-morphic-effect.js';let f=new Map,u=new Map;function h(t){var e;let r=(e=u.get(t))!=null?e:0;return u.set(t,r+1),r!==0?()=>m(t):(f.set(t,{\"aria-hidden\":t.getAttribute(\"aria-hidden\"),inert:t.inert}),t.setAttribute(\"aria-hidden\",\"true\"),t.inert=!0,()=>m(t))}function m(t){var i;let r=(i=u.get(t))!=null?i:1;if(r===1?u.delete(t):u.set(t,r-1),r!==1)return;let e=f.get(t);e&&(e[\"aria-hidden\"]===null?t.removeAttribute(\"aria-hidden\"):t.setAttribute(\"aria-hidden\",e[\"aria-hidden\"]),t.inert=e.inert,f.delete(t))}function y(t,{allowed:r,disallowed:e}={}){let i=L(t,\"inert-others\");T(()=>{var d,c;if(!i)return;let a=M();for(let n of(d=e==null?void 0:e())!=null?d:[])n&&a.add(h(n));let s=(c=r==null?void 0:r())!=null?c:[];for(let n of s){if(!n)continue;let l=b(n);if(!l)continue;let o=n.parentElement;for(;o&&o!==l.body;){for(let p of o.children)s.some(E=>p.contains(E))||a.add(h(p));o=o.parentElement}}return a.dispose},[i,r,e])}export{y as useInertOthers};\n","import{useEffect as l}from\"react\";import{disposables as u}from'../utils/disposables.js';import*as c from'../utils/dom.js';import{useLatestValue as d}from'./use-latest-value.js';function p(s,n,o){let i=d(t=>{let e=t.getBoundingClientRect();e.x===0&&e.y===0&&e.width===0&&e.height===0&&o()});l(()=>{if(!s)return;let t=n===null?null:c.isHTMLElement(n)?n:n.current;if(!t)return;let e=u();if(typeof ResizeObserver!=\"undefined\"){let r=new ResizeObserver(()=>i.current(t));r.observe(t),e.add(()=>r.disconnect())}if(typeof IntersectionObserver!=\"undefined\"){let r=new IntersectionObserver(()=>i.current(t));r.observe(t),e.add(()=>r.disconnect())}return()=>e.dispose()},[n,i,s])}export{p as useOnDisappear};\n","import{disposables as p}from'./disposables.js';import*as y from'./dom.js';import{match as L}from'./match.js';import{getActiveElement as b,getOwnerDocument as F,getRootNode as f}from'./owner.js';let E=[\"[contentEditable=true]\",\"[tabindex]\",\"a[href]\",\"area[href]\",\"button:not([disabled])\",\"iframe\",\"input:not([disabled])\",\"select:not([disabled])\",\"details>summary\",\"textarea:not([disabled])\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\"),S=[\"[data-autofocus]\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\");var T=(o=>(o[o.First=1]=\"First\",o[o.Previous=2]=\"Previous\",o[o.Next=4]=\"Next\",o[o.Last=8]=\"Last\",o[o.WrapAround=16]=\"WrapAround\",o[o.NoScroll=32]=\"NoScroll\",o[o.AutoFocus=64]=\"AutoFocus\",o))(T||{}),A=(n=>(n[n.Error=0]=\"Error\",n[n.Overflow=1]=\"Overflow\",n[n.Success=2]=\"Success\",n[n.Underflow=3]=\"Underflow\",n))(A||{}),O=(t=>(t[t.Previous=-1]=\"Previous\",t[t.Next=1]=\"Next\",t))(O||{});function x(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(E)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function h(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(S)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var I=(t=>(t[t.Strict=0]=\"Strict\",t[t.Loose=1]=\"Loose\",t))(I||{});function H(e,r=0){var t;return e===((t=F(e))==null?void 0:t.body)?!1:L(r,{[0](){return e.matches(E)},[1](){let l=e;for(;l!==null;){if(l.matches(E))return!0;l=l.parentElement}return!1}})}function K(e){p().nextFrame(()=>{let r=b(e);r&&y.isHTMLorSVGElement(r)&&!H(r,0)&&w(e)})}var g=(t=>(t[t.Keyboard=0]=\"Keyboard\",t[t.Mouse=1]=\"Mouse\",t))(g||{});typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"keydown\",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0),document.addEventListener(\"click\",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0));function w(e){e==null||e.focus({preventScroll:!0})}let _=[\"textarea\",\"input\"].join(\",\");function P(e){var r,t;return(t=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,_))!=null?t:!1}function G(e,r=t=>t){return e.slice().sort((t,l)=>{let n=r(t),a=r(l);if(n===null||a===null)return 0;let u=n.compareDocumentPosition(a);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function R(e,r,t=e===null?document.body:f(e)){return v(x(t),r,{relativeTo:e})}function v(e,r,{sorted:t=!0,relativeTo:l=null,skipElements:n=[]}={}){let a=Array.isArray(e)?e.length>0?f(e[0]):document:f(e),u=Array.isArray(e)?t?G(e):e:r&64?h(e):x(e);n.length>0&&u.length>1&&(u=u.filter(i=>!n.some(d=>d!=null&&\"current\"in d?(d==null?void 0:d.current)===i:d===i))),l=l!=null?l:a==null?void 0:a.activeElement;let o=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),M=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,u.indexOf(l))-1;if(r&4)return Math.max(0,u.indexOf(l))+1;if(r&8)return u.length-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),N=r&32?{preventScroll:!0}:{},m=0,c=u.length,s;do{if(m>=c||m+c<=0)return 0;let i=M+m;if(r&16)i=(i+c)%c;else{if(i<0)return 3;if(i>=c)return 1}s=u[i],s==null||s.focus(N),m+=o}while(s!==b(s));return r&6&&P(s)&&s.select(),2}export{T as Focus,A as FocusResult,I as FocusableMode,w as focusElement,R as focusFrom,v as focusIn,E as focusableSelector,h as getAutoFocusableElements,x as getFocusableElements,H as isFocusableElement,K as restoreFocusIfNecessary,G as sortByDomNode};\n","function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return/Android/gi.test(window.navigator.userAgent)}function n(){return t()||i()}export{i as isAndroid,t as isIOS,n as isMobile};\n","import{useEffect as c}from\"react\";import{useLatestValue as a}from'./use-latest-value.js';function i(t,e,o,n){let u=a(o);c(()=>{if(!t)return;function r(m){u.current(m)}return document.addEventListener(e,r,n),()=>document.removeEventListener(e,r,n)},[t,e,n])}export{i as useDocumentEvent};\n","import{useEffect as a}from\"react\";import{useLatestValue as f}from'./use-latest-value.js';function s(t,e,o,n){let i=f(o);a(()=>{if(!t)return;function r(d){i.current(d)}return window.addEventListener(e,r,n),()=>window.removeEventListener(e,r,n)},[t,e,n])}export{s as useWindowEvent};\n","import{useCallback as T,useRef as E}from\"react\";import*as d from'../utils/dom.js';import{FocusableMode as g,isFocusableElement as y}from'../utils/focus-management.js';import{isMobile as p}from'../utils/platform.js';import{useDocumentEvent as a}from'./use-document-event.js';import{useLatestValue as L}from'./use-latest-value.js';import{useWindowEvent as x}from'./use-window-event.js';const C=30;function k(o,f,h){let m=L(h),s=T(function(e,c){if(e.defaultPrevented)return;let r=c(e);if(r===null||!r.getRootNode().contains(r)||!r.isConnected)return;let M=function u(n){return typeof n==\"function\"?u(n()):Array.isArray(n)||n instanceof Set?n:[n]}(f);for(let u of M)if(u!==null&&(u.contains(r)||e.composed&&e.composedPath().includes(u)))return;return!y(r,g.Loose)&&r.tabIndex!==-1&&e.preventDefault(),m.current(e,r)},[m,f]),i=E(null);a(o,\"pointerdown\",t=>{var e,c;p()||(i.current=((c=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:c[0])||t.target)},!0),a(o,\"pointerup\",t=>{if(p()||!i.current)return;let e=i.current;return i.current=null,s(t,()=>e)},!0);let l=E({x:0,y:0});a(o,\"touchstart\",t=>{l.current.x=t.touches[0].clientX,l.current.y=t.touches[0].clientY},!0),a(o,\"touchend\",t=>{let e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};if(!(Math.abs(e.x-l.current.x)>=C||Math.abs(e.y-l.current.y)>=C))return s(t,()=>d.isHTMLorSVGElement(t.target)?t.target:null)},!0),x(o,\"blur\",t=>s(t,()=>d.isHTMLIframeElement(window.document.activeElement)?window.document.activeElement:null),!0)}export{k as useOutsideClick};\n","import{useMemo as o}from\"react\";import{getOwnerDocument as t,getRootNode as r}from'../utils/owner.js';function u(...e){return o(()=>t(...e),[...e])}function c(...e){return o(()=>r(...e),[...e])}export{u as useOwnerDocument,c as useRootDocument};\n","import{useEffect as d}from\"react\";import{useLatestValue as s}from'./use-latest-value.js';function E(n,e,a,t){let i=s(a);d(()=>{n=n!=null?n:window;function r(o){i.current(o)}return n.addEventListener(e,r,t),()=>n.removeEventListener(e,r,t)},[n,e,t])}export{E as useEventListener};\n","import{useMemo as a}from\"react\";function e(t,u){return a(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:\"button\";if(typeof r==\"string\"&&r.toLowerCase()===\"button\"||(u==null?void 0:u.tagName)===\"BUTTON\"&&!u.hasAttribute(\"type\"))return\"button\"},[t.type,t.as,u])}export{e as useResolveButtonType};\n","import{useSyncExternalStore as e}from\"react\";function o(t){return e(t.subscribe,t.getSnapshot,t.getSnapshot)}export{o as useStore};\n","function a(o,r){let t=o(),n=new Set;return{getSnapshot(){return t},subscribe(e){return n.add(e),()=>n.delete(e)},dispatch(e,...s){let i=r[e].call(t,...s);i&&(t=i,n.forEach(c=>c()))}}}export{a as createStore};\n","function d(){let r;return{before({doc:e}){var l;let o=e.documentElement,t=(l=e.defaultView)!=null?l:window;r=Math.max(0,t.innerWidth-o.clientWidth)},after({doc:e,d:o}){let t=e.documentElement,l=Math.max(0,t.clientWidth-t.offsetWidth),n=Math.max(0,r-l);o.style(t,\"paddingRight\",`${n}px`)}}}export{d as adjustScrollbarPadding};\n","import{disposables as u}from'../../utils/disposables.js';import*as i from'../../utils/dom.js';import{isIOS as p}from'../../utils/platform.js';function w(){return p()?{before({doc:o,d:r,meta:m}){function a(s){for(let l of m().containers)for(let c of l())if(c.contains(s))return!0;return!1}r.microTask(()=>{var c;if(window.getComputedStyle(o.documentElement).scrollBehavior!==\"auto\"){let t=u();t.style(o.documentElement,\"scrollBehavior\",\"auto\"),r.add(()=>r.microTask(()=>t.dispose()))}let s=(c=window.scrollY)!=null?c:window.pageYOffset,l=null;r.addEventListener(o,\"click\",t=>{if(i.isHTMLorSVGElement(t.target))try{let e=t.target.closest(\"a\");if(!e)return;let{hash:n}=new URL(e.href),f=o.querySelector(n);i.isHTMLorSVGElement(f)&&!a(f)&&(l=f)}catch{}},!0),r.group(t=>{r.addEventListener(o,\"touchstart\",e=>{if(t.dispose(),i.isHTMLorSVGElement(e.target)&&i.hasInlineStyle(e.target))if(a(e.target)){let n=e.target;for(;n.parentElement&&a(n.parentElement);)n=n.parentElement;t.style(n,\"overscrollBehavior\",\"contain\")}else t.style(e.target,\"touchAction\",\"none\")})}),r.addEventListener(o,\"touchmove\",t=>{if(i.isHTMLorSVGElement(t.target)){if(i.isHTMLInputElement(t.target))return;if(a(t.target)){let e=t.target;for(;e.parentElement&&e.dataset.headlessuiPortal!==\"\"&&!(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth);)e=e.parentElement;e.dataset.headlessuiPortal===\"\"&&t.preventDefault()}else t.preventDefault()}},{passive:!1}),r.add(()=>{var e;let t=(e=window.scrollY)!=null?e:window.pageYOffset;s!==t&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:\"nearest\"}),l=null)})})}}:{}}export{w as handleIOSLocking};\n","function r(){return{before({doc:e,d:o}){o.style(e.documentElement,\"overflow\",\"hidden\")}}}export{r as preventScroll};\n","import{disposables as s}from'../../utils/disposables.js';import{createStore as d}from'../../utils/store.js';import{adjustScrollbarPadding as i}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as l}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function r(e){let o={};for(let t of e)Object.assign(o,t(o));return o}let c=d(()=>new Map,{PUSH(e,o){var n;let t=(n=this.get(e))!=null?n:{doc:e,count:0,d:s(),meta:new Set,computedMeta:{}};return t.count++,t.meta.add(o),t.computedMeta=r(t.meta),this.set(e,t),this},POP(e,o){let t=this.get(e);return t&&(t.count--,t.meta.delete(o),t.computedMeta=r(t.meta)),this},SCROLL_PREVENT(e){let o={doc:e.doc,d:e.d,meta(){return e.computedMeta}},t=[l(),i(),p()];t.forEach(({before:n})=>n==null?void 0:n(o)),t.forEach(({after:n})=>n==null?void 0:n(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});c.subscribe(()=>{let e=c.getSnapshot(),o=new Map;for(let[t]of e)o.set(t,t.documentElement.style.overflow);for(let t of e.values()){let n=o.get(t.doc)===\"hidden\",a=t.count!==0;(a&&!n||!a&&n)&&c.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&c.dispatch(\"TEARDOWN\",t)}});export{c as overflows};\n","import{useStore as s}from'../../hooks/use-store.js';import{useIsoMorphicEffect as u}from'../use-iso-morphic-effect.js';import{overflows as t}from'./overflow-store.js';function a(r,e,n=()=>({containers:[]})){let f=s(t),o=e?f.get(e):void 0,i=o?o.count>0:!1;return u(()=>{if(!(!e||!r))return t.dispatch(\"PUSH\",e,n),()=>t.dispatch(\"POP\",e,n)},[r,e]),i}export{a as useDocumentOverflowLockedEffect};\n","import{useDocumentOverflowLockedEffect as l}from'./document-overflow/use-document-overflow.js';import{useIsTopLayer as m}from'./use-is-top-layer.js';function f(e,c,n=()=>[document.body]){let r=m(e,\"scroll-lock\");l(r,c,t=>{var o;return{containers:[...(o=t.containers)!=null?o:[],n]}})}export{f as useScrollLock};\n","import{useCallback as t,useState as b}from\"react\";function c(u=0){let[r,a]=b(u),g=t(e=>a(e),[]),s=t(e=>a(l=>l|e),[]),m=t(e=>(r&e)===e,[r]),n=t(e=>a(l=>l&~e),[]),F=t(e=>a(l=>l^e),[]);return{flags:r,setFlag:g,addFlag:s,hasFlag:m,removeFlag:n,toggleFlag:F}}export{c as useFlags};\n","var T,S;import{useRef as c,useState as b}from\"react\";import{disposables as m}from'../utils/disposables.js';import{useDisposables as g}from'./use-disposables.js';import{useFlags as y}from'./use-flags.js';import{useIsoMorphicEffect as L}from'./use-iso-morphic-effect.js';typeof process!=\"undefined\"&&typeof globalThis!=\"undefined\"&&typeof Element!=\"undefined\"&&((T=process==null?void 0:process.env)==null?void 0:T[\"NODE_ENV\"])===\"test\"&&typeof((S=Element==null?void 0:Element.prototype)==null?void 0:S.getAnimations)==\"undefined\"&&(Element.prototype.getAnimations=function(){return console.warn([\"Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\",\"Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\",\"\",\"Example usage:\",\"```js\",\"import { mockAnimationsApi } from 'jsdom-testing-mocks'\",\"mockAnimationsApi()\",\"```\"].join(`\n`)),[]});var A=(i=>(i[i.None=0]=\"None\",i[i.Closed=1]=\"Closed\",i[i.Enter=2]=\"Enter\",i[i.Leave=4]=\"Leave\",i))(A||{});function x(e){let r={};for(let t in e)e[t]===!0&&(r[`data-${t}`]=\"\");return r}function N(e,r,t,n){let[i,a]=b(t),{hasFlag:s,addFlag:o,removeFlag:l}=y(e&&i?3:0),u=c(!1),f=c(!1),E=g();return L(()=>{var d;if(e){if(t&&a(!0),!r){t&&o(3);return}return(d=n==null?void 0:n.start)==null||d.call(n,t),C(r,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(t?(o(3),l(4)):(o(4),l(2)))},run(){f.current?t?(l(3),o(4)):(l(4),o(3)):t?l(1):o(1)},done(){var p;f.current&&D(r)||(u.current=!1,l(7),t||a(!1),(p=n==null?void 0:n.end)==null||p.call(n,t))}})}},[e,t,r,E]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(e,{prepare:r,run:t,done:n,inFlight:i}){let a=m();return j(e,{prepare:r,inFlight:i}),a.nextFrame(()=>{t(),a.requestAnimationFrame(()=>{a.add(M(e,n))})}),a.dispose}function M(e,r){var a,s;let t=m();if(!e)return t.dispose;let n=!1;t.add(()=>{n=!0});let i=(s=(a=e.getAnimations)==null?void 0:a.call(e).filter(o=>o instanceof CSSTransition))!=null?s:[];return i.length===0?(r(),t.dispose):(Promise.allSettled(i.map(o=>o.finished)).then(()=>{n||r()}),t.dispose)}function j(e,{inFlight:r,prepare:t}){if(r!=null&&r.current){t();return}let n=e.style.transition;e.style.transition=\"none\",t(),e.offsetHeight,e.style.transition=n}function D(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(i=>i instanceof CSSTransition&&i.playState!==\"finished\")}export{x as transitionDataAttributes,N as useTransition};\n","import{useEffect as f,useRef as s}from\"react\";import{useEvent as i}from'./use-event.js';function m(u,t){let e=s([]),r=i(u);f(()=>{let o=[...e.current];for(let[a,l]of t.entries())if(e.current[a]!==l){let n=r(t,o);return e.current=t,n}},[r,...t])}export{m as useWatch};\n","import r,{createContext as l,useContext as d}from\"react\";let n=l(null);n.displayName=\"OpenClosedContext\";var i=(e=>(e[e.Open=1]=\"Open\",e[e.Closed=2]=\"Closed\",e[e.Closing=4]=\"Closing\",e[e.Opening=8]=\"Opening\",e))(i||{});function u(){return d(n)}function c({value:o,children:t}){return r.createElement(n.Provider,{value:o},t)}function s({children:o}){return r.createElement(n.Provider,{value:null},o)}export{c as OpenClosedProvider,s as ResetOpenClosedProvider,i as State,u as useOpenClosed};\n","function t(n){function e(){document.readyState!==\"loading\"&&(n(),document.removeEventListener(\"DOMContentLoaded\",e))}typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"DOMContentLoaded\",e),e())}export{t as onDocumentReady};\n","import{onDocumentReady as d}from'./document-ready.js';import*as u from'./dom.js';import{focusableSelector as i}from'./focus-management.js';let n=[];d(()=>{function e(t){if(!u.isHTMLorSVGElement(t.target)||t.target===document.body||n[0]===t.target)return;let r=t.target;r=r.closest(i),n.unshift(r!=null?r:t.target),n=n.filter(o=>o!=null&&o.isConnected),n.splice(10)}window.addEventListener(\"click\",e,{capture:!0}),window.addEventListener(\"mousedown\",e,{capture:!0}),window.addEventListener(\"focus\",e,{capture:!0}),document.body.addEventListener(\"click\",e,{capture:!0}),document.body.addEventListener(\"mousedown\",e,{capture:!0}),document.body.addEventListener(\"focus\",e,{capture:!0})});export{n as history};\n","import{useEffect as u,useRef as n}from\"react\";import{microTask as o}from'../utils/micro-task.js';import{useEvent as f}from'./use-event.js';function c(t){let r=f(t),e=n(!1);u(()=>(e.current=!1,()=>{e.current=!0,o(()=>{e.current&&r()})}),[r])}export{c as useOnUnmount};\n","import t,{createContext as r,useContext as c}from\"react\";let e=r(!1);function a(){return c(e)}function l(o){return t.createElement(e.Provider,{value:o.force},o.children)}export{l as ForcePortalRoot,a as usePortalRoot};\n","\"use client\";import i,{Fragment as R,createContext as E,useContext as P,useEffect as A,useMemo as G,useRef as x,useState as M}from\"react\";import{createPortal as b}from\"react-dom\";import{useDisposables as O}from'../../hooks/use-disposables.js';import{useEvent as L}from'../../hooks/use-event.js';import{useOnUnmount as F}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as H}from'../../hooks/use-owner.js';import{optionalRef as h,useSyncRefs as T}from'../../hooks/use-sync-refs.js';import{usePortalRoot as U}from'../../internal/portal-force-root.js';import{env as N}from'../../utils/env.js';import{forwardRefWithAs as f,useRender as d}from'../../utils/render.js';function W(e){let o=U(),l=P(c),[r,p]=M(()=>{var s;if(!o&&l!==null)return(s=l.current)!=null?s:null;if(N.isServer)return null;let t=e==null?void 0:e.getElementById(\"headlessui-portal-root\");if(t)return t;if(e===null)return null;let n=e.createElement(\"div\");return n.setAttribute(\"id\",\"headlessui-portal-root\"),e.body.appendChild(n)});return A(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),A(()=>{o||l!==null&&p(l.current)},[l,p,o]),r}let _=R,j=f(function(o,l){let{ownerDocument:r=null,...p}=o,t=x(null),n=T(h(a=>{t.current=a}),l),s=H(t.current),C=r!=null?r:s,u=W(C),y=P(m),g=O(),v=d();return F(()=>{var a;u&&u.childNodes.length<=0&&((a=u.parentElement)==null||a.removeChild(u))}),u?b(i.createElement(\"div\",{\"data-headlessui-portal\":\"\",ref:a=>{g.dispose(),y&&a&&g.add(y.register(a))}},v({ourProps:{ref:n},theirProps:p,slot:{},defaultTag:_,name:\"Portal\"})),u):null});function S(e,o){let l=T(o),{enabled:r=!0,ownerDocument:p,...t}=e,n=d();return r?i.createElement(j,{...t,ownerDocument:p,ref:l}):n({ourProps:{ref:l},theirProps:t,slot:{},defaultTag:_,name:\"Portal\"})}let I=R,c=E(null);function D(e,o){let{target:l,...r}=e,t={ref:T(o)},n=d();return i.createElement(c.Provider,{value:l},n({ourProps:t,theirProps:r,defaultTag:I,name:\"Popover.Group\"}))}let m=E(null);function ee(){let e=P(m),o=x([]),l=L(t=>(o.current.push(t),e&&e.register(t),()=>r(t))),r=L(t=>{let n=o.current.indexOf(t);n!==-1&&o.current.splice(n,1),e&&e.unregister(t)}),p=G(()=>({register:l,unregister:r,portals:o}),[l,r,o]);return[o,G(()=>function({children:n}){return i.createElement(m.Provider,{value:p},n)},[p])]}let J=f(S),X=f(D),te=Object.assign(J,{Group:X});export{te as Portal,X as PortalGroup,ee as useNestedPortals};\n","import{Keys as u}from'../components/keyboard.js';import{useEventListener as i}from'./use-event-listener.js';import{useIsTopLayer as f}from'./use-is-top-layer.js';function a(o,r=typeof document!=\"undefined\"?document.defaultView:null,t){let n=f(o,\"escape\");i(r,\"keydown\",e=>{n&&(e.defaultPrevented||e.key===u.Escape&&t(e))})}export{a as useEscape};\n","import{useState as i}from\"react\";import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';function f(){var t;let[e]=i(()=>typeof window!=\"undefined\"&&typeof window.matchMedia==\"function\"?window.matchMedia(\"(pointer: coarse)\"):null),[o,c]=i((t=e==null?void 0:e.matches)!=null?t:!1);return s(()=>{if(!e)return;function n(r){c(r.matches)}return e.addEventListener(\"change\",n),()=>e.removeEventListener(\"change\",n)},[e]),o}export{f as useIsTouchDevice};\n","import s,{createContext as h,useContext as b,useState as p}from\"react\";import{Hidden as M,HiddenFeatures as v}from'../internal/hidden.js';import*as f from'../utils/dom.js';import{getOwnerDocument as a}from'../utils/owner.js';import{useEvent as m}from'./use-event.js';function S({defaultContainers:l=[],portals:n,mainTreeNode:o}={}){let c=m(()=>{var r,u;let i=a(o),t=[];for(let e of l)e!==null&&(f.isElement(e)?t.push(e):\"current\"in e&&f.isElement(e.current)&&t.push(e.current));if(n!=null&&n.current)for(let e of n.current)t.push(e);for(let e of(r=i==null?void 0:i.querySelectorAll(\"html > *, body > *\"))!=null?r:[])e!==document.body&&e!==document.head&&f.isElement(e)&&e.id!==\"headlessui-portal-root\"&&(o&&(e.contains(o)||e.contains((u=o==null?void 0:o.getRootNode())==null?void 0:u.host))||t.some(E=>e.contains(E))||t.push(e));return t});return{resolveContainers:c,contains:m(i=>c().some(t=>t.contains(i)))}}let d=h(null);function j({children:l,node:n}){let[o,c]=p(null),i=x(n!=null?n:o);return s.createElement(d.Provider,{value:i},l,i===null&&s.createElement(M,{features:v.Hidden,ref:t=>{var r,u;if(t){for(let e of(u=(r=a(t))==null?void 0:r.querySelectorAll(\"html > *, body > *\"))!=null?u:[])if(e!==document.body&&e!==document.head&&f.isElement(e)&&e!=null&&e.contains(t)){c(e);break}}}}))}function x(l=null){var n;return(n=b(d))!=null?n:l}export{j as MainTreeProvider,x as useMainTreeNode,S as useRootContainers};\n","import*as t from\"react\";import{env as f}from'../utils/env.js';function s(){let r=typeof document==\"undefined\";return\"useSyncExternalStore\"in t?(o=>o.useSyncExternalStore)(t)(()=>()=>{},()=>!1,()=>!r):!1}function l(){let r=s(),[e,n]=t.useState(f.isHandoffComplete);return e&&f.isHandoffComplete===!1&&n(!1),t.useEffect(()=>{e!==!0&&n(!0)},[e]),t.useEffect(()=>f.handoff(),[]),r?!1:e}export{l as useServerHandoffComplete};\n","import{useRef as r}from\"react\";import{useIsoMorphicEffect as t}from'./use-iso-morphic-effect.js';function f(){let e=r(!1);return t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}export{f as useIsMounted};\n","import{useRef as o}from\"react\";import{useWindowEvent as t}from'./use-window-event.js';var a=(r=>(r[r.Forwards=0]=\"Forwards\",r[r.Backwards=1]=\"Backwards\",r))(a||{});function u(){let e=o(0);return t(!0,\"keydown\",r=>{r.key===\"Tab\"&&(e.current=r.shiftKey?1:0)},!0),e}export{a as Direction,u as useTabDirection};\n","\"use client\";import F,{useRef as M}from\"react\";import{useDisposables as W}from'../../hooks/use-disposables.js';import{useEvent as O}from'../../hooks/use-event.js';import{useEventListener as K}from'../../hooks/use-event-listener.js';import{useIsMounted as P}from'../../hooks/use-is-mounted.js';import{useIsTopLayer as C}from'../../hooks/use-is-top-layer.js';import{useOnUnmount as q}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as J}from'../../hooks/use-owner.js';import{useServerHandoffComplete as X}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as z}from'../../hooks/use-sync-refs.js';import{Direction as y,useTabDirection as D}from'../../hooks/use-tab-direction.js';import{useWatch as R}from'../../hooks/use-watch.js';import{Hidden as _,HiddenFeatures as S}from'../../internal/hidden.js';import{history as H}from'../../utils/active-element-history.js';import*as i from'../../utils/dom.js';import{Focus as m,FocusResult as h,focusElement as p,focusIn as d}from'../../utils/focus-management.js';import{match as j}from'../../utils/match.js';import{microTask as U}from'../../utils/micro-task.js';import{isActiveElement as Q}from'../../utils/owner.js';import{forwardRefWithAs as Y,useRender as Z}from'../../utils/render.js';function x(o){if(!o)return new Set;if(typeof o==\"function\")return new Set(o());let t=new Set;for(let e of o.current)i.isElement(e.current)&&t.add(e.current);return t}let $=\"div\";var G=(n=>(n[n.None=0]=\"None\",n[n.InitialFocus=1]=\"InitialFocus\",n[n.TabLock=2]=\"TabLock\",n[n.FocusLock=4]=\"FocusLock\",n[n.RestoreFocus=8]=\"RestoreFocus\",n[n.AutoFocus=16]=\"AutoFocus\",n))(G||{});function w(o,t){let e=M(null),r=z(e,t),{initialFocus:u,initialFocusFallback:a,containers:n,features:s=15,...f}=o;X()||(s=0);let l=J(e.current);re(s,{ownerDocument:l});let T=ne(s,{ownerDocument:l,container:e,initialFocus:u,initialFocusFallback:a});oe(s,{ownerDocument:l,container:e,containers:n,previousActiveElement:T});let g=D(),A=O(c=>{if(!i.isHTMLElement(e.current))return;let E=e.current;(V=>V())(()=>{j(g.current,{[y.Forwards]:()=>{d(E,m.First,{skipElements:[c.relatedTarget,a]})},[y.Backwards]:()=>{d(E,m.Last,{skipElements:[c.relatedTarget,a]})}})})}),v=C(!!(s&2),\"focus-trap#tab-lock\"),N=W(),b=M(!1),k={ref:r,onKeyDown(c){c.key==\"Tab\"&&(b.current=!0,N.requestAnimationFrame(()=>{b.current=!1}))},onBlur(c){if(!(s&4))return;let E=x(n);i.isHTMLElement(e.current)&&E.add(e.current);let L=c.relatedTarget;i.isHTMLorSVGElement(L)&&L.dataset.headlessuiFocusGuard!==\"true\"&&(I(E,L)||(b.current?d(e.current,j(g.current,{[y.Forwards]:()=>m.Next,[y.Backwards]:()=>m.Previous})|m.WrapAround,{relativeTo:c.target}):i.isHTMLorSVGElement(c.target)&&p(c.target)))}},B=Z();return F.createElement(F.Fragment,null,v&&F.createElement(_,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:A,features:S.Focusable}),B({ourProps:k,theirProps:f,defaultTag:$,name:\"FocusTrap\"}),v&&F.createElement(_,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:A,features:S.Focusable}))}let ee=Y(w),ge=Object.assign(ee,{features:G});function te(o=!0){let t=M(H.slice());return R(([e],[r])=>{r===!0&&e===!1&&U(()=>{t.current.splice(0)}),r===!1&&e===!0&&(t.current=H.slice())},[o,H,t]),O(()=>{var e;return(e=t.current.find(r=>r!=null&&r.isConnected))!=null?e:null})}function re(o,{ownerDocument:t}){let e=!!(o&8),r=te(e);R(()=>{e||Q(t==null?void 0:t.body)&&p(r())},[e]),q(()=>{e&&p(r())})}function ne(o,{ownerDocument:t,container:e,initialFocus:r,initialFocusFallback:u}){let a=M(null),n=C(!!(o&1),\"focus-trap#initial-focus\"),s=P();return R(()=>{if(o===0)return;if(!n){u!=null&&u.current&&p(u.current);return}let f=e.current;f&&U(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(f.contains(l)){a.current=l;return}if(r!=null&&r.current)p(r.current);else{if(o&16){if(d(f,m.First|m.AutoFocus)!==h.Error)return}else if(d(f,m.First)!==h.Error)return;if(u!=null&&u.current&&(p(u.current),(t==null?void 0:t.activeElement)===u.current))return;console.warn(\"There are no focusable elements inside the <FocusTrap />\")}a.current=t==null?void 0:t.activeElement})},[u,n,o]),a}function oe(o,{ownerDocument:t,container:e,containers:r,previousActiveElement:u}){let a=P(),n=!!(o&4);K(t==null?void 0:t.defaultView,\"focus\",s=>{if(!n||!a.current)return;let f=x(r);i.isHTMLElement(e.current)&&f.add(e.current);let l=u.current;if(!l)return;let T=s.target;i.isHTMLElement(T)?I(f,T)?(u.current=T,p(T)):(s.preventDefault(),s.stopPropagation(),p(l)):p(u.current)},!0)}function I(o,t){for(let e of o)if(e.contains(t))return!0;return!1}export{ge as FocusTrap,G as FocusTrapFeatures};\n","\"use client\";import c,{Fragment as k,createContext as ne,useContext as q,useEffect as ge,useMemo as ie,useRef as b,useState as O}from\"react\";import{useDisposables as ve}from'../../hooks/use-disposables.js';import{useEvent as E}from'../../hooks/use-event.js';import{useIsMounted as be}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as D}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ee}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as re}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as oe}from'../../hooks/use-sync-refs.js';import{transitionDataAttributes as Se,useTransition as Re}from'../../hooks/use-transition.js';import{OpenClosedProvider as ye,State as x,useOpenClosed as se}from'../../internal/open-closed.js';import{classNames as Pe}from'../../utils/class-names.js';import{match as le}from'../../utils/match.js';import{RenderFeatures as xe,RenderStrategy as P,compact as Ne,forwardRefWithAs as J,isFragment as _e,useRender as ae}from'../../utils/render.js';function ue(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!_e((t=e.as)!=null?t:de)||c.Children.count(e.children)===1}let V=ne(null);V.displayName=\"TransitionContext\";var De=(n=>(n.Visible=\"visible\",n.Hidden=\"hidden\",n))(De||{});function He(){let e=q(V);if(e===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return e}function Ae(){let e=q(w);if(e===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return e}let w=ne(null);w.displayName=\"NestingContext\";function M(e){return\"children\"in e?M(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t===\"visible\").length>0}function Te(e,t){let n=Ee(e),l=b([]),S=be(),R=ve(),d=E((o,i=P.Hidden)=>{let a=l.current.findIndex(({el:s})=>s===o);a!==-1&&(le(i,{[P.Unmount](){l.current.splice(a,1)},[P.Hidden](){l.current[a].state=\"hidden\"}}),R.microTask(()=>{var s;!M(l)&&S.current&&((s=n.current)==null||s.call(n))}))}),y=E(o=>{let i=l.current.find(({el:a})=>a===o);return i?i.state!==\"visible\"&&(i.state=\"visible\"):l.current.push({el:o,state:\"visible\"}),()=>d(o,P.Unmount)}),C=b([]),p=b(Promise.resolve()),h=b({enter:[],leave:[]}),g=E((o,i,a)=>{C.current.splice(0),t&&(t.chains.current[i]=t.chains.current[i].filter(([s])=>s!==o)),t==null||t.chains.current[i].push([o,new Promise(s=>{C.current.push(s)})]),t==null||t.chains.current[i].push([o,new Promise(s=>{Promise.all(h.current[i].map(([r,f])=>f)).then(()=>s())})]),i===\"enter\"?p.current=p.current.then(()=>t==null?void 0:t.wait.current).then(()=>a(i)):a(i)}),v=E((o,i,a)=>{Promise.all(h.current[i].splice(0).map(([s,r])=>r)).then(()=>{var s;(s=C.current.shift())==null||s()}).then(()=>a(i))});return ie(()=>({children:l,register:y,unregister:d,onStart:g,onStop:v,wait:p,chains:h}),[y,d,l,g,v,h,p])}let de=k,fe=xe.RenderStrategy;function Fe(e,t){var ee,te;let{transition:n=!0,beforeEnter:l,afterEnter:S,beforeLeave:R,afterLeave:d,enter:y,enterFrom:C,enterTo:p,entered:h,leave:g,leaveFrom:v,leaveTo:o,...i}=e,[a,s]=O(null),r=b(null),f=ue(e),U=oe(...f?[r,t,s]:t===null?[]:[t]),H=(ee=i.unmount)==null||ee?P.Unmount:P.Hidden,{show:u,appear:z,initial:K}=He(),[m,j]=O(u?\"visible\":\"hidden\"),Q=Ae(),{register:A,unregister:F}=Q;D(()=>A(r),[A,r]),D(()=>{if(H===P.Hidden&&r.current){if(u&&m!==\"visible\"){j(\"visible\");return}return le(m,{[\"hidden\"]:()=>F(r),[\"visible\"]:()=>A(r)})}},[m,r,A,F,u,H]);let G=re();D(()=>{if(f&&G&&m===\"visible\"&&r.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[r,m,G,f]);let ce=K&&!z,Y=z&&u&&K,B=b(!1),I=Te(()=>{B.current||(j(\"hidden\"),F(r))},Q),Z=E(W=>{B.current=!0;let L=W?\"enter\":\"leave\";I.onStart(r,L,_=>{_===\"enter\"?l==null||l():_===\"leave\"&&(R==null||R())})}),$=E(W=>{let L=W?\"enter\":\"leave\";B.current=!1,I.onStop(r,L,_=>{_===\"enter\"?S==null||S():_===\"leave\"&&(d==null||d())}),L===\"leave\"&&!M(I)&&(j(\"hidden\"),F(r))});ge(()=>{f&&n||(Z(u),$(u))},[u,f,n]);let pe=(()=>!(!n||!f||!G||ce))(),[,T]=Re(pe,a,u,{start:Z,end:$}),Ce=Ne({ref:U,className:((te=Pe(i.className,Y&&y,Y&&C,T.enter&&y,T.enter&&T.closed&&C,T.enter&&!T.closed&&p,T.leave&&g,T.leave&&!T.closed&&v,T.leave&&T.closed&&o,!T.transition&&u&&h))==null?void 0:te.trim())||void 0,...Se(T)}),N=0;m===\"visible\"&&(N|=x.Open),m===\"hidden\"&&(N|=x.Closed),u&&m===\"hidden\"&&(N|=x.Opening),!u&&m===\"visible\"&&(N|=x.Closing);let he=ae();return c.createElement(w.Provider,{value:I},c.createElement(ye,{value:N},he({ourProps:Ce,theirProps:i,defaultTag:de,features:fe,visible:m===\"visible\",name:\"Transition.Child\"})))}function Ie(e,t){let{show:n,appear:l=!1,unmount:S=!0,...R}=e,d=b(null),y=ue(e),C=oe(...y?[d,t]:t===null?[]:[t]);re();let p=se();if(n===void 0&&p!==null&&(n=(p&x.Open)===x.Open),n===void 0)throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[h,g]=O(n?\"visible\":\"hidden\"),v=Te(()=>{n||g(\"hidden\")}),[o,i]=O(!0),a=b([n]);D(()=>{o!==!1&&a.current[a.current.length-1]!==n&&(a.current.push(n),i(!1))},[a,n]);let s=ie(()=>({show:n,appear:l,initial:o}),[n,l,o]);D(()=>{n?g(\"visible\"):!M(v)&&d.current!==null&&g(\"hidden\")},[n,v]);let r={unmount:S},f=E(()=>{var u;o&&i(!1),(u=e.beforeEnter)==null||u.call(e)}),U=E(()=>{var u;o&&i(!1),(u=e.beforeLeave)==null||u.call(e)}),H=ae();return c.createElement(w.Provider,{value:v},c.createElement(V.Provider,{value:s},H({ourProps:{...r,as:k,children:c.createElement(me,{ref:C,...r,...R,beforeEnter:f,beforeLeave:U})},theirProps:{},defaultTag:k,features:fe,visible:h===\"visible\",name:\"Transition\"})))}function Le(e,t){let n=q(V)!==null,l=se()!==null;return c.createElement(c.Fragment,null,!n&&l?c.createElement(X,{ref:t,...e}):c.createElement(me,{ref:t,...e}))}let X=J(Ie),me=J(Fe),Oe=J(Le),Ke=Object.assign(X,{Child:Oe,Root:X});export{Ke as Transition,Oe as TransitionChild};\n","\"use client\";import l,{Fragment as $,createContext as pe,createRef as se,useCallback as de,useContext as ue,useEffect as Te,useMemo as fe,useReducer as ge,useRef as j}from\"react\";import{useEscape as ce}from'../../hooks/use-escape.js';import{useEvent as A}from'../../hooks/use-event.js';import{useId as k}from'../../hooks/use-id.js';import{useInertOthers as me}from'../../hooks/use-inert-others.js';import{useIsTouchDevice as De}from'../../hooks/use-is-touch-device.js';import{useIsoMorphicEffect as Pe}from'../../hooks/use-iso-morphic-effect.js';import{useOnDisappear as ye}from'../../hooks/use-on-disappear.js';import{useOutsideClick as Ee}from'../../hooks/use-outside-click.js';import{useOwnerDocument as Ae}from'../../hooks/use-owner.js';import{MainTreeProvider as Y,useMainTreeNode as _e,useRootContainers as Ce}from'../../hooks/use-root-containers.js';import{useScrollLock as Re}from'../../hooks/use-scroll-lock.js';import{useServerHandoffComplete as Fe}from'../../hooks/use-server-handoff-complete.js';import{useSlot as L}from'../../hooks/use-slot.js';import{useSyncRefs as G}from'../../hooks/use-sync-refs.js';import{CloseProvider as be}from'../../internal/close-provider.js';import{ResetOpenClosedProvider as ve,State as x,useOpenClosed as J}from'../../internal/open-closed.js';import{ForcePortalRoot as K}from'../../internal/portal-force-root.js';import{stackMachines as Le}from'../../machines/stack-machine.js';import{useSlice as xe}from'../../react-glue.js';import{match as he}from'../../utils/match.js';import{RenderFeatures as X,forwardRefWithAs as _,useRender as h}from'../../utils/render.js';import{Description as V,useDescriptions as Oe}from'../description/description.js';import{FocusTrap as Se,FocusTrapFeatures as C}from'../focus-trap/focus-trap.js';import{Portal as Ie,PortalGroup as Me,useNestedPortals as ke}from'../portal/portal.js';import{Transition as Ge,TransitionChild as q}from'../transition/transition.js';var we=(o=>(o[o.Open=0]=\"Open\",o[o.Closed=1]=\"Closed\",o))(we||{}),Be=(t=>(t[t.SetTitleId=0]=\"SetTitleId\",t))(Be||{});let Ue={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},w=pe(null);w.displayName=\"DialogContext\";function O(e){let t=ue(w);if(t===null){let o=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,O),o}return t}function He(e,t){return he(t.type,Ue,e,t)}let z=_(function(t,o){let a=k(),{id:n=`headlessui-dialog-${a}`,open:i,onClose:p,initialFocus:d,role:s=\"dialog\",autoFocus:f=!0,__demoMode:u=!1,unmount:y=!1,...S}=t,R=j(!1);s=function(){return s===\"dialog\"||s===\"alertdialog\"?s:(R.current||(R.current=!0,console.warn(`Invalid role [${s}] passed to <Dialog />. Only \\`dialog\\` and and \\`alertdialog\\` are supported. Using \\`dialog\\` instead.`)),\"dialog\")}();let g=J();i===void 0&&g!==null&&(i=(g&x.Open)===x.Open);let T=j(null),I=G(T,o),F=Ae(T.current),c=i?0:1,[b,Q]=ge(He,{titleId:null,descriptionId:null,panelRef:se()}),m=A(()=>p(!1)),B=A(r=>Q({type:0,id:r})),D=Fe()?c===0:!1,[Z,ee]=ke(),te={get current(){var r;return(r=b.panelRef.current)!=null?r:T.current}},v=_e(),{resolveContainers:M}=Ce({mainTreeNode:v,portals:Z,defaultContainers:[te]}),U=g!==null?(g&x.Closing)===x.Closing:!1;me(u||U?!1:D,{allowed:A(()=>{var r,W;return[(W=(r=T.current)==null?void 0:r.closest(\"[data-headlessui-portal]\"))!=null?W:null]}),disallowed:A(()=>{var r;return[(r=v==null?void 0:v.closest(\"body > *:not(#headlessui-portal-root)\"))!=null?r:null]})});let P=Le.get(null);Pe(()=>{if(D)return P.actions.push(n),()=>P.actions.pop(n)},[P,n,D]);let H=xe(P,de(r=>P.selectors.isTop(r,n),[P,n]));Ee(H,M,r=>{r.preventDefault(),m()}),ce(H,F==null?void 0:F.defaultView,r=>{r.preventDefault(),r.stopPropagation(),document.activeElement&&\"blur\"in document.activeElement&&typeof document.activeElement.blur==\"function\"&&document.activeElement.blur(),m()}),Re(u||U?!1:D,F,M),ye(D,T,m);let[oe,ne]=Oe(),re=fe(()=>[{dialogState:c,close:m,setTitleId:B,unmount:y},b],[c,m,B,y,b]),N=L({open:c===0}),le={ref:I,id:n,role:s,tabIndex:-1,\"aria-modal\":u?void 0:c===0?!0:void 0,\"aria-labelledby\":b.titleId,\"aria-describedby\":oe,unmount:y},ae=!De(),E=C.None;D&&!u&&(E|=C.RestoreFocus,E|=C.TabLock,f&&(E|=C.AutoFocus),ae&&(E|=C.InitialFocus));let ie=h();return l.createElement(ve,null,l.createElement(K,{force:!0},l.createElement(Ie,null,l.createElement(w.Provider,{value:re},l.createElement(Me,{target:T},l.createElement(K,{force:!1},l.createElement(ne,{slot:N},l.createElement(ee,null,l.createElement(Se,{initialFocus:d,initialFocusFallback:T,containers:M,features:E},l.createElement(be,{value:m},ie({ourProps:le,theirProps:S,slot:N,defaultTag:Ne,features:We,visible:c===0,name:\"Dialog\"})))))))))))}),Ne=\"div\",We=X.RenderStrategy|X.Static;function $e(e,t){let{transition:o=!1,open:a,...n}=e,i=J(),p=e.hasOwnProperty(\"open\")||i!==null,d=e.hasOwnProperty(\"onClose\");if(!p&&!d)throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");if(!p)throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");if(!d)throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");if(!i&&typeof e.open!=\"boolean\")throw new Error(`You provided an \\`open\\` prop to the \\`Dialog\\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!=\"function\")throw new Error(`You provided an \\`onClose\\` prop to the \\`Dialog\\`, but the value is not a function. Received: ${e.onClose}`);return(a!==void 0||o)&&!n.static?l.createElement(Y,null,l.createElement(Ge,{show:a,transition:o,unmount:n.unmount},l.createElement(z,{ref:t,...n}))):l.createElement(Y,null,l.createElement(z,{ref:t,open:a,...n}))}let je=\"div\";function Ye(e,t){let o=k(),{id:a=`headlessui-dialog-panel-${o}`,transition:n=!1,...i}=e,[{dialogState:p,unmount:d},s]=O(\"Dialog.Panel\"),f=G(t,s.panelRef),u=L({open:p===0}),y=A(I=>{I.stopPropagation()}),S={ref:f,id:a,onClick:y},R=n?q:$,g=n?{unmount:d}:{},T=h();return l.createElement(R,{...g},T({ourProps:S,theirProps:i,slot:u,defaultTag:je,name:\"Dialog.Panel\"}))}let Je=\"div\";function Ke(e,t){let{transition:o=!1,...a}=e,[{dialogState:n,unmount:i}]=O(\"Dialog.Backdrop\"),p=L({open:n===0}),d={ref:t,\"aria-hidden\":!0},s=o?q:$,f=o?{unmount:i}:{},u=h();return l.createElement(s,{...f},u({ourProps:d,theirProps:a,slot:p,defaultTag:Je,name:\"Dialog.Backdrop\"}))}let Xe=\"h2\";function Ve(e,t){let o=k(),{id:a=`headlessui-dialog-title-${o}`,...n}=e,[{dialogState:i,setTitleId:p}]=O(\"Dialog.Title\"),d=G(t);Te(()=>(p(a),()=>p(null)),[a,p]);let s=L({open:i===0}),f={ref:d,id:a};return h()({ourProps:f,theirProps:n,slot:s,defaultTag:Xe,name:\"Dialog.Title\"})}let qe=_($e),ze=_(Ye),Lt=_(Ke),Qe=_(Ve),xt=V,ht=Object.assign(qe,{Panel:ze,Title:Qe,Description:V});export{ht as Dialog,Lt as DialogBackdrop,xt as DialogDescription,ze as DialogPanel,Qe as DialogTitle};\n","\"use client\";import{useFocusRing as z}from\"@react-aria/focus\";import{useHover as Q}from\"@react-aria/interactions\";import i,{Fragment as Y,createContext as Z,useCallback as ee,useContext as te,useMemo as oe,useRef as re,useState as w}from\"react\";import{useActivePress as ne}from'../../hooks/use-active-press.js';import{useControllable as le}from'../../hooks/use-controllable.js';import{useDefaultValue as ie}from'../../hooks/use-default-value.js';import{useDisposables as ae}from'../../hooks/use-disposables.js';import{useEvent as m}from'../../hooks/use-event.js';import{useId as se}from'../../hooks/use-id.js';import{useResolveButtonType as pe}from'../../hooks/use-resolve-button-type.js';import{useSlot as ce}from'../../hooks/use-slot.js';import{useSyncRefs as ue}from'../../hooks/use-sync-refs.js';import{useDisabled as de}from'../../internal/disabled.js';import{FormFields as me}from'../../internal/form-fields.js';import{useProvidedId as fe}from'../../internal/id.js';import{isDisabledReactIssue7711 as he}from'../../utils/bugs.js';import*as be from'../../utils/dom.js';import{attemptSubmit as Te}from'../../utils/form.js';import{forwardRefWithAs as ye,mergeProps as Se,useRender as v}from'../../utils/render.js';import{Description as we,useDescribedBy as Ee,useDescriptions as _e}from'../description/description.js';import{Keys as x}from'../keyboard.js';import{Label as Pe,useLabelledBy as De,useLabels as ge}from'../label/label.js';let E=Z(null);E.displayName=\"GroupContext\";let ve=Y;function xe(n){var c;let[t,a]=w(null),[f,h]=ge(),[b,o]=_e(),s=oe(()=>({switch:t,setSwitch:a}),[t,a]),T={},y=n,p=v();return i.createElement(o,{name:\"Switch.Description\",value:b},i.createElement(h,{name:\"Switch.Label\",value:f,props:{htmlFor:(c=s.switch)==null?void 0:c.id,onClick(u){t&&(be.isHTMLLabelElement(u.currentTarget)&&u.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},i.createElement(E.Provider,{value:s},p({ourProps:T,theirProps:y,slot:{},defaultTag:ve,name:\"Switch.Group\"}))))}let Ce=\"button\";function Le(n,t){var g;let a=se(),f=fe(),h=de(),{id:b=f||`headlessui-switch-${a}`,disabled:o=h||!1,checked:s,defaultChecked:T,onChange:y,name:p,value:c,form:u,autoFocus:S=!1,...C}=n,_=te(E),[L,R]=w(null),G=re(null),A=ue(G,t,_===null?null:_.setSwitch,R),l=ie(T),[d,r]=le(s,y,l!=null?l:!1),F=ae(),[H,P]=w(!1),D=m(()=>{P(!0),r==null||r(!d),F.nextFrame(()=>{P(!1)})}),k=m(e=>{if(he(e.currentTarget))return e.preventDefault();e.preventDefault(),D()}),M=m(e=>{e.key===x.Space?(e.preventDefault(),D()):e.key===x.Enter&&Te(e.currentTarget)}),U=m(e=>e.preventDefault()),I=De(),B=Ee(),{isFocusVisible:K,focusProps:O}=z({autoFocus:S}),{isHovered:W,hoverProps:N}=Q({isDisabled:o}),{pressed:J,pressProps:V}=ne({disabled:o}),X=ce({checked:d,disabled:o,hover:W,focus:K,active:J,autofocus:S,changing:H}),j=Se({id:b,ref:A,role:\"switch\",type:pe(n,L),tabIndex:n.tabIndex===-1?0:(g=n.tabIndex)!=null?g:0,\"aria-checked\":d,\"aria-labelledby\":I,\"aria-describedby\":B,disabled:o||void 0,autoFocus:S,onClick:k,onKeyUp:M,onKeyPress:U},O,N,V),$=ee(()=>{if(l!==void 0)return r==null?void 0:r(l)},[r,l]),q=v();return i.createElement(i.Fragment,null,p!=null&&i.createElement(me,{disabled:o,data:{[p]:c||\"on\"},overrides:{type:\"checkbox\",checked:d},form:u,onReset:$}),q({ourProps:j,theirProps:C,slot:X,defaultTag:Ce,name:\"Switch\"}))}let Re=ye(Le),Ge=xe,Ae=Pe,Fe=we,tt=Object.assign(Re,{Group:Ge,Label:Ae,Description:Fe});export{tt as Switch,Fe as SwitchDescription,Ge as SwitchGroup,Ae as SwitchLabel};\n","import s,{useState as c}from\"react\";import{useIsMounted as m}from'../hooks/use-is-mounted.js';import{Hidden as f,HiddenFeatures as l}from'./hidden.js';function b({onFocus:n}){let[r,o]=c(!0),u=m();return r?s.createElement(f,{as:\"button\",type:\"button\",features:l.Focusable,onFocus:a=>{a.preventDefault();let e,i=50;function t(){if(i--<=0){e&&cancelAnimationFrame(e);return}if(n()){if(cancelAnimationFrame(e),!u.current)return;o(!1);return}e=requestAnimationFrame(t)}e=requestAnimationFrame(t)}}):null}export{b as FocusSentinel};\n","import*as l from\"react\";const s=l.createContext(null);function a(){return{groups:new Map,get(o,e){var i;let t=this.groups.get(o);t||(t=new Map,this.groups.set(o,t));let n=(i=t.get(e))!=null?i:0;t.set(e,n+1);let r=Array.from(t.keys()).indexOf(e);function u(){let c=t.get(e);c>1?t.set(e,c-1):t.delete(e)}return[r,u]}}}function f({children:o}){let e=l.useRef(a());return l.createElement(s.Provider,{value:e},o)}function C(o){let e=l.useContext(s);if(!e)throw new Error(\"You must wrap your component in a <StableCollection>\");let t=l.useId(),[n,r]=e.current.get(o,t);return l.useEffect(()=>r,[]),n}export{f as StableCollection,C as useStableCollectionIndex};\n","\"use client\";import{useFocusRing as te}from\"@react-aria/focus\";import{useHover as be}from\"@react-aria/interactions\";import G,{createContext as re,useContext as ne,useMemo as ae,useReducer as fe,useRef as q,useState as me}from\"react\";import{useActivePress as Pe}from'../../hooks/use-active-press.js';import{useEvent as F}from'../../hooks/use-event.js';import{useId as le}from'../../hooks/use-id.js';import{useIsoMorphicEffect as W}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as j}from'../../hooks/use-latest-value.js';import{useResolveButtonType as ye}from'../../hooks/use-resolve-button-type.js';import{useSlot as U}from'../../hooks/use-slot.js';import{useSyncRefs as H}from'../../hooks/use-sync-refs.js';import{FocusSentinel as xe}from'../../internal/focus-sentinel.js';import{Hidden as ge}from'../../internal/hidden.js';import{Focus as y,FocusResult as K,focusIn as I,sortByDomNode as w}from'../../utils/focus-management.js';import{match as O}from'../../utils/match.js';import{microTask as Ae}from'../../utils/micro-task.js';import{getActiveElement as Ee}from'../../utils/owner.js';import{RenderFeatures as oe,forwardRefWithAs as N,mergeProps as se,useRender as k}from'../../utils/render.js';import{StableCollection as Re,useStableCollectionIndex as ie}from'../../utils/stable-collection.js';import{Keys as x}from'../keyboard.js';var Le=(t=>(t[t.Forwards=0]=\"Forwards\",t[t.Backwards=1]=\"Backwards\",t))(Le||{}),_e=(l=>(l[l.Less=-1]=\"Less\",l[l.Equal=0]=\"Equal\",l[l.Greater=1]=\"Greater\",l))(_e||{}),Se=(n=>(n[n.SetSelectedIndex=0]=\"SetSelectedIndex\",n[n.RegisterTab=1]=\"RegisterTab\",n[n.UnregisterTab=2]=\"UnregisterTab\",n[n.RegisterPanel=3]=\"RegisterPanel\",n[n.UnregisterPanel=4]=\"UnregisterPanel\",n))(Se||{});let De={[0](e,r){var d;let t=w(e.tabs,u=>u.current),l=w(e.panels,u=>u.current),a=t.filter(u=>{var T;return!((T=u.current)!=null&&T.hasAttribute(\"disabled\"))}),n={...e,tabs:t,panels:l};if(r.index<0||r.index>t.length-1){let u=O(Math.sign(r.index-e.selectedIndex),{[-1]:()=>1,[0]:()=>O(Math.sign(r.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});if(a.length===0)return n;let T=O(u,{[0]:()=>t.indexOf(a[0]),[1]:()=>t.indexOf(a[a.length-1])});return{...n,selectedIndex:T===-1?e.selectedIndex:T}}let s=t.slice(0,r.index),f=[...t.slice(r.index),...s].find(u=>a.includes(u));if(!f)return n;let b=(d=t.indexOf(f))!=null?d:e.selectedIndex;return b===-1&&(b=e.selectedIndex),{...n,selectedIndex:b}},[1](e,r){if(e.tabs.includes(r.tab))return e;let t=e.tabs[e.selectedIndex],l=w([...e.tabs,r.tab],n=>n.current),a=e.selectedIndex;return e.info.current.isControlled||(a=l.indexOf(t),a===-1&&(a=e.selectedIndex)),{...e,tabs:l,selectedIndex:a}},[2](e,r){return{...e,tabs:e.tabs.filter(t=>t!==r.tab)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:w([...e.panels,r.panel],t=>t.current)}},[4](e,r){return{...e,panels:e.panels.filter(t=>t!==r.panel)}}},z=re(null);z.displayName=\"TabsDataContext\";function h(e){let r=ne(z);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,h),t}return r}let V=re(null);V.displayName=\"TabsActionsContext\";function Q(e){let r=ne(V);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Q),t}return r}function Fe(e,r){return O(r.type,De,e,r)}let Ie=\"div\";function he(e,r){let{defaultIndex:t=0,vertical:l=!1,manual:a=!1,onChange:n,selectedIndex:s=null,...g}=e;const f=l?\"vertical\":\"horizontal\",b=a?\"manual\":\"auto\";let d=s!==null,u=j({isControlled:d}),T=H(r),[p,c]=fe(Fe,{info:u,selectedIndex:s!=null?s:t,tabs:[],panels:[]}),v=U({selectedIndex:p.selectedIndex}),m=j(n||(()=>{})),C=j(p.tabs),D=ae(()=>({orientation:f,activation:b,...p}),[f,b,p]),P=F(i=>(c({type:1,tab:i}),()=>c({type:2,tab:i}))),R=F(i=>(c({type:3,panel:i}),()=>c({type:4,panel:i}))),A=F(i=>{L.current!==i&&m.current(i),d||c({type:0,index:i})}),L=j(d?e.selectedIndex:p.selectedIndex),_=ae(()=>({registerTab:P,registerPanel:R,change:A}),[]);W(()=>{c({type:0,index:s!=null?s:t})},[s]),W(()=>{if(L.current===void 0||p.tabs.length<=0)return;let i=w(p.tabs,S=>S.current);i.some((S,$)=>p.tabs[$]!==S)&&A(i.indexOf(p.tabs[L.current]))});let J={ref:T},X=k();return G.createElement(Re,null,G.createElement(V.Provider,{value:_},G.createElement(z.Provider,{value:D},D.tabs.length<=0&&G.createElement(xe,{onFocus:()=>{var i,M;for(let S of C.current)if(((i=S.current)==null?void 0:i.tabIndex)===0)return(M=S.current)==null||M.focus(),!0;return!1}}),X({ourProps:J,theirProps:g,slot:v,defaultTag:Ie,name:\"Tabs\"}))))}let ve=\"div\";function Ce(e,r){let{orientation:t,selectedIndex:l}=h(\"Tab.List\"),a=H(r),n=U({selectedIndex:l}),s=e,g={ref:a,role:\"tablist\",\"aria-orientation\":t};return k()({ourProps:g,theirProps:s,slot:n,defaultTag:ve,name:\"Tabs.List\"})}let Me=\"button\";function Ge(e,r){var Y,Z;let t=le(),{id:l=`headlessui-tabs-tab-${t}`,disabled:a=!1,autoFocus:n=!1,...s}=e,{orientation:g,activation:f,selectedIndex:b,tabs:d,panels:u}=h(\"Tab\"),T=Q(\"Tab\"),p=h(\"Tab\"),[c,v]=me(null),m=q(null),C=H(m,r,v);W(()=>T.registerTab(m),[T,m]);let D=ie(\"tabs\"),P=d.indexOf(m);P===-1&&(P=D);let R=P===b,A=F(o=>{let E=o();if(E===K.Success&&f===\"auto\"){let ee=Ee(m.current),B=p.tabs.findIndex(ce=>ce.current===ee);B!==-1&&T.change(B)}return E}),L=F(o=>{let E=d.map(B=>B.current).filter(Boolean);if(o.key===x.Space||o.key===x.Enter){o.preventDefault(),o.stopPropagation(),T.change(P);return}switch(o.key){case x.Home:case x.PageUp:return o.preventDefault(),o.stopPropagation(),A(()=>I(E,y.First));case x.End:case x.PageDown:return o.preventDefault(),o.stopPropagation(),A(()=>I(E,y.Last))}if(A(()=>O(g,{vertical(){return o.key===x.ArrowUp?I(E,y.Previous|y.WrapAround):o.key===x.ArrowDown?I(E,y.Next|y.WrapAround):K.Error},horizontal(){return o.key===x.ArrowLeft?I(E,y.Previous|y.WrapAround):o.key===x.ArrowRight?I(E,y.Next|y.WrapAround):K.Error}}))===K.Success)return o.preventDefault()}),_=q(!1),J=F(()=>{var o;_.current||(_.current=!0,(o=m.current)==null||o.focus({preventScroll:!0}),T.change(P),Ae(()=>{_.current=!1}))}),X=F(o=>{o.preventDefault()}),{isFocusVisible:i,focusProps:M}=te({autoFocus:n}),{isHovered:S,hoverProps:$}=be({isDisabled:a}),{pressed:pe,pressProps:ue}=Pe({disabled:a}),Te=U({selected:R,hover:S,active:pe,focus:i,autofocus:n,disabled:a}),de=se({ref:C,onKeyDown:L,onMouseDown:X,onClick:J,id:l,role:\"tab\",type:ye(e,c),\"aria-controls\":(Z=(Y=u[P])==null?void 0:Y.current)==null?void 0:Z.id,\"aria-selected\":R,tabIndex:R?0:-1,disabled:a||void 0,autoFocus:n},M,$,ue);return k()({ourProps:de,theirProps:s,slot:Te,defaultTag:Me,name:\"Tabs.Tab\"})}let Ue=\"div\";function He(e,r){let{selectedIndex:t}=h(\"Tab.Panels\"),l=H(r),a=U({selectedIndex:t}),n=e,s={ref:l};return k()({ourProps:s,theirProps:n,slot:a,defaultTag:Ue,name:\"Tabs.Panels\"})}let we=\"div\",Oe=oe.RenderStrategy|oe.Static;function Ne(e,r){var R,A,L,_;let t=le(),{id:l=`headlessui-tabs-panel-${t}`,tabIndex:a=0,...n}=e,{selectedIndex:s,tabs:g,panels:f}=h(\"Tab.Panel\"),b=Q(\"Tab.Panel\"),d=q(null),u=H(d,r);W(()=>b.registerPanel(d),[b,d]);let T=ie(\"panels\"),p=f.indexOf(d);p===-1&&(p=T);let c=p===s,{isFocusVisible:v,focusProps:m}=te(),C=U({selected:c,focus:v}),D=se({ref:u,id:l,role:\"tabpanel\",\"aria-labelledby\":(A=(R=g[p])==null?void 0:R.current)==null?void 0:A.id,tabIndex:c?a:-1},m),P=k();return!c&&((L=n.unmount)==null||L)&&!((_=n.static)!=null&&_)?G.createElement(ge,{\"aria-hidden\":\"true\",...D}):P({ourProps:D,theirProps:n,slot:C,defaultTag:we,features:Oe,visible:c,name:\"Tabs.Panel\"})}let ke=N(Ge),Be=N(he),We=N(Ce),je=N(He),Ke=N(Ne),dt=Object.assign(ke,{Group:Be,List:We,Panels:je,Panel:Ke});export{dt as Tab,Be as TabGroup,We as TabList,Ke as TabPanel,je as TabPanels};\n","import { memo, useState, Fragment } from 'react';\nimport { Dialog, Transition, Switch, Tab } from '@headlessui/react';\nimport { useTableSettings } from '../../../context/TableSettingsContext';\nimport { useColumnConfig } from '../../../context/ColumnConfigContext';\nimport {\n  Cog6ToothIcon,\n  XMarkIcon,\n  ViewColumnsIcon,\n  ArrowsUpDownIcon,\n  SunIcon,\n  TableCellsIcon,\n  AdjustmentsHorizontalIcon,\n  CheckIcon,\n} from '@heroicons/react/24/outline';\n\n// Column Groups for organized display\nconst COLUMN_GROUPS = {\n  price: {\n    label: 'Price Data',\n    columns: ['ltp', 'chng', 'bid', 'ask'],\n  },\n  oi: {\n    label: 'Open Interest',\n    columns: ['oi', 'oichng', 'buildup'],\n  },\n  greeks: {\n    label: 'Greeks',\n    columns: ['iv', 'delta', 'gamma', 'theta', 'vega'],\n  },\n  volume: {\n    label: 'Volume',\n    columns: ['volume'],\n  },\n};\n\n// Column Labels\nconst COLUMN_LABELS = {\n  ltp: 'LTP',\n  chng: 'Change',\n  bid: 'Bid',\n  ask: 'Ask',\n  oi: 'OI',\n  oichng: 'OI Chg',\n  buildup: 'Buildup',\n  iv: 'IV',\n  delta: 'Delta',\n  gamma: 'Gamma',\n  theta: 'Theta',\n  vega: 'Vega',\n  volume: 'Volume',\n};\n\n// Presets\nconst PRESETS = {\n  default: { name: 'Default', icon: 'âš–ï¸', desc: 'Balanced view' },\n  buyer: { name: 'Buyer', icon: 'ðŸ“ˆ', desc: 'Premium & Greeks' },\n  seller: { name: 'Seller', icon: 'ðŸ“‰', desc: 'OI & Theta' },\n  scalper: { name: 'Scalper', icon: 'âš¡', desc: 'Quick trades' },\n  greeks: { name: 'Greeks', icon: 'ðŸ”¬', desc: 'All Greeks' },\n};\n\n/**\n * Toggle Switch Component\n */\nconst SettingToggle = memo(({ label, description, enabled, onChange, icon: Icon }) => (\n  <div className=\"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800 last:border-0\">\n    <div className=\"flex items-center gap-3\">\n      {Icon && <Icon className=\"w-5 h-5 text-gray-400\" />}\n      <div>\n        <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{label}</div>\n        {description && (\n          <div className=\"text-xs text-gray-500 dark:text-gray-400\">{description}</div>\n        )}\n      </div>\n    </div>\n    <Switch\n      checked={enabled}\n      onChange={onChange}\n      className={`${enabled ? 'bg-blue-600' : 'bg-gray-200 dark:bg-gray-700'}\n        relative inline-flex h-6 w-11 items-center rounded-full transition-colors`}\n    >\n      <span\n        className={`${enabled ? 'translate-x-6' : 'translate-x-1'}\n          inline-block h-4 w-4 transform rounded-full bg-white transition-transform`}\n      />\n    </Switch>\n  </div>\n));\n\nSettingToggle.displayName = 'SettingToggle';\n\n/**\n * Number Input Component\n */\nconst NumberSetting = memo(({ label, value, onChange, min, max, step = 1 }) => (\n  <div className=\"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800 last:border-0\">\n    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{label}</div>\n    <div className=\"flex items-center gap-2\">\n      <button\n        onClick={() => onChange(Math.max(min, value - step))}\n        className=\"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600\"\n      >\n        -\n      </button>\n      <span className=\"w-12 text-center font-medium\">{value}</span>\n      <button\n        onClick={() => onChange(Math.min(max, value + step))}\n        className=\"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600\"\n      >\n        +\n      </button>\n    </div>\n  </div>\n));\n\nNumberSetting.displayName = 'NumberSetting';\n\n/**\n * Table Settings Modal\n */\nconst TableSettingsModal = memo(({ isOpen, onClose }) => {\n  const {\n    settings,\n    toggleSortOrder,\n    toggleITMHighlight,\n    toggleCompactMode,\n    setStrikesPerPage,\n  } = useTableSettings();\n\n  const { visibleColumns: _visibleColumns, toggleColumn, applyPreset, isColumnVisible } = useColumnConfig();\n\n  const [activeTab, setActiveTab] = useState(0);\n\n  const tabs = [\n    { name: 'Display', icon: AdjustmentsHorizontalIcon },\n    { name: 'Columns', icon: ViewColumnsIcon },\n    { name: 'Presets', icon: TableCellsIcon },\n  ];\n\n  return (\n    <Transition appear show={isOpen} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-50\" onClose={onClose}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <Dialog.Panel className=\"w-full max-w-lg transform overflow-hidden rounded-2xl bg-white dark:bg-gray-900 shadow-2xl transition-all\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\n                  <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\n                    <Cog6ToothIcon className=\"w-5 h-5\" />\n                    Table Settings\n                  </Dialog.Title>\n                  <button\n                    onClick={onClose}\n                    className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                  >\n                    <XMarkIcon className=\"w-5 h-5\" />\n                  </button>\n                </div>\n\n                {/* Tabs */}\n                <Tab.Group selectedIndex={activeTab} onChange={setActiveTab}>\n                  <Tab.List className=\"flex border-b border-gray-200 dark:border-gray-700\">\n                    {tabs.map((tab) => (\n                      <Tab\n                        key={tab.name}\n                        className={({ selected }) =>\n                          `flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium transition-colors outline-none\n                          ${selected\n                            ? 'text-blue-600 border-b-2 border-blue-600 bg-blue-50/50 dark:bg-blue-900/20'\n                            : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\n                          }`\n                        }\n                      >\n                        <tab.icon className=\"w-4 h-4\" />\n                        {tab.name}\n                      </Tab>\n                    ))}\n                  </Tab.List>\n\n                  <Tab.Panels className=\"p-4\">\n                    {/* Display Settings */}\n                    <Tab.Panel>\n                      <div className=\"space-y-1\">\n                        <SettingToggle\n                          label=\"Compact Mode\"\n                          description=\"Reduce row height for more data\"\n                          enabled={settings.compactMode}\n                          onChange={toggleCompactMode}\n                          icon={ViewColumnsIcon}\n                        />\n                        <SettingToggle\n                          label=\"ITM Highlight\"\n                          description=\"Highlight in-the-money strikes\"\n                          enabled={settings.highlightITM}\n                          onChange={toggleITMHighlight}\n                          icon={SunIcon}\n                        />\n                        <SettingToggle\n                          label=\"Descending Order\"\n                          description=\"Show higher strikes first\"\n                          enabled={settings.sortOrder === 'desc'}\n                          onChange={toggleSortOrder}\n                          icon={ArrowsUpDownIcon}\n                        />\n                        <NumberSetting\n                          label=\"Visible Strikes\"\n                          value={settings.strikesPerPage}\n                          onChange={setStrikesPerPage}\n                          min={11}\n                          max={51}\n                          step={2}\n                        />\n                      </div>\n                    </Tab.Panel>\n\n                    {/* Column Settings */}\n                    <Tab.Panel>\n                      <div className=\"space-y-4 max-h-80 overflow-y-auto\">\n                        {Object.entries(COLUMN_GROUPS).map(([groupKey, group]) => (\n                          <div key={groupKey}>\n                            <div className=\"text-xs font-semibold text-gray-500 uppercase mb-2\">\n                              {group.label}\n                            </div>\n                            <div className=\"grid grid-cols-2 gap-2\">\n                              {group.columns.map((col) => {\n                                const ceKey = `ce_${col}`;\n                                const peKey = `pe_${col}`;\n                                const ceVisible = isColumnVisible(ceKey);\n                                const peVisible = isColumnVisible(peKey);\n                                const bothVisible = ceVisible && peVisible;\n\n                                return (\n                                  <button\n                                    key={col}\n                                    onClick={() => {\n                                      toggleColumn(ceKey);\n                                      toggleColumn(peKey);\n                                    }}\n                                    className={`flex items-center justify-between px-3 py-2 rounded-lg border transition-colors ${\n                                      bothVisible\n                                        ? 'bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300'\n                                        : 'bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400'\n                                    }`}\n                                  >\n                                    <span className=\"text-sm\">{COLUMN_LABELS[col]}</span>\n                                    {bothVisible && <CheckIcon className=\"w-4 h-4\" />}\n                                  </button>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </Tab.Panel>\n\n                    {/* Presets */}\n                    <Tab.Panel>\n                      <div className=\"grid grid-cols-2 gap-3\">\n                        {Object.entries(PRESETS).map(([key, preset]) => (\n                          <button\n                            key={key}\n                            onClick={() => {\n                              applyPreset(key);\n                              onClose();\n                            }}\n                            className=\"flex flex-col items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:border-blue-300 dark:hover:border-blue-700 transition-colors group\"\n                          >\n                            <span className=\"text-2xl mb-2\">{preset.icon}</span>\n                            <span className=\"font-medium text-gray-900 dark:text-white group-hover:text-blue-600\">\n                              {preset.name}\n                            </span>\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {preset.desc}\n                            </span>\n                          </button>\n                        ))}\n                      </div>\n                    </Tab.Panel>\n                  </Tab.Panels>\n                </Tab.Group>\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n});\n\nTableSettingsModal.displayName = 'TableSettingsModal';\n\n/**\n * Settings Button - Opens the settings modal\n */\nexport const SettingsButton = memo(() => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <button\n        onClick={() => setIsOpen(true)}\n        className=\"flex items-center gap-1.5 px-2 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 border bg-white text-gray-600 border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 dark:hover:bg-gray-700\"\n        title=\"Table Settings\"\n      >\n        <Cog6ToothIcon className=\"w-4 h-4\" />\n      </button>\n      <TableSettingsModal isOpen={isOpen} onClose={() => setIsOpen(false)} />\n    </>\n  );\n});\n\nSettingsButton.displayName = 'SettingsButton';\n\nexport default TableSettingsModal;\n","import { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  XMarkIcon,\n  ArrowTrendingUpIcon,\n  BoltIcon,\n  ChartBarIcon,\n  BeakerIcon,\n} from '@heroicons/react/24/outline';\n\n/**\n * Strike Detail Panel\n * Shows comprehensive data for a selected strike\n */\nconst StrikeDetailPanel = memo(({ strikeData, onClose }) => {\n  if (!strikeData) return null;\n\n  const {\n    strike,\n    reversal,\n    wkly_reversal,\n    fut_reversal,\n    rs,\n    rr: _rr,\n    ss,\n    sr_diff,\n    ce_tv,\n    pe_tv,\n    pcr,\n    price_range,\n    trading_signals,\n    market_regimes,\n    recommended_strategy,\n    alert,\n    time_decay,\n    ce: _ce,\n    pe: _pe,\n  } = strikeData;\n\n  const regimeColors = {\n    low: 'text-green-500 bg-green-100 dark:bg-green-900/30',\n    medium: 'text-yellow-500 bg-yellow-100 dark:bg-yellow-900/30',\n    high: 'text-red-500 bg-red-100 dark:bg-red-900/30',\n    bullish: 'text-green-500 bg-green-100 dark:bg-green-900/30',\n    bearish: 'text-red-500 bg-red-100 dark:bg-red-900/30',\n    sideways: 'text-gray-500 bg-gray-100 dark:bg-gray-900/30',\n  };\n\n  const alertColors = {\n    low: 'border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800',\n    medium: 'border-yellow-300 bg-yellow-50 dark:border-yellow-700 dark:bg-yellow-900/20',\n    high: 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20',\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Strike {strike}\n          </div>\n          {recommended_strategy && (\n            <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300\">\n              {recommended_strategy}\n            </span>\n          )}\n          {alert && (\n            <span className={`px-2 py-1 text-xs font-medium rounded-full border ${alertColors[alert.level]}`}>\n              {alert.message}\n            </span>\n          )}\n        </div>\n        <button\n          onClick={onClose}\n          className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n        >\n          <XMarkIcon className=\"w-5 h-5 text-gray-500\" />\n        </button>\n      </div>\n\n      {/* Content Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4\">\n        {/* Reversal Levels */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <ArrowTrendingUpIcon className=\"w-5 h-5 text-blue-500\" />\n            <h4 className=\"font-semibold text-gray-900 dark:text-white\">Reversal Levels</h4>\n          </div>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Daily</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{reversal?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Weekly</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{wkly_reversal?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Futures</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{fut_reversal?.toFixed(2) || 'â€”'}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Trading Signals */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <BoltIcon className=\"w-5 h-5 text-yellow-500\" />\n            <h4 className=\"font-semibold text-gray-900 dark:text-white\">Trading Signals</h4>\n          </div>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Entry</span>\n              <span className=\"font-medium text-green-600\">{trading_signals?.entry?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Stop Loss</span>\n              <span className=\"font-medium text-red-600\">{trading_signals?.stop_loss?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Take Profit</span>\n              <span className=\"font-medium text-green-600\">{trading_signals?.take_profit?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Risk:Reward</span>\n              <span className=\"font-medium text-blue-600\">1:{trading_signals?.risk_reward || 'â€”'}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Support/Resistance */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <ChartBarIcon className=\"w-5 h-5 text-purple-500\" />\n            <h4 className=\"font-semibold text-gray-900 dark:text-white\">S/R Levels</h4>\n          </div>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Resistance</span>\n              <span className=\"font-medium text-red-600\">{rs?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Support</span>\n              <span className=\"font-medium text-green-600\">{ss?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">Range</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{sr_diff?.toFixed(2) || 'â€”'}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-500\">PCR</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{pcr?.toFixed(3) || '0.00'}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Market Regime */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <BeakerIcon className=\"w-5 h-5 text-cyan-500\" />\n            <h4 className=\"font-semibold text-gray-900 dark:text-white\">Market Regime</h4>\n          </div>\n          <div className=\"space-y-2\">\n            {market_regimes && (\n              <>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-500\">Volatility</span>\n                  <span className={`px-2 py-0.5 text-xs font-medium rounded ${regimeColors[market_regimes.volatility]}`}>\n                    {market_regimes.volatility?.toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-500\">Trend</span>\n                  <span className={`px-2 py-0.5 text-xs font-medium rounded ${regimeColors[market_regimes.trend]}`}>\n                    {market_regimes.trend?.toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-500\">Liquidity</span>\n                  <span className={`px-2 py-0.5 text-xs font-medium rounded ${regimeColors[market_regimes.liquidity]}`}>\n                    {market_regimes.liquidity?.toUpperCase()}\n                  </span>\n                </div>\n              </>\n            )}\n            <div className=\"flex justify-between items-center pt-1 border-t border-gray-200 dark:border-gray-700\">\n              <span className=\"text-sm text-gray-500\">Time Decay</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{time_decay?.toFixed(4) || 'â€”'}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Time Value Comparison */}\n      <div className=\"px-4 pb-4\">\n        <div className=\"bg-gradient-to-r from-green-50 to-red-50 dark:from-green-900/20 dark:to-red-900/20 rounded-xl p-4 flex items-center justify-between\">\n          <div className=\"text-center flex-1\">\n            <div className=\"text-xs text-gray-500 mb-1\">CE Time Value</div>\n            <div className=\"text-lg font-bold text-green-600\">{ce_tv?.toFixed(2) || '0.00'}</div>\n          </div>\n          <div className=\"w-px h-12 bg-gray-300 dark:bg-gray-600\" />\n          <div className=\"text-center flex-1\">\n            <div className=\"text-xs text-gray-500 mb-1\">Price Range</div>\n            <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\n              {price_range?.low?.toFixed(0)} - {price_range?.high?.toFixed(0)}\n              <span className=\"text-xs text-gray-500 ml-1\">({(price_range?.confidence * 100)?.toFixed(0)}%)</span>\n            </div>\n          </div>\n          <div className=\"w-px h-12 bg-gray-300 dark:bg-gray-600\" />\n          <div className=\"text-center flex-1\">\n            <div className=\"text-xs text-gray-500 mb-1\">PE Time Value</div>\n            <div className=\"text-lg font-bold text-red-600\">{pe_tv > 0.01 ? pe_tv?.toFixed(2) : '~0.00'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nStrikeDetailPanel.displayName = 'StrikeDetailPanel';\n\nStrikeDetailPanel.propTypes = {\n  strikeData: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default StrikeDetailPanel;\n","import { memo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    XMarkIcon,\n    ChartBarIcon,\n    CurrencyDollarIcon,\n    BeakerIcon,\n    ArrowTrendingUpIcon,\n    BoltIcon,\n    RocketLaunchIcon,\n} from '@heroicons/react/24/outline';\n\n/**\n * Professional Strike Analysis Modal\n * 5 Tabs: Overview, Greeks, Signals, Reversals, Strategies\n * \n * Original Formula (clicked strike based):\n * - Resistance = Spot + CE_LTP\n * - Support = Spot - PE_LTP\n */\nconst StrikeAnalysisModal = memo(({ isOpen, onClose, strikeData, symbol }) => {\n    const [activeTab, setActiveTab] = useState('overview');\n\n\n    if (!isOpen || !strikeData) return null;\n\n    const { strike, ce = {}, pe = {} } = strikeData;\n    const ceGreeks = ce.optgeeks || {};\n    const peGreeks = pe.optgeeks || {};\n\n\n    // Tab configuration\n    const tabs = [\n        { id: 'overview', label: 'Overview', icon: ChartBarIcon },\n        { id: 'greeks', label: 'Greeks', icon: BeakerIcon },\n        { id: 'signals', label: 'Signals', icon: BoltIcon },\n        { id: 'reversals', label: 'Reversals', icon: ArrowTrendingUpIcon },\n        { id: 'strategies', label: 'Strategies', icon: RocketLaunchIcon },\n    ];\n\n    // Straddle value\n    const straddle = (ce.ltp || 0) + (pe.ltp || 0);\n\n    // PCR from data or calculate\n    const pcr = (ce.oi && ce.oi > 0) ? (pe.oi / ce.oi).toFixed(2) : 'â€”';\n\n    // Render tab content\n    const renderContent = () => {\n        switch (activeTab) {\n            case 'overview':\n                return (\n                    <div className=\"space-y-4\">\n                        {/* Call vs Put Summary */}\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            {/* Call Side */}\n                            <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800\">\n                                <div className=\"flex items-center justify-between mb-3\">\n                                    <span className=\"text-xs font-bold text-green-700 dark:text-green-400 uppercase tracking-wider\">Call ({strike}CE)</span>\n                                    <span className={`px-2 py-0.5 rounded text-xs font-bold ${(ce.change || ce.p_chng || 0) >= 0\n                                        ? 'bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-400'\n                                        : 'bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400'\n                                        }`}>\n                                        {(ce.change || ce.p_chng || 0) >= 0 ? '+' : ''}{(ce.change || ce.p_chng || 0).toFixed(2)}\n                                    </span>\n                                </div>\n                                <div className=\"space-y-2 text-sm\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">LTP</span>\n                                        <span className=\"font-bold text-green-700 dark:text-green-400\">â‚¹{ce.ltp?.toFixed(2) || 'â€”'}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">OI</span>\n                                        <span className=\"font-semibold\">{((ce.oi || ce.OI || 0) / 100000).toFixed(2)}L</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">OI Chg</span>\n                                        <span className={`font-semibold ${(ce.oi_chng || ce.oichng || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                            {(ce.oi_chng || ce.oichng || 0) >= 0 ? '+' : ''}{((ce.oi_chng || ce.oichng || 0) / 100000).toFixed(2)}L\n                                        </span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">Volume</span>\n                                        <span className=\"font-semibold\">{((ce.volume || ce.vol || 0) / 100000).toFixed(2)}L</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">IV</span>\n                                        <span className=\"font-semibold\">{ce.iv?.toFixed(1) || 'â€”'}%</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Put Side */}\n                            <div className=\"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800\">\n                                <div className=\"flex items-center justify-between mb-3\">\n                                    <span className=\"text-xs font-bold text-red-700 dark:text-red-400 uppercase tracking-wider\">Put ({strike}PE)</span>\n                                    <span className={`px-2 py-0.5 rounded text-xs font-bold ${(pe.change || pe.p_chng || 0) >= 0\n                                        ? 'bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-400'\n                                        : 'bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400'\n                                        }`}>\n                                        {(pe.change || pe.p_chng || 0) >= 0 ? '+' : ''}{(pe.change || pe.p_chng || 0).toFixed(2)}\n                                    </span>\n                                </div>\n                                <div className=\"space-y-2 text-sm\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">LTP</span>\n                                        <span className=\"font-bold text-red-700 dark:text-red-400\">â‚¹{pe.ltp?.toFixed(2) || 'â€”'}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">OI</span>\n                                        <span className=\"font-semibold\">{((pe.oi || pe.OI || 0) / 100000).toFixed(2)}L</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">OI Chg</span>\n                                        <span className={`font-semibold ${(pe.oi_chng || pe.oichng || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                            {(pe.oi_chng || pe.oichng || 0) >= 0 ? '+' : ''}{((pe.oi_chng || pe.oichng || 0) / 100000).toFixed(2)}L\n                                        </span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">Volume</span>\n                                        <span className=\"font-semibold\">{((pe.volume || pe.vol || 0) / 100000).toFixed(2)}L</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">IV</span>\n                                        <span className=\"font-semibold\">{pe.iv?.toFixed(1) || 'â€”'}%</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Key Metrics */}\n                        <div className=\"grid grid-cols-4 gap-3\">\n                            <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-gray-500 uppercase\">Straddle</div>\n                                <div className=\"text-lg font-bold text-purple-600\">â‚¹{straddle.toFixed(2)}</div>\n                            </div>\n                            <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-gray-500 uppercase\">PCR</div>\n                                <div className={`text-lg font-bold ${parseFloat(pcr) > 1 ? 'text-green-600' : 'text-red-600'}`}>{pcr}</div>\n                            </div>\n                            <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-gray-500 uppercase\">IV Skew</div>\n                                <div className=\"text-lg font-bold\">{((ce.iv || 0) - (pe.iv || 0)).toFixed(1)}%</div>\n                            </div>\n                            <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-gray-500 uppercase\">OI Ratio</div>\n                                <div className=\"text-lg font-bold\">{ce.oi && pe.oi ? (ce.oi / pe.oi).toFixed(2) : 'â€”'}</div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 'greeks': {\n                const greekRows = [\n                    { key: 'delta', label: 'Î” Delta', desc: 'Price sensitivity', format: (v) => v?.toFixed(4) || 'â€”' },\n                    { key: 'gamma', label: 'Î“ Gamma', desc: 'Delta sensitivity', format: (v) => v?.toFixed(6) || 'â€”' },\n                    { key: 'theta', label: 'Î˜ Theta', desc: 'Time decay', format: (v) => v?.toFixed(4) || 'â€”' },\n                    { key: 'vega', label: 'Î½ Vega', desc: 'Volatility sensitivity', format: (v) => v?.toFixed(4) || 'â€”' },\n                    { key: 'rho', label: 'Ï Rho', desc: 'Interest rate sensitivity', format: (v) => v?.toFixed(4) || 'â€”' },\n                    { key: 'vanna', label: 'Vanna', desc: 'Delta-volatility', format: (v) => v?.toFixed(6) || 'â€”' },\n                    { key: 'charm', label: 'Charm', desc: 'Delta decay', format: (v) => v?.toFixed(6) || 'â€”' },\n                    { key: 'vomma', label: 'Vomma', desc: 'Vega convexity', format: (v) => v?.toFixed(6) || 'â€”' },\n                ];\n\n                return (\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm\">\n                            <thead>\n                                <tr className=\"border-b border-gray-200 dark:border-gray-700\">\n                                    <th className=\"text-left py-2 px-3 text-xs font-semibold text-gray-500 uppercase\">Greek</th>\n                                    <th className=\"text-right py-2 px-3 text-xs font-semibold text-green-600 uppercase\">Call</th>\n                                    <th className=\"text-right py-2 px-3 text-xs font-semibold text-red-600 uppercase\">Put</th>\n                                    <th className=\"text-left py-2 px-3 text-xs font-semibold text-gray-500 uppercase\">Description</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {greekRows.map((row, i) => (\n                                    <tr key={row.key} className={`border-b border-gray-100 dark:border-gray-800 ${i % 2 === 0 ? 'bg-gray-50/50 dark:bg-gray-800/50' : ''}`}>\n                                        <td className=\"py-2.5 px-3 font-semibold\">{row.label}</td>\n                                        <td className=\"py-2.5 px-3 text-right font-mono text-green-600\">{row.format(ceGreeks[row.key])}</td>\n                                        <td className=\"py-2.5 px-3 text-right font-mono text-red-600\">{row.format(peGreeks[row.key])}</td>\n                                        <td className=\"py-2.5 px-3 text-gray-500 text-xs\">{row.desc}</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                );\n            }\n\n            case 'signals': {\n                const ceAnalysis = analyzeBuildUp(ce);\n                const peAnalysis = analyzeBuildUp(pe);\n\n                return (\n                    <div className=\"space-y-4\">\n                        {/* Smart Signals */}\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <div className={`rounded-xl p-4 border-2 ${ceAnalysis.sentiment === 'bullish' ? 'bg-green-50 border-green-300 dark:bg-green-900/20 dark:border-green-700' :\n                                ceAnalysis.sentiment === 'bearish' ? 'bg-red-50 border-red-300 dark:bg-red-900/20 dark:border-red-700' :\n                                    'bg-gray-50 border-gray-300 dark:bg-gray-800 dark:border-gray-700'\n                                }`}>\n                                <div className=\"text-xs font-bold uppercase tracking-wider mb-2 text-green-700 dark:text-green-400\">Call Signal</div>\n                                <div className=\"text-lg font-bold mb-1\">{ceAnalysis.buildUp}</div>\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">{ceAnalysis.description}</div>\n                            </div>\n\n                            <div className={`rounded-xl p-4 border-2 ${peAnalysis.sentiment === 'bullish' ? 'bg-green-50 border-green-300 dark:bg-green-900/20 dark:border-green-700' :\n                                peAnalysis.sentiment === 'bearish' ? 'bg-red-50 border-red-300 dark:bg-red-900/20 dark:border-red-700' :\n                                    'bg-gray-50 border-gray-300 dark:bg-gray-800 dark:border-gray-700'\n                                }`}>\n                                <div className=\"text-xs font-bold uppercase tracking-wider mb-2 text-red-700 dark:text-red-400\">Put Signal</div>\n                                <div className=\"text-lg font-bold mb-1\">{peAnalysis.buildUp}</div>\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">{peAnalysis.description}</div>\n                            </div>\n                        </div>\n\n                        {/* Combined Analysis */}\n                        <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800\">\n                            <div className=\"text-xs font-bold uppercase tracking-wider mb-2 text-blue-700 dark:text-blue-400\">Combined Analysis</div>\n                            <div className=\"text-sm text-gray-700 dark:text-gray-300\">\n                                {getCombinedAnalysis(ceAnalysis, peAnalysis, pcr)}\n                            </div>\n                        </div>\n                    </div>\n                );\n            }\n\n            case 'reversals': {\n                // Original Formula (clicked strike based):\n                // Resistance = Spot + CE_LTP\n                // Support = Spot - PE_LTP\n\n                // Current strike premiums\n                const ceLTP = ce.ltp || 0;\n                const peLTP = pe.ltp || 0;\n\n                // Get spot price from strikeData\n                const baseSpot = strikeData.spot_price || strikeData.spot || 0;\n                const futuresPrice = strikeData.futures_price || strikeData.fut_ltp || 0;\n\n                // Straddle for this strike\n                const strikeStraddle = ceLTP + peLTP;\n\n                // === ORIGINAL S/R CALCULATION (clicked strike based) ===\n                // SPOT-based: R = Spot + CE_LTP, S = Spot - PE_LTP\n                const spotResistance = baseSpot + ceLTP;\n                const spotSupport = baseSpot - peLTP;\n\n                // FUTURE-based: R = Futures + CE_LTP, S = Futures - PE_LTP\n                const baseFutures = futuresPrice > 0 ? futuresPrice : baseSpot;\n                const futureResistance = baseFutures + ceLTP;\n                const futureSupport = baseFutures - peLTP;\n\n                // LTP-based (strike-specific): Strike + CE_LTP / Strike - PE_LTP\n                const ltpResistance = strike + ceLTP;\n                const ltpSupport = strike - peLTP;\n\n                // Breakeven levels (using this strike's straddle)\n                const breakevenUp = strike + strikeStraddle;\n                const breakevenDown = strike - strikeStraddle;\n\n                // Get values based on active sub-tab\n                const activeSubTab = strikeData._reversalTab || 'spot';\n\n                const getActiveValues = () => {\n                    switch (activeSubTab) {\n                        case 'future':\n                            return { resistance: futureResistance, support: futureSupport, base: baseFutures, label: 'Futures' };\n                        case 'ltp':\n                            return { resistance: ltpResistance, support: ltpSupport, base: strike, label: 'Strike' };\n                        case 'spot':\n                        default:\n                            return { resistance: spotResistance, support: spotSupport, base: baseSpot, label: 'Spot' };\n                    }\n                };\n\n                const activeValues = getActiveValues();\n\n                return (\n                    <div className=\"space-y-4\">\n                        {/* Title - LOC Calculator Style */}\n                        <div className=\"text-center py-2 bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 dark:from-indigo-900/20 dark:via-purple-900/20 dark:to-pink-900/20 rounded-lg\">\n                            <h4 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n                                Reversal For : {strike}\n                            </h4>\n                            <p className=\"text-xs text-gray-500 mt-1\">Strike-Based Formula</p>\n                        </div>\n\n                        {/* All Three Views - SPOT, FUTURE, LTP */}\n                        <div className=\"grid grid-cols-3 gap-3\">\n                            {/* SPOT View */}\n                            <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 border border-blue-200 dark:border-blue-700\">\n                                <div className=\"text-xs font-bold text-blue-700 dark:text-blue-400 uppercase tracking-wider mb-2 flex items-center gap-1\">\n                                    ðŸ“ SPOT\n                                </div>\n                                <div className=\"space-y-1.5 text-sm\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-red-600 dark:text-red-400\">R:</span>\n                                        <span className=\"font-bold text-red-600\">{spotResistance.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-green-600 dark:text-green-400\">S:</span>\n                                        <span className=\"font-bold text-green-600\">{spotSupport.toFixed(2)}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* FUTURE View */}\n                            <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-3 border border-purple-200 dark:border-purple-700\">\n                                <div className=\"text-xs font-bold text-purple-700 dark:text-purple-400 uppercase tracking-wider mb-2 flex items-center gap-1\">\n                                    ðŸ“ˆ FUTURE\n                                </div>\n                                <div className=\"space-y-1.5 text-sm\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-red-600 dark:text-red-400\">R:</span>\n                                        <span className=\"font-bold text-red-600\">{futureResistance.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-green-600 dark:text-green-400\">S:</span>\n                                        <span className=\"font-bold text-green-600\">{futureSupport.toFixed(2)}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* LTP View */}\n                            <div className=\"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-3 border border-amber-200 dark:border-amber-700\">\n                                <div className=\"text-xs font-bold text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2 flex items-center gap-1\">\n                                    ðŸ’¹ LTP Calc\n                                </div>\n                                <div className=\"space-y-1.5 text-sm\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-red-600 dark:text-red-400\">R:</span>\n                                        <span className=\"font-bold text-red-600\">{ltpResistance.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-green-600 dark:text-green-400\">S:</span>\n                                        <span className=\"font-bold text-green-600\">{ltpSupport.toFixed(2)}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Detailed S/R Levels */}\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            {/* Resistance Levels */}\n                            <div className=\"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800\">\n                                <div className=\"flex items-center gap-2 mb-3\">\n                                    <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\"></div>\n                                    <span className=\"text-sm font-bold text-red-700 dark:text-red-400 uppercase tracking-wider\">Resistance</span>\n                                </div>\n                                <div className=\"text-3xl font-bold text-red-600 mb-2\">{spotResistance.toFixed(2)}</div>\n                                <div className=\"text-xs text-gray-500\">Spot + CE Premium</div>\n                            </div>\n\n                            {/* Support Levels */}\n                            <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800\">\n                                <div className=\"flex items-center gap-2 mb-3\">\n                                    <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\"></div>\n                                    <span className=\"text-sm font-bold text-green-700 dark:text-green-400 uppercase tracking-wider\">Support</span>\n                                </div>\n                                <div className=\"text-3xl font-bold text-green-600 mb-2\">{spotSupport.toFixed(2)}</div>\n                                <div className=\"text-xs text-gray-500\">Spot - PE Premium</div>\n                            </div>\n                        </div>\n\n                        {/* Calculation Details - Formulas */}\n                        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n                            <div className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3\">Calculation Formula</div>\n                            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                                <div className=\"space-y-2\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">Base (Spot)</span>\n                                        <span className=\"font-bold\">{baseSpot.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">CE Premium</span>\n                                        <span className=\"font-bold text-red-600\">â‚¹{ceLTP.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">PE Premium</span>\n                                        <span className=\"font-bold text-green-600\">â‚¹{peLTP.toFixed(2)}</span>\n                                    </div>\n                                </div>\n                                <div className=\"space-y-2\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">Straddle</span>\n                                        <span className=\"font-bold text-purple-600\">â‚¹{strikeStraddle.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">Range Up</span>\n                                        <span className=\"font-bold text-red-600\">{breakevenUp.toFixed(2)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600 dark:text-gray-400\">Range Down</span>\n                                        <span className=\"font-bold text-green-600\">{breakevenDown.toFixed(2)}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Why These Levels Work */}\n                        <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-700\">\n                            <div className=\"text-xs font-semibold text-blue-600 uppercase tracking-wider mb-2\">Why 99% Accuracy?</div>\n                            <ul className=\"text-xs text-gray-600 dark:text-gray-400 space-y-1\">\n                                <li>â€¢ Option writers defend ATM straddle levels</li>\n                                <li>â€¢ High OI creates walls of support/resistance</li>\n                                <li>â€¢ Delta hedging by market makers reinforces levels</li>\n                            </ul>\n                        </div>\n\n                        {/* Quick Reference */}\n                        <div className=\"grid grid-cols-3 gap-3\">\n                            <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-blue-600 dark:text-blue-400 uppercase font-medium\">Daily Reversal</div>\n                                <div className=\"text-lg font-bold text-blue-700\">{strikeData.reversal?.toFixed(2) || 'â€”'}</div>\n                            </div>\n                            <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium\">Weekly Reversal</div>\n                                <div className=\"text-lg font-bold text-purple-700\">{strikeData.wkly_reversal?.toFixed(2) || 'â€”'}</div>\n                            </div>\n                            <div className=\"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-3 text-center\">\n                                <div className=\"text-xs text-amber-600 dark:text-amber-400 uppercase font-medium\">Futures Reversal</div>\n                                <div className=\"text-lg font-bold text-amber-700\">{strikeData.fut_reversal?.toFixed(2) || 'â€”'}</div>\n                            </div>\n                        </div>\n                    </div>\n                );\n            }\n\n            case 'strategies':\n                return (\n                    <div className=\"space-y-4\">\n                        {/* Suggested Strategies */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            {getStrategySuggestions(strikeData, straddle, pcr).map((strategy, i) => (\n                                <div key={i} className={`rounded-xl p-4 border-2 ${strategy.type === 'bullish' ? 'bg-green-50 border-green-300 dark:bg-green-900/20 dark:border-green-700' :\n                                    strategy.type === 'bearish' ? 'bg-red-50 border-red-300 dark:bg-red-900/20 dark:border-red-700' :\n                                        'bg-gray-50 border-gray-300 dark:bg-gray-800 dark:border-gray-700'\n                                    }`}>\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                        <CurrencyDollarIcon className=\"w-5 h-5\" />\n                                        <span className=\"font-bold\">{strategy.name}</span>\n                                    </div>\n                                    <div className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">{strategy.description}</div>\n                                    <div className=\"flex gap-2 flex-wrap\">\n                                        <span className={`px-2 py-0.5 rounded text-xs ${strategy.risk === 'Low' ? 'bg-green-100 text-green-700' :\n                                            strategy.risk === 'Medium' ? 'bg-yellow-100 text-yellow-700' :\n                                                'bg-red-100 text-red-700'\n                                            }`}>\n                                            Risk: {strategy.risk}\n                                        </span>\n                                        <span className=\"px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-700\">\n                                            {strategy.maxProfit}\n                                        </span>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                );\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\" aria-modal=\"true\">\n            {/* Backdrop */}\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm\" onClick={onClose} />\n\n            {/* Modal */}\n            <div className=\"flex min-h-full items-center justify-center p-4\">\n                <div className=\"relative w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden\">\n                    {/* Header */}\n                    <div className=\"relative\">\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-indigo-600/20 via-purple-500/15 to-pink-500/20\" />\n                        <div className=\"relative flex items-center justify-between p-4 border-b border-gray-200/50 dark:border-gray-700/50\">\n                            <div className=\"flex items-center gap-4\">\n                                <div className=\"p-2.5 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg\">\n                                    <ChartBarIcon className=\"w-6 h-6\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                                        Strike Analysis â€” {symbol} {strike}\n                                    </h3>\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                                        Comprehensive analysis with Greeks, Signals & Strategies\n                                    </p>\n                                </div>\n                            </div>\n\n                            <button onClick={onClose} className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\">\n                                <XMarkIcon className=\"w-6 h-6 text-gray-500\" />\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* Tabs */}\n                    <div className=\"flex border-b border-gray-200 dark:border-gray-700 px-4 overflow-x-auto\">\n                        {tabs.map((tab) => {\n                            const Icon = tab.icon;\n                            return (\n                                <button\n                                    key={tab.id}\n                                    onClick={() => setActiveTab(tab.id)}\n                                    className={`px-4 py-3 text-sm font-medium border-b-2 transition-all flex items-center gap-2 whitespace-nowrap ${activeTab === tab.id\n                                        ? 'border-indigo-500 text-indigo-600 bg-indigo-50/50 dark:bg-indigo-900/20'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800'\n                                        }`}\n                                >\n                                    <Icon className=\"w-4 h-4\" />\n                                    {tab.label}\n                                </button>\n                            );\n                        })}\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"p-5 max-h-[60vh] overflow-y-auto\">\n                        {renderContent()}\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"px-5 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n                        <div className=\"flex justify-between items-center text-xs text-gray-500\">\n                            <span>Last updated: Just now</span>\n                            <button onClick={onClose} className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium\">\n                                Close\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\n// Helper functions\nfunction analyzeBuildUp(optData) {\n    const oiChng = optData.oi_chng || optData.oichng || 0;\n    const priceChng = optData.change || optData.p_chng || 0;\n\n    if (oiChng > 0 && priceChng > 0) {\n        return { buildUp: 'Long Buildup', sentiment: 'bullish', description: 'Fresh buying with price up' };\n    } else if (oiChng > 0 && priceChng < 0) {\n        return { buildUp: 'Short Buildup', sentiment: 'bearish', description: 'Fresh selling with price down' };\n    } else if (oiChng < 0 && priceChng > 0) {\n        return { buildUp: 'Short Covering', sentiment: 'bullish', description: 'Shorts exiting, price rising' };\n    } else if (oiChng < 0 && priceChng < 0) {\n        return { buildUp: 'Long Unwinding', sentiment: 'bearish', description: 'Longs exiting, price falling' };\n    }\n    return { buildUp: 'Neutral', sentiment: 'neutral', description: 'No clear signal' };\n}\n\nfunction getCombinedAnalysis(ceAnalysis, peAnalysis, pcr) {\n    const pcrVal = parseFloat(pcr);\n    let analysis = '';\n\n    if (pcrVal > 1.2) {\n        analysis = 'High Put writing indicates strong support at this level. ';\n    } else if (pcrVal < 0.8) {\n        analysis = 'High Call writing indicates strong resistance at this level. ';\n    } else {\n        analysis = 'Balanced PCR suggests consolidation zone. ';\n    }\n\n    if (ceAnalysis.sentiment === 'bullish' && peAnalysis.sentiment === 'bullish') {\n        analysis += 'Both Call and Put sides show bullish signals - Strong upside expected.';\n    } else if (ceAnalysis.sentiment === 'bearish' && peAnalysis.sentiment === 'bearish') {\n        analysis += 'Both sides show bearish signals - Downside risk elevated.';\n    } else {\n        analysis += 'Mixed signals - Wait for clarity before taking directional bets.';\n    }\n\n    return analysis;\n}\n\nfunction getStrategySuggestions(strikeData, straddle, pcr) {\n    const strategies = [];\n    const pcrVal = parseFloat(pcr) || 1;\n\n    // Straddle suggestion\n    strategies.push({\n        name: 'Long Straddle',\n        description: `Buy ${strikeData.strike}CE + ${strikeData.strike}PE for â‚¹${straddle.toFixed(2)}`,\n        type: 'neutral',\n        risk: 'Limited',\n        maxProfit: 'Unlimited',\n    });\n\n    if (pcrVal > 1.2) {\n        strategies.push({\n            name: 'Bull Put Spread',\n            description: 'Sell higher strike Put, buy lower strike Put',\n            type: 'bullish',\n            risk: 'Limited',\n            maxProfit: 'Limited',\n        });\n    }\n\n    if (pcrVal < 0.8) {\n        strategies.push({\n            name: 'Bear Call Spread',\n            description: 'Sell lower strike Call, buy higher strike Call',\n            type: 'bearish',\n            risk: 'Limited',\n            maxProfit: 'Limited',\n        });\n    }\n\n    strategies.push({\n        name: 'Iron Condor',\n        description: 'Sell OTM Call & Put, buy further OTM for protection',\n        type: 'neutral',\n        risk: 'Limited',\n        maxProfit: 'Limited (Premium)',\n    });\n\n    return strategies;\n}\n\nStrikeAnalysisModal.displayName = 'StrikeAnalysisModal';\n\nStrikeAnalysisModal.propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    strikeData: PropTypes.object,\n    symbol: PropTypes.string,\n};\n\nexport default StrikeAnalysisModal;\n","import { memo, useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { XMarkIcon, ChartBarIcon, ArrowTrendingUpIcon, ArrowPathIcon, InformationCircleIcon } from '@heroicons/react/24/outline';\nimport { getStrikeTimeSeries, getAggregateCOI, getAggregateOI, getAggregatePCR, getAggregatePercentage } from '../../../api/analyticsApi';\nimport { useSelector } from 'react-redux';\nimport { selectSelectedSymbol, selectSelectedExpiry } from '../../../context/selectors';\n\n/**\n * Professional Line Chart Component - LOC Calculator Style\n * Features: Time axis labels, grid lines, glow effects, gradient fill\n */\nconst MiniLineChart = memo(({ data, width = 620, height = 220, field = 'Value' }) => {\n    if (!data || data.length === 0) return null;\n\n    const values = data.map(d => d.value);\n    const minVal = Math.min(...values);\n    const maxVal = Math.max(...values);\n    const range = maxVal - minVal || 1;\n\n    const padding = { top: 20, right: 20, bottom: 35, left: 55 };\n    const chartWidth = width - padding.left - padding.right;\n    const chartHeight = height - padding.top - padding.bottom;\n\n    // Generate path points\n    const points = data.map((d, i) => {\n        const x = padding.left + (i / (data.length - 1)) * chartWidth;\n        const y = padding.top + ((maxVal - d.value) / range) * chartHeight;\n        return { x, y, data: d };\n    });\n\n    const pathD = points.map((p, i) => `${i === 0 ? 'M' : 'L'}${p.x},${p.y}`).join(' ');\n    const areaD = `M${padding.left},${height - padding.bottom} ${points.map(p => `L${p.x},${p.y}`).join(' ')} L${width - padding.right},${height - padding.bottom} Z`;\n\n    const firstValue = values[0];\n    const lastValue = values[values.length - 1];\n    const changePercent = firstValue !== 0 ? ((lastValue - firstValue) / firstValue * 100).toFixed(2) : 0;\n    const isPositive = lastValue >= firstValue;\n\n    const color = isPositive ? '#10B981' : '#EF4444';\n    const gradientId = `chartGrad-${Math.random().toString(36).substr(2, 9)}`;\n\n    // Time labels (show start, middle, end)\n    const getTimeLabel = (timestamp) => {\n        if (!timestamp) return '';\n        const date = new Date(timestamp);\n        return date.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' });\n    };\n\n    // Y-axis ticks\n    const yTicks = 5;\n    const yStep = range / (yTicks - 1);\n\n    return (\n        <div className=\"relative\">\n            {/* Header Stats */}\n            <div className=\"flex items-center justify-between mb-2 px-2\">\n                <div className=\"flex items-center gap-3\">\n                    <span className=\"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider\">{field}</span>\n                    <span className={`text-lg font-bold ${isPositive ? 'text-emerald-500' : 'text-red-500'}`}>\n                        {lastValue?.toLocaleString(undefined, { maximumFractionDigits: 2 })}\n                    </span>\n                </div>\n                <div className={`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${isPositive ? 'bg-emerald-500/10 text-emerald-500' : 'bg-red-500/10 text-red-500'\n                    }`}>\n                    {isPositive ? 'â–²' : 'â–¼'} {Math.abs(changePercent)}%\n                </div>\n            </div>\n\n            <svg width={width} height={height} className=\"mx-auto\">\n                <defs>\n                    {/* Gradient Fill */}\n                    <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                        <stop offset=\"0%\" stopColor={color} stopOpacity=\"0.25\" />\n                        <stop offset=\"100%\" stopColor={color} stopOpacity=\"0.02\" />\n                    </linearGradient>\n                    {/* Glow Effect */}\n                    <filter id=\"glow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n                        <feGaussianBlur stdDeviation=\"2\" result=\"coloredBlur\" />\n                        <feMerge>\n                            <feMergeNode in=\"coloredBlur\" />\n                            <feMergeNode in=\"SourceGraphic\" />\n                        </feMerge>\n                    </filter>\n                </defs>\n\n                {/* Grid Lines */}\n                {[...Array(yTicks)].map((_, i) => {\n                    const y = padding.top + (i / (yTicks - 1)) * chartHeight;\n                    const value = maxVal - (i * yStep);\n                    return (\n                        <g key={i}>\n                            <line\n                                x1={padding.left}\n                                y1={y}\n                                x2={width - padding.right}\n                                y2={y}\n                                stroke=\"currentColor\"\n                                strokeOpacity=\"0.1\"\n                                strokeDasharray=\"4,2\"\n                            />\n                            <text x={padding.left - 8} y={y + 4} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">\n                                {value >= 100000 ? `${(value / 100000).toFixed(1)}L` : value.toFixed(0)}\n                            </text>\n                        </g>\n                    );\n                })}\n\n                {/* Area Fill */}\n                <path d={areaD} fill={`url(#${gradientId})`} />\n\n                {/* Main Line with Glow */}\n                <path\n                    d={pathD}\n                    fill=\"none\"\n                    stroke={color}\n                    strokeWidth=\"2.5\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    filter=\"url(#glow)\"\n                />\n\n                {/* Data Points (show every 10th) */}\n                {points.filter((_, i) => i % 10 === 0 || i === points.length - 1).map((p, i) => (\n                    <circle key={i} cx={p.x} cy={p.y} r=\"3\" fill={color} opacity=\"0.7\" />\n                ))}\n\n                {/* End Point (larger) */}\n                <circle\n                    cx={points[points.length - 1].x}\n                    cy={points[points.length - 1].y}\n                    r=\"5\"\n                    fill={color}\n                    className=\"animate-pulse\"\n                />\n\n                {/* X-Axis Time Labels */}\n                {data[0]?.timestamp && (\n                    <>\n                        <text x={padding.left} y={height - 8} textAnchor=\"start\" className=\"fill-gray-400 text-[10px]\">\n                            {getTimeLabel(data[0].timestamp)}\n                        </text>\n                        <text x={width / 2} y={height - 8} textAnchor=\"middle\" className=\"fill-gray-400 text-[10px]\">\n                            {getTimeLabel(data[Math.floor(data.length / 2)]?.timestamp)}\n                        </text>\n                        <text x={width - padding.right} y={height - 8} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">\n                            {getTimeLabel(data[data.length - 1].timestamp)}\n                        </text>\n                    </>\n                )}\n            </svg>\n        </div>\n    );\n});\n\nMiniLineChart.displayName = 'MiniLineChart';\n\n/**\n * Comparison Line Chart for CE vs PE\n */\nconst ComparisonLineChart = memo(({ ceData, peData, dataField = 'value', width = 600, height = 300 }) => {\n    if (!ceData || !peData || ceData.length === 0) return null;\n\n    const padding = { top: 20, right: 30, bottom: 30, left: 40 };\n    const chartWidth = width - padding.left - padding.right;\n    const chartHeight = height - padding.top - padding.bottom;\n\n    // Helper to get value based on field (value or change)\n    const getValue = (item) => item[dataField] || 0;\n\n    // Combine data for scaling\n    const allValues = [\n        ...ceData.map(getValue),\n        ...peData.map(getValue)\n    ];\n\n    const min = Math.min(...allValues);\n    const max = Math.max(...allValues);\n    const range = max - min || 1;\n\n    const getX = (index) => padding.left + (index / (ceData.length - 1)) * chartWidth;\n    const getY = (val) => padding.top + chartHeight - ((val - min) / range) * chartHeight;\n\n    // Generate paths\n    const generatePath = (data) => {\n        return data.map((d, i) =>\n            `${i === 0 ? 'M' : 'L'} ${getX(i)} ${getY(getValue(d))}`\n        ).join(' ');\n    };\n\n    const cePath = generatePath(ceData);\n    const pePath = generatePath(peData);\n\n    // Initial Gradient definitions\n\n\n    return (\n        <svg width={width} height={height} className=\"overflow-visible\">\n            {/* Grid Lines */}\n            {[0, 0.25, 0.5, 0.75, 1].map((t) => {\n                const y = padding.top + chartHeight * t;\n                return (\n                    <g key={t}>\n                        <line x1={padding.left} y1={y} x2={width - padding.right} y2={y} stroke=\"#334155\" strokeOpacity=\"0.2\" strokeDasharray=\"3 3\" />\n                        <text x={padding.left - 8} y={y + 4} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">\n                            {(max - (max - min) * t).toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                        </text>\n                    </g>\n                );\n            })}\n\n            {/* CE Line (Green) */}\n            <path\n                d={cePath}\n                fill=\"none\"\n                stroke=\"#22C55E\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n\n            {/* PE Line (Red) */}\n            <path\n                d={pePath}\n                fill=\"none\"\n                stroke=\"#EF4444\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n\n            {/* Legend */}\n            <g transform={`translate(${width - 100}, 10)`}>\n                <rect width=\"10\" height=\"10\" fill=\"#22C55E\" rx=\"2\" />\n                <text x=\"15\" y=\"9\" className=\"text-[10px] fill-gray-500 font-medium\">CE</text>\n\n                <rect x=\"40\" width=\"10\" height=\"10\" fill=\"#EF4444\" rx=\"2\" />\n                <text x=\"55\" y=\"9\" className=\"text-[10px] fill-gray-500 font-medium\">PE</text>\n            </g>\n\n            {/* X-Axis Time Labels */}\n            {ceData[0]?.timestamp && (\n                <>\n                    <text x={padding.left} y={height - 5} textAnchor=\"start\" className=\"fill-gray-400 text-[10px]\">\n                        {new Date(ceData[0].timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </text>\n                    <text x={width / 2} y={height - 5} textAnchor=\"middle\" className=\"fill-gray-400 text-[10px]\">\n                        {new Date(ceData[Math.floor(ceData.length / 2)].timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </text>\n                    <text x={width - padding.right} y={height - 5} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">\n                        {new Date(ceData[ceData.length - 1].timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </text>\n                </>\n            )}\n        </svg>\n    );\n});\n\nComparisonLineChart.displayName = 'ComparisonLineChart';\n\n/**\n * Horizontal Bar Chart for aggregate COI/OI visualization - LOC Calculator Style\n * CE bars extend LEFT, PE bars extend RIGHT, Strike labels in center\n */\nconst AggregateBarChart = memo(({ data, viewType, width = 620, height = 400 }) => {\n    if (!data || data.length === 0) return null;\n\n    const sortedData = [...data].sort((a, b) => a.strike - b.strike);\n    const atmIndex = sortedData.findIndex(d => d.is_atm);\n\n    // Take strikes around ATM for display\n    const displayData = sortedData.slice(\n        Math.max(0, atmIndex - 12),\n        Math.min(sortedData.length, atmIndex + 13)\n    );\n\n    if (displayData.length === 0) return null;\n\n    const barHeight = Math.min(14, (height - 50) / displayData.length);\n    const maxCE = Math.max(...displayData.map(d => Math.abs(d.ce_coi || d.ce_oi || 0)), 1);\n    const maxPE = Math.max(...displayData.map(d => Math.abs(d.pe_coi || d.pe_oi || 0)), 1);\n    const maxVal = Math.max(maxCE, maxPE);\n\n    const centerX = width / 2;\n    const barAreaWidth = (width - 80) / 2;\n\n    return (\n        <svg width={width} height={height} className=\"mx-auto\">\n            {/* Header */}\n            <text x={centerX - barAreaWidth / 2} y={18} textAnchor=\"middle\" className=\"fill-green-500 text-xs font-bold\">\n                CALL {viewType === 'coi' ? 'COI' : 'OI'}\n            </text>\n            <text x={centerX + barAreaWidth / 2} y={18} textAnchor=\"middle\" className=\"fill-red-500 text-xs font-bold\">\n                PUT {viewType === 'coi' ? 'COI' : 'OI'}\n            </text>\n\n            {displayData.map((item, i) => {\n                const y = 30 + i * (barHeight + 3);\n                const ceValue = viewType === 'coi' ? (item.ce_coi || 0) : (item.ce_oi || 0);\n                const peValue = viewType === 'coi' ? (item.pe_coi || 0) : (item.pe_oi || 0);\n                const ceWidth = Math.abs(ceValue / maxVal) * barAreaWidth;\n                const peWidth = Math.abs(peValue / maxVal) * barAreaWidth;\n\n                return (\n                    <g key={item.strike}>\n                        {/* CE Bar (left side) */}\n                        <rect\n                            x={centerX - 25 - ceWidth}\n                            y={y}\n                            width={ceWidth}\n                            height={barHeight}\n                            fill={ceValue > 0 ? '#22C55E' : '#166534'}\n                            rx=\"2\"\n                            opacity=\"0.85\"\n                        />\n\n                        {/* Strike label */}\n                        <text\n                            x={centerX}\n                            y={y + barHeight / 2 + 4}\n                            textAnchor=\"middle\"\n                            className={`text-[10px] font-bold ${item.is_atm ? 'fill-yellow-400' : 'fill-gray-400'}`}\n                        >\n                            {item.strike}\n                        </text>\n\n                        {/* PE Bar (right side) */}\n                        <rect\n                            x={centerX + 25}\n                            y={y}\n                            width={peWidth}\n                            height={barHeight}\n                            fill={peValue > 0 ? '#EF4444' : '#991B1B'}\n                            rx=\"2\"\n                            opacity=\"0.85\"\n                        />\n\n                        {/* ATM highlight */}\n                        {item.is_atm && (\n                            <rect\n                                x={centerX - 20}\n                                y={y - 2}\n                                width={40}\n                                height={barHeight + 4}\n                                fill=\"none\"\n                                stroke=\"#FBBF24\"\n                                strokeWidth=\"1.5\"\n                                rx=\"4\"\n                            />\n                        )}\n                    </g>\n                );\n            })}\n        </svg>\n    );\n});\n\nAggregateBarChart.displayName = 'AggregateBarChart';\n\n/**\n * PCR Line Chart Component\n */\nconst PCRChart = memo(({ data, width = 600, height = 200 }) => {\n    if (!data || data.length === 0) return null;\n\n    const sortedData = [...data].sort((a, b) => a.strike - b.strike);\n    const atmIndex = sortedData.findIndex(d => d.is_atm);\n    const displayData = sortedData.slice(\n        Math.max(0, atmIndex - 15),\n        Math.min(sortedData.length, atmIndex + 16)\n    );\n\n    if (displayData.length === 0) return null;\n\n    const values = displayData.map(d => d.pcr_oi || 0);\n    const minVal = Math.min(...values, 0.5);\n    const maxVal = Math.max(...values, 2);\n    const range = maxVal - minVal || 1;\n\n    const padding = { top: 30, right: 30, bottom: 40, left: 50 };\n    const chartWidth = width - padding.left - padding.right;\n    const chartHeight = height - padding.top - padding.bottom;\n\n    // Calculate y position for PCR = 1 line (neutral)\n    const neutralY = padding.top + ((maxVal - 1) / range) * chartHeight;\n\n    return (\n        <svg width={width} height={height} className=\"mx-auto\">\n            {/* Background zones */}\n            <rect\n                x={padding.left}\n                y={padding.top}\n                width={chartWidth}\n                height={neutralY - padding.top}\n                fill=\"#22C55E\"\n                fillOpacity=\"0.1\"\n            />\n            <rect\n                x={padding.left}\n                y={neutralY}\n                width={chartWidth}\n                height={chartHeight - (neutralY - padding.top)}\n                fill=\"#EF4444\"\n                fillOpacity=\"0.1\"\n            />\n\n            {/* Neutral line (PCR = 1) */}\n            <line\n                x1={padding.left}\n                y1={neutralY}\n                x2={width - padding.right}\n                y2={neutralY}\n                stroke=\"#6B7280\"\n                strokeDasharray=\"4 4\"\n            />\n            <text x={padding.left - 5} y={neutralY + 4} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">1.0</text>\n\n            {/* PCR line and dots */}\n            {displayData.map((item, i) => {\n                const x = padding.left + (i / (displayData.length - 1)) * chartWidth;\n                const y = padding.top + ((maxVal - (item.pcr_oi || 1)) / range) * chartHeight;\n                const isBullish = (item.pcr_oi || 1) > 1;\n\n                return (\n                    <g key={item.strike}>\n                        <circle\n                            cx={x}\n                            cy={y}\n                            r={item.is_atm ? 6 : 4}\n                            fill={isBullish ? '#22C55E' : '#EF4444'}\n                        />\n                        {item.is_atm && (\n                            <text x={x} y={height - 10} textAnchor=\"middle\" className=\"fill-yellow-500 text-[9px] font-bold\">\n                                ATM\n                            </text>\n                        )}\n                    </g>\n                );\n            })}\n\n            {/* Legend */}\n            <text x={width - padding.right} y={padding.top / 2} textAnchor=\"end\" className=\"fill-green-500 text-[10px]\">\n                {'>'} 1.0 = Bullish\n            </text>\n            <text x={width - padding.right} y={padding.top / 2 + 12} textAnchor=\"end\" className=\"fill-red-500 text-[10px]\">\n                {'<'} 1.0 = Bearish\n            </text>\n        </svg>\n    );\n});\n\nPCRChart.displayName = 'PCRChart';\n\n/**\n * View selector tabs - LOC Calculator-style\n */\nconst VIEW_TABS = [\n    { id: 'strike', label: 'Strike', icon: ChartBarIcon, description: 'Time-series for selected strike' },\n    { id: 'coi', label: 'COi', icon: ArrowTrendingUpIcon, description: 'Change in OI across strikes' },\n    { id: 'oi', label: 'Oi', icon: ChartBarIcon, description: 'Total OI across strikes' },\n    { id: 'overall', label: 'Overall', icon: ChartBarIcon, description: 'Cumulative OI/COI view' },\n    { id: 'pcr', label: 'PCR', icon: ArrowTrendingUpIcon, description: 'Put-Call Ratio across strikes' },\n    { id: 'percentage', label: '%', icon: ArrowTrendingUpIcon, description: 'Percentage changes' },\n];\n\n/**\n * Enhanced Modal for displaying time-series and aggregate data\n * Inspired by LOC Calculator's chart modal with multiple view options\n */\nconst CellDetailModal = memo(({ isOpen, onClose, cellData }) => {\n    const [activeView, setActiveView] = useState('strike');\n    const [selectedField, setSelectedField] = useState('oi');\n    const [timeSeriesData, setTimeSeriesData] = useState(null);\n    const [aggregateData, setAggregateData] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    // Use correct Redux selectors for symbol and expiry\n    const symbol = useSelector(selectSelectedSymbol);\n    const expiry = useSelector(selectSelectedExpiry);\n\n    const { strike, side, field, value: _value, fullData } = cellData || {};\n\n    // Fetch time-series data for strike view\n    const fetchStrikeData = useCallback(async () => {\n        console.log('[CellDetailModal] fetchStrikeData called with:', { symbol, strike, side, selectedField });\n\n        if (!symbol || !strike || !side) {\n            console.warn('[CellDetailModal] Missing required params:', { symbol, strike, side });\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            console.log('[CellDetailModal] Calling getStrikeTimeSeries...');\n            const data = await getStrikeTimeSeries({\n                symbol,\n                strike: parseFloat(strike), // Ensure strike is a number\n                optionType: side.toUpperCase(),\n                field: selectedField,\n                interval: '5m',\n                limit: 50,\n            });\n            console.log('[CellDetailModal] API response:', data);\n            setTimeSeriesData(data);\n        } catch (err) {\n            console.error('[CellDetailModal] Failed to fetch time-series:', err);\n            setError(err.message || 'Failed to load data');\n            setLoading(false);\n        }\n    }, [symbol, strike, side, selectedField]);\n\n    // Fetch aggregate data for COi, Oi, Overall, PCR, Percentage views\n    const fetchAggregateData = useCallback(async (viewType) => {\n        if (!symbol || !expiry) return;\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            let data;\n            switch (viewType) {\n                case 'coi':\n                case 'overall':\n                    data = await getAggregateCOI({ symbol, expiry });\n                    break;\n                case 'oi':\n                    data = await getAggregateOI({ symbol, expiry });\n                    break;\n                case 'pcr':\n                    data = await getAggregatePCR({ symbol, expiry });\n                    break;\n                case 'percentage':\n                    data = await getAggregatePercentage({ symbol, expiry });\n                    break;\n                default:\n                    return;\n            }\n            // Handle response format (may be array directly or object with data property)\n            setAggregateData(Array.isArray(data) ? { data, summary: {} } : data);\n        } catch (err) {\n            console.error(`[CellDetailModal] Failed to fetch ${viewType} data:`, err);\n            setError(err.message || 'Failed to load data');\n        } finally {\n            setLoading(false);\n        }\n    }, [symbol, expiry]);\n\n    // Fetch on mount and view change\n    useEffect(() => {\n        if (isOpen && cellData) {\n            if (activeView === 'strike') {\n                if (field && ['OI', 'oi', 'oichng', 'ltp', 'iv', 'volume'].includes(field)) {\n                    setSelectedField(field === 'OI' ? 'oi' : field === 'oichng' ? 'oi' : field);\n                }\n                fetchStrikeData();\n            } else {\n                fetchAggregateData(activeView);\n            }\n        }\n    }, [isOpen, cellData, activeView, fetchStrikeData, fetchAggregateData, field]);\n\n    if (!isOpen || !cellData) return null;\n\n    const sideLabel = side === 'ce' ? 'Call' : 'Put';\n    const _sideColor = side === 'ce' ? 'text-green-600' : 'text-red-600';\n    const _sideBg = side === 'ce' ? 'bg-green-100 dark:bg-green-900/30' : 'bg-red-100 dark:bg-red-900/30';\n\n    const fieldLabels = {\n        oi: 'Open Interest',\n        ltp: 'Last Traded Price',\n        iv: 'Implied Volatility',\n        volume: 'Volume',\n        delta: 'Delta',\n        theta: 'Theta',\n    };\n\n    const ce = fullData?.ce || {};\n    const pe = fullData?.pe || {};\n    const optData = side === 'ce' ? ce : pe;\n\n    // Render content based on active view\n    const renderContent = () => {\n        if (loading) {\n            return (\n                <div className=\"h-64 flex items-center justify-center\">\n                    <ArrowPathIcon className=\"w-8 h-8 animate-spin text-blue-500\" />\n                </div>\n            );\n        }\n\n        if (error) {\n            return (\n                <div className=\"h-64 flex items-center justify-center text-red-500\">\n                    <div className=\"text-center\">\n                        <p>{error}</p>\n                        <button\n                            onClick={() => activeView === 'strike' ? fetchStrikeData() : fetchAggregateData(activeView)}\n                            className=\"mt-2 text-sm text-blue-500 hover:underline\"\n                        >\n                            Retry\n                        </button>\n                    </div>\n                </div>\n            );\n        }\n\n        switch (activeView) {\n            case 'strike':\n                return (\n                    <div className=\"space-y-4\">\n                        {/* Field Selector */}\n                        <div className=\"flex items-center gap-2 flex-wrap\">\n                            {Object.entries(fieldLabels).map(([key, label]) => (\n                                <button\n                                    key={key}\n                                    onClick={() => {\n                                        setSelectedField(key);\n                                        fetchStrikeData();\n                                    }}\n                                    className={`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${selectedField === key\n                                        ? 'bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300'\n                                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400'\n                                        }`}\n                                >\n                                    {label}\n                                </button>\n                            ))}\n                            <button\n                                onClick={fetchStrikeData}\n                                className=\"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700\"\n                                title=\"Refresh\"\n                            >\n                                <ArrowPathIcon className={`w-4 h-4 text-gray-500 ${loading ? 'animate-spin' : ''}`} />\n                            </button>\n                        </div>\n\n                        {/* Chart Area */}\n                        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n                            {/* Handle both array response and object with data property */}\n                            {(() => {\n                                // Extract data array from response - handle both formats\n                                const chartData = Array.isArray(timeSeriesData)\n                                    ? timeSeriesData\n                                    : (timeSeriesData?.data || []);\n\n                                console.log('[CellDetailModal] chartData for rendering:', chartData?.length, 'items');\n\n                                if (chartData && chartData.length > 0) {\n                                    return <MiniLineChart data={chartData} width={600} height={200} />;\n                                }\n                                return (\n                                    <div className=\"h-52 flex items-center justify-center text-gray-400\">\n                                        No data available\n                                    </div>\n                                );\n                            })()}\n                        </div>\n\n                        {/* Summary Stats */}\n                        {timeSeriesData?.summary && (\n                            <div className=\"grid grid-cols-5 gap-2\">\n                                {['min', 'max', 'avg', 'current', 'change_from_start'].map((key) => (\n                                    <div key={key} className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-2 text-center\">\n                                        <div className=\"text-[10px] text-gray-500 uppercase\">\n                                            {key === 'change_from_start' ? 'Change' : key}\n                                        </div>\n                                        <div className={`text-sm font-semibold ${key === 'change_from_start'\n                                            ? (timeSeriesData.summary[key] >= 0 ? 'text-green-600' : 'text-red-600')\n                                            : ''\n                                            }`}>\n                                            {key === 'change_from_start' && timeSeriesData.summary[key] >= 0 ? '+' : ''}\n                                            {timeSeriesData.summary[key]?.toLocaleString()}\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                );\n\n            case 'coi':\n            case 'oi': {\n                const chartData = aggregateData?.data || [];\n                const summary = aggregateData?.summary || {};\n\n                return (\n                    <div className=\"space-y-4\">\n                        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-2\">\n                            <AggregateBarChart\n                                data={chartData}\n                                viewType={activeView}\n                                width={620}\n                                height={400}\n                            />\n                        </div>\n                        {/* Summary Stats */}\n                        <div className=\"grid grid-cols-4 gap-2 text-center\">\n                            <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-2\">\n                                <div className=\"text-[10px] text-green-600 uppercase\">Total CE</div>\n                                <div className=\"text-sm font-semibold text-green-700 dark:text-green-400\">\n                                    {((summary.total_ce_coi || summary.total_ce_oi || 0) / 100000).toFixed(2)}L\n                                </div>\n                            </div>\n                            <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-2\">\n                                <div className=\"text-[10px] text-red-600 uppercase\">Total PE</div>\n                                <div className=\"text-sm font-semibold text-red-700 dark:text-red-400\">\n                                    {((summary.total_pe_coi || summary.total_pe_oi || 0) / 100000).toFixed(2)}L\n                                </div>\n                            </div>\n                            <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-2\">\n                                <div className=\"text-[10px] text-blue-600 uppercase\">Net</div>\n                                <div className=\"text-sm font-semibold text-blue-700 dark:text-blue-400\">\n                                    {((summary.net_coi || summary.net_oi || 0) / 100000).toFixed(2)}L\n                                </div>\n                            </div>\n                            <div className={`rounded-lg p-2 ${summary.signal === 'BULLISH' ? 'bg-green-100 dark:bg-green-900/30' : 'bg-red-100 dark:bg-red-900/30'}`}>\n                                <div className=\"text-[10px] text-gray-600 uppercase\">Signal</div>\n                                <div className={`text-sm font-bold ${summary.signal === 'BULLISH' ? 'text-green-700' : 'text-red-700'}`}>\n                                    {summary.signal || 'NEUTRAL'}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n            }\n\n            case 'overall': {\n                // Same as COI but showing cumulative data\n                const chartData = aggregateData?.data || [];\n\n                return (\n                    <div className=\"space-y-4\">\n                        <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                            <InformationCircleIcon className=\"w-4 h-4\" />\n                            Showing cumulative OI changes from lowest to highest strike\n                        </div>\n                        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-2\">\n                            <AggregateBarChart\n                                data={chartData}\n                                viewType=\"coi\"\n                                width={620}\n                                height={400}\n                            />\n                        </div>\n                    </div>\n                );\n            }\n\n            case 'pcr': {\n                const chartData = aggregateData?.data || [];\n                const summary = aggregateData?.summary || {};\n\n                return (\n                    <div className=\"space-y-4\">\n                        <div className=\"bg-gray-50 dark:bg-gray-800 rounded-xl p-4\">\n                            <PCRChart data={chartData} width={620} height={220} />\n                        </div>\n                        <div className=\"grid grid-cols-3 gap-3\">\n                            <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-center\">\n                                <div className=\"text-xs text-gray-500\">Overall PCR (OI)</div>\n                                <div className={`text-xl font-bold ${(summary.overall_pcr_oi || 1) > 1 ? 'text-green-600' : 'text-red-600'}`}>\n                                    {summary.overall_pcr_oi?.toFixed(3) || 'N/A'}\n                                </div>\n                            </div>\n                            <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-center\">\n                                <div className=\"text-xs text-gray-500\">Overall PCR (Vol)</div>\n                                <div className={`text-xl font-bold ${(summary.overall_pcr_vol || 1) > 1 ? 'text-green-600' : 'text-red-600'}`}>\n                                    {summary.overall_pcr_vol?.toFixed(3) || 'N/A'}\n                                </div>\n                            </div>\n                            <div className={`rounded-lg p-3 text-center ${summary.market_sentiment === 'BULLISH' ? 'bg-green-100 dark:bg-green-900/30' : 'bg-red-100 dark:bg-red-900/30'}`}>\n                                <div className=\"text-xs text-gray-500\">Market Sentiment</div>\n                                <div className={`text-lg font-bold ${summary.market_sentiment === 'BULLISH' ? 'text-green-700' : 'text-red-700'}`}>\n                                    {summary.market_sentiment || 'NEUTRAL'}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n            }\n\n            case 'percentage': {\n                const chartData = aggregateData?.data?.slice(0, 20) || [];\n\n                return (\n                    <div className=\"space-y-4\">\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-xs\">\n                                <thead className=\"bg-gray-100 dark:bg-gray-800\">\n                                    <tr>\n                                        <th className=\"p-2 text-left\">Strike</th>\n                                        <th className=\"p-2 text-right text-green-600\">CE OI %</th>\n                                        <th className=\"p-2 text-right text-red-600\">PE OI %</th>\n                                        <th className=\"p-2 text-right text-green-600\">CE LTP %</th>\n                                        <th className=\"p-2 text-right text-red-600\">PE LTP %</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {chartData.map((item) => (\n                                        <tr\n                                            key={item.strike}\n                                            className={`border-b border-gray-100 dark:border-gray-800 ${item.is_atm ? 'bg-yellow-50 dark:bg-yellow-900/20' : ''}`}\n                                        >\n                                            <td className={`p-2 font-medium ${item.is_atm ? 'text-yellow-600' : ''}`}>\n                                                {item.strike}\n                                            </td>\n                                            <td className={`p-2 text-right ${(item.ce_oi_pct || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                                {(item.ce_oi_pct || 0) >= 0 ? '+' : ''}{(item.ce_oi_pct || 0).toFixed(1)}%\n                                            </td>\n                                            <td className={`p-2 text-right ${(item.pe_oi_pct || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                                {(item.pe_oi_pct || 0) >= 0 ? '+' : ''}{(item.pe_oi_pct || 0).toFixed(1)}%\n                                            </td>\n                                            <td className={`p-2 text-right ${(item.ce_ltp_pct || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                                {(item.ce_ltp_pct || 0) >= 0 ? '+' : ''}{(item.ce_ltp_pct || 0).toFixed(1)}%\n                                            </td>\n                                            <td className={`p-2 text-right ${(item.pe_ltp_pct || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                                {(item.pe_ltp_pct || 0) >= 0 ? '+' : ''}{(item.pe_ltp_pct || 0).toFixed(1)}%\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                );\n            }\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\" aria-modal=\"true\">\n            {/* Backdrop */}\n            <div\n                className=\"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity\"\n                onClick={onClose}\n            />\n\n            {/* Modal */}\n            <div className=\"flex min-h-full items-center justify-center p-4\">\n                <div className=\"relative w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl transform transition-all overflow-hidden\">\n                    {/* Professional Header - LOC Calculator Style */}\n                    <div className=\"relative overflow-hidden\">\n                        {/* Gradient Background */}\n                        <div className={`absolute inset-0 ${side === 'ce'\n                            ? 'bg-gradient-to-r from-green-600/20 to-emerald-500/10'\n                            : 'bg-gradient-to-r from-red-600/20 to-rose-500/10'\n                            }`} />\n\n                        <div className=\"relative flex items-center justify-between p-4 border-b border-gray-200/50 dark:border-gray-700/50\">\n                            <div className=\"flex items-center gap-4\">\n                                {/* Pulse Icon with Glow */}\n                                <div className={`relative p-2.5 rounded-xl ${side === 'ce'\n                                    ? 'bg-green-500/20 text-green-500'\n                                    : 'bg-red-500/20 text-red-500'\n                                    }`}>\n                                    <ChartBarIcon className=\"w-5 h-5\" />\n                                    <div className={`absolute inset-0 rounded-xl ${side === 'ce' ? 'bg-green-400' : 'bg-red-400'\n                                        } blur-md opacity-30`} />\n                                </div>\n\n                                {/* Title */}\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                                        <span className={side === 'ce' ? 'text-green-600' : 'text-red-600'}>\n                                            {fieldLabels[selectedField] || 'Data'} Pulse\n                                        </span>\n                                        <span className=\"text-gray-400\">â€”</span>\n                                        <span>{symbol} {strike} {sideLabel.toUpperCase()}</span>\n                                    </h3>\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                                        5-minute time-series â€¢ Real-time updates\n                                    </p>\n                                </div>\n                            </div>\n\n                            {/* Quick Stats Badge */}\n                            {optData.ltp && (\n                                <div className=\"flex items-center gap-3 mr-8\">\n                                    <div className=\"text-right\">\n                                        <div className=\"text-xs text-gray-500\">LTP</div>\n                                        <div className={`text-sm font-bold ${(optData.change || 0) >= 0 ? 'text-green-500' : 'text-red-500'\n                                            }`}>\n                                            â‚¹{optData.ltp?.toFixed(2)}\n                                        </div>\n                                    </div>\n                                    <div className={`px-2 py-1 rounded text-xs font-bold ${(optData.change || 0) >= 0\n                                        ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\n                                        : 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400'\n                                        }`}>\n                                        {(optData.change || 0) >= 0 ? '+' : ''}{optData.change?.toFixed(2) || '0.00'}\n                                    </div>\n                                </div>\n                            )}\n\n                            <button\n                                onClick={onClose}\n                                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                            >\n                                <XMarkIcon className=\"w-5 h-5 text-gray-500\" />\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* View Tabs - LOC Calculator style */}\n                    <div className=\"flex border-b border-gray-200 dark:border-gray-700 px-2 overflow-x-auto\">\n                        {VIEW_TABS.map((tab) => {\n                            const Icon = tab.icon;\n                            return (\n                                <button\n                                    key={tab.id}\n                                    onClick={() => setActiveView(tab.id)}\n                                    className={`px-3 py-2.5 text-xs font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-1 ${activeView === tab.id\n                                        ? 'border-blue-500 text-blue-600 bg-blue-50 dark:bg-blue-900/20'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800'\n                                        }`}\n                                    title={tab.description}\n                                >\n                                    <Icon className=\"w-3.5 h-3.5\" />\n                                    {tab.label}\n                                </button>\n                            );\n                        })}\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"p-4\">\n                        {renderContent()}\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center\">\n                        <span className=\"text-xs text-gray-400\">\n                            {VIEW_TABS.find(t => t.id === activeView)?.description}\n                        </span>\n                        <button\n                            onClick={onClose}\n                            className=\"px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-sm font-medium\"\n                        >\n                            Close\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nCellDetailModal.displayName = 'CellDetailModal';\n\nCellDetailModal.propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    cellData: PropTypes.shape({\n        strike: PropTypes.number,\n        side: PropTypes.string,\n        field: PropTypes.string,\n        value: PropTypes.any,\n        symbol: PropTypes.string,\n        sid: PropTypes.number,\n        fullData: PropTypes.object,\n    }),\n};\n\nexport default CellDetailModal;\n","import { memo, useMemo, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { XMarkIcon, ChartBarIcon, ArrowPathIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { selectStrikesAroundATM, selectOptionsData, selectATMStrike, selectSelectedSymbol, selectSelectedExpiry } from '../../../context/selectors';\n\n/**\n * Enhanced Aggregate Chart Modal - LOC Calculator Style\n * Features tabbed views: COI | OI | Volume | PCR | %\n * Shows aggregate totals and distribution charts\n */\nconst AggregateChartModal = memo(({ isOpen, onClose, columnType, initialTab }) => {\n    // Tabs matching LOC Calculator\n    const TABS = [\n        { id: 'coi', label: 'Total COi', icon: 'ðŸ“ˆ' },\n        { id: 'oi', label: 'Total Oi', icon: 'ðŸ“Š' },\n        { id: 'volume', label: 'Total Vol', icon: 'ðŸ“‰' },\n        { id: 'pcr', label: 'PCR', icon: 'âš–ï¸' },\n        { id: 'percent', label: '%', icon: 'ðŸ“' },\n    ];\n\n    // Map columnType to initial tab\n    const getInitialTab = () => {\n        if (initialTab) return initialTab;\n        if (columnType === 'oi_chng') return 'coi';\n        if (columnType === 'oi') return 'oi';\n        if (columnType === 'volume') return 'volume';\n        return 'coi';\n    };\n\n    const [activeTab, setActiveTab] = useState(getInitialTab());\n    const [lastUpdated, setLastUpdated] = useState(new Date());\n\n    // Get data from Redux\n    const strikesSelector = useMemo(() => selectStrikesAroundATM(30), []);\n    const strikes = useSelector(strikesSelector);\n    const rawData = useSelector(selectOptionsData);\n    const atmStrike = useSelector(selectATMStrike);\n    const symbol = useSelector(selectSelectedSymbol);\n    const expiry = useSelector(selectSelectedExpiry);\n\n    // Update timestamp when data changes\n    useEffect(() => {\n        if (isOpen) setLastUpdated(new Date());\n    }, [isOpen, rawData]);\n\n    // Build chart data based on active tab\n    const { chartData, totals, config } = useMemo(() => {\n        if (!strikes || !rawData?.oc) {\n            return { chartData: [], totals: {}, config: {} };\n        }\n\n        const tabConfigs = {\n            coi: {\n                label: 'Change in OI',\n                ceKey: 'oichng',\n                peKey: 'oichng',\n                format: (v) => {\n                    if (Math.abs(v) >= 10000000) return `${(v / 10000000).toFixed(2)}Cr`;\n                    if (Math.abs(v) >= 100000) return `${(v / 100000).toFixed(2)}L`;\n                    if (Math.abs(v) >= 1000) return `${(v / 1000).toFixed(1)}K`;\n                    return v.toLocaleString('en-IN');\n                },\n                color: { ce: '#F97316', pe: '#22C55E' },\n                showSign: true,\n            },\n            oi: {\n                label: 'Open Interest',\n                ceKey: 'OI',\n                peKey: 'OI',\n                format: (v) => {\n                    if (v >= 10000000) return `${(v / 10000000).toFixed(2)}Cr`;\n                    if (v >= 100000) return `${(v / 100000).toFixed(2)}L`;\n                    return `${(v / 1000).toFixed(1)}K`;\n                },\n                color: { ce: '#EF4444', pe: '#10B981' },\n            },\n            volume: {\n                label: 'Volume',\n                ceKey: 'volume',\n                peKey: 'volume',\n                format: (v) => {\n                    if (v >= 10000000) return `${(v / 10000000).toFixed(2)}Cr`;\n                    if (v >= 100000) return `${(v / 100000).toFixed(2)}L`;\n                    return `${(v / 1000).toFixed(1)}K`;\n                },\n                color: { ce: '#EC4899', pe: '#14B8A6' },\n            },\n            pcr: {\n                label: 'Put-Call Ratio',\n                ceKey: 'OI',\n                peKey: 'OI',\n                format: (v) => v?.toFixed(3) || 'â€”',\n                color: { ce: '#6366F1', pe: '#8B5CF6' },\n            },\n            percent: {\n                label: 'OI Change %',\n                ceKey: 'oichng',\n                peKey: 'oichng',\n                format: (v) => `${v?.toFixed(1)}%`,\n                color: { ce: '#F59E0B', pe: '#84CC16' },\n            },\n        };\n\n        const cfg = tabConfigs[activeTab] || tabConfigs.coi;\n        let totalCE = 0;\n        let totalPE = 0;\n\n        const data = strikes.map(strike => {\n            const strikeKey = strike.toString();\n            const strikeData = rawData.oc[strikeKey] || rawData.oc[`${strike}.000000`] || {};\n            const ce = strikeData.ce || {};\n            const pe = strikeData.pe || {};\n\n            let ceValue = ce[cfg.ceKey] || ce.oi || 0;\n            let peValue = pe[cfg.peKey] || pe.oi || 0;\n\n            // For percentage tab, calculate percentage\n            if (activeTab === 'percent') {\n                const ceOI = ce.OI || ce.oi || 1;\n                const peOI = pe.OI || pe.oi || 1;\n                const ceChg = ce.oichng || 0;\n                const peChg = pe.oichng || 0;\n                ceValue = ((ceChg / (ceOI - ceChg)) * 100) || 0;\n                peValue = ((peChg / (peOI - peChg)) * 100) || 0;\n            }\n\n            totalCE += Math.abs(ceValue);\n            totalPE += Math.abs(peValue);\n\n            return {\n                strike,\n                ceValue: ceValue,\n                peValue: peValue,\n                ceOI: ce.OI || ce.oi || 0,\n                peOI: pe.OI || pe.oi || 0,\n                isATM: Math.abs(strike - atmStrike) < 0.01,\n            };\n        }).filter(d => d.ceValue !== 0 || d.peValue !== 0 || activeTab === 'pcr');\n\n        return {\n            chartData: data,\n            totals: {\n                ce: totalCE,\n                pe: totalPE,\n                net: totalPE - totalCE,\n                pcr: totalCE > 0 ? (totalPE / totalCE) : 0,\n            },\n            config: cfg,\n        };\n    }, [strikes, rawData, atmStrike, activeTab]);\n\n    const maxValue = useMemo(() => {\n        if (activeTab === 'pcr') return 3; // Fixed scale for PCR\n        return Math.max(...chartData.flatMap(d => [Math.abs(d.ceValue), Math.abs(d.peValue)]), 1);\n    }, [chartData, activeTab]);\n\n    // Reset tab when columnType changes\n    useEffect(() => {\n        setActiveTab(getInitialTab());\n    }, [columnType]);\n\n    if (!isOpen) return null;\n\n    // Get signal interpretation\n    const getSignal = () => {\n        if (activeTab === 'pcr') {\n            if (totals.pcr > 1.2) return { text: 'BULLISH', color: 'text-green-600 bg-green-100' };\n            if (totals.pcr < 0.8) return { text: 'BEARISH', color: 'text-red-600 bg-red-100' };\n            return { text: 'NEUTRAL', color: 'text-gray-600 bg-gray-100' };\n        }\n        if (totals.pe > totals.ce) return { text: 'BULLISH', color: 'text-green-600 bg-green-100' };\n        return { text: 'BEARISH', color: 'text-red-600 bg-red-100' };\n    };\n\n    const signal = getSignal();\n\n    return (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\" aria-modal=\"true\">\n            {/* Backdrop */}\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm\" onClick={onClose} />\n\n            {/* Modal */}\n            <div className=\"flex min-h-full items-center justify-center p-4\">\n                <div className=\"relative w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden\">\n                    {/* Header */}\n                    <div className=\"relative\">\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-500/15 to-indigo-500/20\" />\n                        <div className=\"relative flex items-center justify-between p-4 border-b border-gray-200/50 dark:border-gray-700/50\">\n                            <div className=\"flex items-center gap-4\">\n                                <div className=\"p-2.5 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg\">\n                                    <ChartBarIcon className=\"w-6 h-6\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                                        {config.label || 'Aggregate Data'} â€” {symbol}\n                                    </h3>\n                                    <div className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                                        <ClockIcon className=\"w-3 h-3\" />\n                                        <span>Updated: {lastUpdated.toLocaleTimeString('en-IN')}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Signal Badge */}\n                            <div className={`px-3 py-1.5 rounded-full text-sm font-bold ${signal.color}`}>\n                                {signal.text}\n                            </div>\n\n                            <button onClick={onClose} className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\">\n                                <XMarkIcon className=\"w-6 h-6 text-gray-500\" />\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* Tabs - LOC Calculator Style */}\n                    <div className=\"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n                        {TABS.map((tab) => (\n                            <button\n                                key={tab.id}\n                                onClick={() => setActiveTab(tab.id)}\n                                className={`flex-1 px-4 py-3 text-sm font-medium transition-all relative ${activeTab === tab.id\n                                        ? 'text-blue-600 dark:text-blue-400 bg-white dark:bg-gray-900'\n                                        : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700'\n                                    }`}\n                            >\n                                <span className=\"mr-1.5\">{tab.icon}</span>\n                                {tab.label}\n                                {activeTab === tab.id && (\n                                    <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400\" />\n                                )}\n                            </button>\n                        ))}\n                    </div>\n\n                    {/* Summary Cards - LOC Calculator Style */}\n                    <div className=\"grid grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800/30\">\n                        <div className=\"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700\">\n                            <div className=\"text-xs text-red-600 dark:text-red-400 font-medium mb-1\">Total CE</div>\n                            <div className=\"text-2xl font-bold text-red-600\">{config.format(totals.ce)}</div>\n                        </div>\n                        <div className=\"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700\">\n                            <div className=\"text-xs text-green-600 dark:text-green-400 font-medium mb-1\">Total PE</div>\n                            <div className=\"text-2xl font-bold text-green-600\">{config.format(totals.pe)}</div>\n                        </div>\n                        <div className=\"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700\">\n                            <div className=\"text-xs text-purple-600 dark:text-purple-400 font-medium mb-1\">Net</div>\n                            <div className={`text-2xl font-bold ${totals.net > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                {totals.net > 0 ? '+' : ''}{config.format(totals.net)}\n                            </div>\n                        </div>\n                        <div className=\"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700\">\n                            <div className=\"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1\">PCR</div>\n                            <div className={`text-2xl font-bold ${totals.pcr > 1 ? 'text-green-600' : 'text-red-600'}`}>\n                                {totals.pcr.toFixed(3)}\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Chart Area */}\n                    <div className=\"p-5 max-h-[50vh] overflow-y-auto\">\n                        {activeTab === 'pcr' ? (\n                            // PCR View - Show PCR values per strike\n                            <div className=\"space-y-1\">\n                                {chartData.map((item) => {\n                                    const strikePCR = item.ceOI > 0 ? (item.peOI / item.ceOI) : 0;\n                                    const pcrWidth = Math.min((strikePCR / 3) * 100, 100);\n                                    const pcrColor = strikePCR > 1.2 ? '#22C55E' : strikePCR < 0.8 ? '#EF4444' : '#6B7280';\n\n                                    return (\n                                        <div\n                                            key={item.strike}\n                                            className={`flex items-center gap-3 py-1.5 px-2 rounded ${item.isATM ? 'bg-yellow-50 dark:bg-yellow-900/20 ring-1 ring-yellow-400' : ''\n                                                }`}\n                                        >\n                                            <div className={`w-20 text-sm font-bold ${item.isATM ? 'text-yellow-600' : 'text-gray-700 dark:text-gray-300'\n                                                }`}>\n                                                {item.strike}\n                                            </div>\n                                            <div className=\"flex-1 h-6 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden\">\n                                                <div\n                                                    className=\"h-full rounded-full transition-all duration-300 flex items-center justify-end pr-2\"\n                                                    style={{ width: `${pcrWidth}%`, backgroundColor: pcrColor }}\n                                                >\n                                                    <span className=\"text-[10px] font-bold text-white\">\n                                                        {strikePCR.toFixed(2)}\n                                                    </span>\n                                                </div>\n                                            </div>\n                                            <div className={`w-16 text-xs font-medium text-right ${strikePCR > 1.2 ? 'text-green-600' : strikePCR < 0.8 ? 'text-red-600' : 'text-gray-500'\n                                                }`}>\n                                                {strikePCR > 1.2 ? 'Bullish' : strikePCR < 0.8 ? 'Bearish' : 'Neutral'}\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        ) : (\n                            // Standard CE vs PE Bar Chart\n                            <div className=\"space-y-1\">\n                                {chartData.map((item) => (\n                                    <div\n                                        key={item.strike}\n                                        className={`flex items-center gap-2 py-1 rounded ${item.isATM ? 'bg-yellow-50 dark:bg-yellow-900/20 ring-1 ring-yellow-400' : ''\n                                            }`}\n                                    >\n                                        {/* CE Bar (left side, right-aligned) */}\n                                        <div className=\"flex-1 flex justify-end\">\n                                            <div className=\"relative w-full flex items-center justify-end\">\n                                                <div\n                                                    className=\"h-5 rounded-l transition-all duration-300\"\n                                                    style={{\n                                                        width: `${(Math.abs(item.ceValue) / maxValue) * 100}%`,\n                                                        backgroundColor: config.color?.ce || '#EF4444',\n                                                        minWidth: item.ceValue !== 0 ? '4px' : '0',\n                                                    }}\n                                                />\n                                                {Math.abs(item.ceValue) > maxValue * 0.1 && (\n                                                    <span className=\"absolute right-2 text-[10px] font-bold text-white\">\n                                                        {config.showSign && item.ceValue > 0 ? '+' : ''}{config.format(item.ceValue)}\n                                                    </span>\n                                                )}\n                                            </div>\n                                        </div>\n\n                                        {/* Strike Label */}\n                                        <div className={`w-20 text-center text-sm font-bold ${item.isATM ? 'text-yellow-600 dark:text-yellow-400' : 'text-gray-700 dark:text-gray-300'\n                                            }`}>\n                                            {item.strike}\n                                            {item.isATM && <span className=\"text-[8px] block\">ATM</span>}\n                                        </div>\n\n                                        {/* PE Bar (right side, left-aligned) */}\n                                        <div className=\"flex-1 flex justify-start\">\n                                            <div className=\"relative w-full flex items-center\">\n                                                <div\n                                                    className=\"h-5 rounded-r transition-all duration-300\"\n                                                    style={{\n                                                        width: `${(Math.abs(item.peValue) / maxValue) * 100}%`,\n                                                        backgroundColor: config.color?.pe || '#10B981',\n                                                        minWidth: item.peValue !== 0 ? '4px' : '0',\n                                                    }}\n                                                />\n                                                {Math.abs(item.peValue) > maxValue * 0.1 && (\n                                                    <span className=\"absolute left-2 text-[10px] font-bold text-white\">\n                                                        {config.showSign && item.peValue > 0 ? '+' : ''}{config.format(item.peValue)}\n                                                    </span>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n\n                        {/* Legend */}\n                        {activeTab !== 'pcr' && (\n                            <div className=\"flex justify-center gap-8 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-4 h-4 rounded\" style={{ backgroundColor: config.color?.ce || '#EF4444' }} />\n                                    <span className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">CALL</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"w-4 h-4 rounded\" style={{ backgroundColor: config.color?.pe || '#10B981' }} />\n                                    <span className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">PUT</span>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"px-5 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n                        <div className=\"flex justify-between items-center\">\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                {chartData.length} strikes displayed\n                            </span>\n                            <button\n                                onClick={onClose}\n                                className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium text-sm\"\n                            >\n                                Close\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nAggregateChartModal.displayName = 'AggregateChartModal';\n\nAggregateChartModal.propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    columnType: PropTypes.oneOf(['oi', 'oi_chng', 'volume', 'ltp']),\n    initialTab: PropTypes.oneOf(['coi', 'oi', 'volume', 'pcr', 'percent']),\n};\n\nexport default AggregateChartModal;\n","import { memo, useState, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionsData, selectATMStrike } from '../../../context/selectors';\nimport { ChevronDownIcon, ChevronUpIcon, TableCellsIcon, GlobeAltIcon } from '@heroicons/react/24/outline';\n\n/**\n * Format number with K/M/B suffix\n */\nconst formatNumber = (num) => {\n  if (num === null || num === undefined) return 'â€”';\n  if (num === 0) return '0';\n  \n  const absNum = Math.abs(num);\n  const sign = num < 0 ? '-' : '';\n  \n  if (absNum >= 1e12) return sign + (absNum / 1e12).toFixed(2) + 'T';\n  if (absNum >= 1e9) return sign + (absNum / 1e9).toFixed(2) + 'B';\n  if (absNum >= 1e6) return sign + (absNum / 1e6).toFixed(2) + 'M';\n  if (absNum >= 1e3) return sign + (absNum / 1e3).toFixed(1) + 'K';\n  return sign + absNum.toFixed(0);\n};\n\n/**\n * Format currency value\n */\nconst formatCurrency = (num) => {\n  if (num === null || num === undefined) return 'â€”';\n  return 'â‚¹' + formatNumber(num);\n};\n\n/**\n * Calculate aggregate metrics for option chain data\n */\nconst calculateAggregates = (optionData, strikes) => {\n  if (!optionData?.oc || !strikes || strikes.length === 0) {\n    return null;\n  }\n\n  const agg = {\n    ce: {\n      oi: 0, oiChg: 0, volume: 0, ltpSum: 0, premiumSum: 0,\n      delta: 0, gamma: 0, theta: 0, vega: 0, iv: 0, ivCount: 0,\n    },\n    pe: {\n      oi: 0, oiChg: 0, volume: 0, ltpSum: 0, premiumSum: 0,\n      delta: 0, gamma: 0, theta: 0, vega: 0, iv: 0, ivCount: 0,\n    },\n  };\n\n  strikes.forEach(strike => {\n    const strikeKey = strike.toString();\n    const data = optionData.oc[strikeKey] || optionData.oc[`${strike}.000000`] || {};\n    \n    // CE aggregates\n    if (data.ce) {\n      const ce = data.ce;\n      agg.ce.oi += ce.OI || ce.oi || 0;\n      agg.ce.oiChg += ce.oichng || 0;\n      agg.ce.volume += ce.volume || 0;\n      agg.ce.ltpSum += ce.ltp || 0;\n      agg.ce.premiumSum += (ce.ltp || 0) * (ce.OI || ce.oi || 0);\n      \n      if (ce.optgeeks) {\n        agg.ce.delta += ce.optgeeks.delta || 0;\n        agg.ce.gamma += ce.optgeeks.gamma || 0;\n        agg.ce.theta += ce.optgeeks.theta || 0;\n        agg.ce.vega += ce.optgeeks.vega || 0;\n      }\n      if (ce.iv > 0) {\n        agg.ce.iv += ce.iv;\n        agg.ce.ivCount++;\n      }\n    }\n    \n    // PE aggregates\n    if (data.pe) {\n      const pe = data.pe;\n      agg.pe.oi += pe.OI || pe.oi || 0;\n      agg.pe.oiChg += pe.oichng || 0;\n      agg.pe.volume += pe.volume || 0;\n      agg.pe.ltpSum += pe.ltp || 0;\n      agg.pe.premiumSum += (pe.ltp || 0) * (pe.OI || pe.oi || 0);\n      \n      if (pe.optgeeks) {\n        agg.pe.delta += pe.optgeeks.delta || 0;\n        agg.pe.gamma += pe.optgeeks.gamma || 0;\n        agg.pe.theta += pe.optgeeks.theta || 0;\n        agg.pe.vega += pe.optgeeks.vega || 0;\n      }\n      if (pe.iv > 0) {\n        agg.pe.iv += pe.iv;\n        agg.pe.ivCount++;\n      }\n    }\n  });\n\n  // Calculate averages\n  agg.ce.avgIv = agg.ce.ivCount > 0 ? agg.ce.iv / agg.ce.ivCount : 0;\n  agg.pe.avgIv = agg.pe.ivCount > 0 ? agg.pe.iv / agg.pe.ivCount : 0;\n\n  // PCR calculations\n  agg.pcr = agg.ce.oi > 0 ? agg.pe.oi / agg.ce.oi : 0;\n  agg.pcrChg = agg.ce.oiChg !== 0 ? agg.pe.oiChg / agg.ce.oiChg : 0;\n  agg.volPcr = agg.ce.volume > 0 ? agg.pe.volume / agg.ce.volume : 0;\n\n  // Net Greeks\n  agg.netDelta = agg.ce.delta + agg.pe.delta;\n  agg.netGamma = agg.ce.gamma + agg.pe.gamma;\n  agg.netTheta = agg.ce.theta + agg.pe.theta;\n  agg.netVega = agg.ce.vega + agg.pe.vega;\n\n  return agg;\n};\n\n/**\n * Metric Card component\n */\nconst MetricCard = memo(({ label, ceValue, peValue, netValue, format = 'number', highlight = false }) => {\n  const formatValue = (val) => {\n    if (format === 'currency') return formatCurrency(val);\n    if (format === 'decimal') return val?.toFixed(2) || 'â€”';\n    if (format === 'greek') return val?.toFixed(4) || 'â€”';\n    return formatNumber(val);\n  };\n\n  return (\n    <div className={`p-2 rounded-lg ${highlight ? 'bg-blue-50 dark:bg-blue-900/20' : 'bg-gray-50 dark:bg-gray-800/50'}`}>\n      <div className=\"text-[10px] text-gray-500 uppercase font-medium mb-1\">{label}</div>\n      <div className=\"flex items-center justify-between gap-2 text-sm\">\n        <span className=\"text-red-600 dark:text-red-400 font-medium\" title=\"CALLS\">\n          {formatValue(ceValue)}\n        </span>\n        <span className=\"text-gray-400\">|</span>\n        <span className=\"text-green-600 dark:text-green-400 font-medium\" title=\"PUTS\">\n          {formatValue(peValue)}\n        </span>\n      </div>\n      {netValue !== undefined && (\n        <div className=\"text-xs text-center text-gray-600 dark:text-gray-400 mt-0.5\">\n          Net: {formatValue(netValue)}\n        </div>\n      )}\n    </div>\n  );\n});\n\nMetricCard.displayName = 'MetricCard';\n\n/**\n * PCR Badge component\n */\nconst PCRBadge = memo(({ value, label }) => {\n  const getColor = (v) => {\n    if (!v || v === 0) return 'bg-gray-200 text-gray-600';\n    if (v > 1.2) return 'bg-green-200 text-green-800 dark:bg-green-900/50 dark:text-green-300';\n    if (v > 0.8) return 'bg-yellow-200 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300';\n    return 'bg-red-200 text-red-800 dark:bg-red-900/50 dark:text-red-300';\n  };\n\n  return (\n    <div className=\"flex flex-col items-center p-2 rounded-lg bg-gray-50 dark:bg-gray-800/50\">\n      <div className=\"text-[10px] text-gray-500 uppercase font-medium\">{label}</div>\n      <div className={`mt-1 px-2 py-0.5 rounded font-bold text-sm ${getColor(value)}`}>\n        {value > 0 ? value.toFixed(2) : 'â€”'}\n      </div>\n    </div>\n  );\n});\n\nPCRBadge.displayName = 'PCRBadge';\n\n/**\n * Aggregate Panel Component\n * Shows totals for OI, Greeks, Volume, LTP for visible range and all data\n */\nconst AggregatePanel = memo(({ visibleStrikes }) => {\n  const [isExpanded, setIsExpanded] = useState(false); // Collapsed by default for space\n  const [viewMode, setViewMode] = useState('visible'); // 'visible' or 'all'\n  \n  const optionData = useSelector(selectOptionsData);\n  const atmStrike = useSelector(selectATMStrike);\n\n  // Get all strikes from data\n  const allStrikes = useMemo(() => {\n    if (!optionData?.oc) return [];\n    return Object.keys(optionData.oc)\n      .map(k => parseFloat(k))\n      .filter(k => !isNaN(k))\n      .sort((a, b) => a - b);\n  }, [optionData]);\n\n  // Calculate aggregates for visible range\n  const visibleAgg = useMemo(() => \n    calculateAggregates(optionData, visibleStrikes),\n    [optionData, visibleStrikes]\n  );\n\n  // Calculate aggregates for all data\n  const allAgg = useMemo(() => \n    calculateAggregates(optionData, allStrikes),\n    [optionData, allStrikes]\n  );\n\n  const agg = viewMode === 'visible' ? visibleAgg : allAgg;\n  const strikeCount = viewMode === 'visible' ? visibleStrikes?.length || 0 : allStrikes.length;\n\n  if (!agg) {\n    return null;\n  }\n\n  return (\n    <div className=\"mt-2 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm\">\n      {/* Header */}\n      <div \n        className=\"flex items-center justify-between px-4 py-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50\"\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n            ðŸ“Š Aggregate Summary\n          </span>\n          <span className=\"text-xs text-gray-500\">\n            ({strikeCount} strikes)\n          </span>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          {/* View Toggle */}\n          <div className=\"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-0.5\">\n            <button\n              onClick={(e) => { e.stopPropagation(); setViewMode('visible'); }}\n              className={`px-2 py-1 text-xs rounded-md flex items-center gap-1 transition-colors ${\n                viewMode === 'visible' \n                  ? 'bg-white dark:bg-gray-700 text-blue-600 shadow-sm' \n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              <TableCellsIcon className=\"w-3 h-3\" />\n              Visible\n            </button>\n            <button\n              onClick={(e) => { e.stopPropagation(); setViewMode('all'); }}\n              className={`px-2 py-1 text-xs rounded-md flex items-center gap-1 transition-colors ${\n                viewMode === 'all' \n                  ? 'bg-white dark:bg-gray-700 text-blue-600 shadow-sm' \n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              <GlobeAltIcon className=\"w-3 h-3\" />\n              All\n            </button>\n          </div>\n          \n          {isExpanded ? (\n            <ChevronUpIcon className=\"w-4 h-4 text-gray-400\" />\n          ) : (\n            <ChevronDownIcon className=\"w-4 h-4 text-gray-400\" />\n          )}\n        </div>\n      </div>\n\n      {/* Content */}\n      {isExpanded && (\n        <div className=\"px-4 pb-3 border-t border-gray-100 dark:border-gray-800\">\n          {/* PCR Row */}\n          <div className=\"grid grid-cols-3 gap-2 py-2\">\n            <PCRBadge value={agg.pcr} label=\"OI PCR\" />\n            <PCRBadge value={agg.pcrChg} label=\"OI Chg PCR\" />\n            <PCRBadge value={agg.volPcr} label=\"Vol PCR\" />\n          </div>\n          \n          {/* Main Metrics Grid */}\n          <div className=\"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2 mt-2\">\n            <MetricCard label=\"Total OI\" ceValue={agg.ce.oi} peValue={agg.pe.oi} highlight />\n            <MetricCard label=\"OI Change\" ceValue={agg.ce.oiChg} peValue={agg.pe.oiChg} />\n            <MetricCard label=\"Volume\" ceValue={agg.ce.volume} peValue={agg.pe.volume} />\n            <MetricCard label=\"LTP Sum\" ceValue={agg.ce.ltpSum} peValue={agg.pe.ltpSum} format=\"currency\" />\n            <MetricCard label=\"Avg IV\" ceValue={agg.ce.avgIv} peValue={agg.pe.avgIv} format=\"decimal\" />\n            <MetricCard label=\"Net Delta\" ceValue={agg.ce.delta} peValue={agg.pe.delta} netValue={agg.netDelta} format=\"greek\" />\n            <MetricCard label=\"Net Theta\" ceValue={agg.ce.theta} peValue={agg.pe.theta} netValue={agg.netTheta} format=\"greek\" />\n            <MetricCard label=\"Net Gamma\" ceValue={agg.ce.gamma} peValue={agg.pe.gamma} netValue={agg.netGamma} format=\"greek\" />\n          </div>\n          \n          {/* Extended Row */}\n          <div className=\"grid grid-cols-4 gap-2 mt-2\">\n            <MetricCard label=\"Premium (CE)\" ceValue={agg.ce.premiumSum} peValue={null} format=\"currency\" />\n            <MetricCard label=\"Premium (PE)\" ceValue={null} peValue={agg.pe.premiumSum} format=\"currency\" />\n            <MetricCard label=\"Net Vega\" ceValue={agg.ce.vega} peValue={agg.pe.vega} netValue={agg.netVega} format=\"greek\" />\n            <div className=\"p-2 rounded-lg bg-gray-50 dark:bg-gray-800/50\">\n              <div className=\"text-[10px] text-gray-500 uppercase font-medium\">ATM Strike</div>\n              <div className=\"text-sm font-bold text-blue-600 dark:text-blue-400\">{atmStrike || 'â€”'}</div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nAggregatePanel.displayName = 'AggregatePanel';\n\nexport default AggregatePanel;\n","import { useState, useMemo, useCallback } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n    selectStrikesAroundATM,\r\n    selectATMStrike,\r\n    selectOptionsData\r\n} from '../../../context/selectors';\r\nimport { useTableSettings } from '../../../context/TableSettingsContext';\r\nimport useOptionsChain from '../../../hooks/useOptionsChain';\r\nimport { usePercentageHighlights } from '../../../hooks/usePercentageHighlights';\r\n\r\nimport TableHeader from './TableHeader';\r\nimport StrikeRow from './StrikeRow';\r\nimport SpotBar from './SpotBar';\r\nimport SpotIndicatorRow from './SpotIndicatorRow';\r\nimport OptionControls from './OptionControls';\r\nimport { SettingsButton } from './TableSettingsModal';\r\nimport StrikeDetailPanel from './StrikeDetailPanel';\r\nimport StrikeAnalysisModal from './StrikeAnalysisModal';\r\nimport CellDetailModal from './CellDetailModal';\r\nimport AggregateChartModal from './AggregateChartModal';\r\nimport AggregatePanel from './AggregatePanel';\r\nimport { Spinner, Button, Card } from '../../common';\r\nimport { selectSelectedSymbol } from '../../../context/selectors';\r\n\r\n/**\r\n * Main Option Chain Table Component\r\n */\r\nconst OptionChainTable = ({ showControls = true }) => {\r\n    const {\r\n        spotData,\r\n        futuresData,\r\n        data: fullData,\r\n        isLoading,\r\n        isInitialLoad,\r\n        hasData,\r\n    } = useOptionsChain();\r\n\r\n    const { settings, selectStrike } = useTableSettings();\r\n\r\n    const [strikeCount, setStrikeCount] = useState(settings.strikesPerPage || 21); // 10 OTM each side + ATM\r\n    const [selectedCell, setSelectedCell] = useState(null);\r\n    const [selectedStrikeData, setSelectedStrikeData] = useState(null);\r\n    const [strikeModalData, setStrikeModalData] = useState(null); // For Strike Analysis Modal\r\n    const [aggregateColumn, setAggregateColumn] = useState(null); // For Aggregate Chart Modal\r\n\r\n    // Get symbol for Strike Analysis Modal\r\n    const symbol = useSelector(selectSelectedSymbol);\r\n\r\n    // Select filtered strikes from Redux using memoized selector factory\r\n    const strikesSelector = useMemo(() => selectStrikesAroundATM(strikeCount), [strikeCount]);\r\n    const strikes = useSelector(strikesSelector);\r\n    const atmStrike = useSelector(selectATMStrike);\r\n    const rawData = useSelector(selectOptionsData);\r\n\r\n    // Sort strikes based on settings\r\n    const sortedStrikes = useMemo(() => {\r\n        if (!strikes || strikes.length === 0) return [];\r\n        const sorted = [...strikes];\r\n        if (settings.sortOrder === 'asc') {\r\n            return sorted.sort((a, b) => a - b);\r\n        }\r\n        return sorted.sort((a, b) => b - a);\r\n    }, [strikes, settings.sortOrder]);\r\n\r\n    // Calculate percentage highlights for VOL, OI, OI CHG columns\r\n    const highlightData = usePercentageHighlights(sortedStrikes, rawData, atmStrike);\r\n\r\n    const handleShowMore = () => {\r\n        setStrikeCount(prev => prev + 20);\r\n    };\r\n\r\n    const handleCellClick = useCallback((cellData) => {\r\n        setSelectedCell(cellData);\r\n    }, []);\r\n\r\n    const handleCloseModal = useCallback(() => {\r\n        setSelectedCell(null);\r\n    }, []);\r\n\r\n    const handleStrikeSelect = useCallback((strikeData) => {\r\n        setSelectedStrikeData(strikeData);\r\n        selectStrike(strikeData?.strike);\r\n    }, [selectStrike]);\r\n\r\n    const handleClosePanel = useCallback(() => {\r\n        setSelectedStrikeData(null);\r\n        selectStrike(null);\r\n    }, [selectStrike]);\r\n\r\n    // Strike Analysis Modal handlers\r\n    const handleStrikeClick = useCallback((strikeData) => {\r\n        setStrikeModalData(strikeData);\r\n    }, []);\r\n\r\n    const handleCloseStrikeModal = useCallback(() => {\r\n        setStrikeModalData(null);\r\n    }, []);\r\n\r\n    // Aggregate Chart Modal handlers\r\n    const handleColumnClick = useCallback((columnType) => {\r\n        setAggregateColumn(columnType);\r\n    }, []);\r\n\r\n    const handleCloseAggregateModal = useCallback(() => {\r\n        setAggregateColumn(null);\r\n    }, []);\r\n\r\n    // Derived values from fullData - computed before any early returns\r\n    const pcr = fullData?.pcr;\r\n    const maxPain = fullData?.max_pain_strike;\r\n    const spotPrice = spotData?.ltp;\r\n\r\n    // Only show spinner on INITIAL load, not refreshes\r\n    if (isInitialLoad && !hasData) {\r\n        return (\r\n            <div className=\"flex h-96 items-center justify-center\">\r\n                <Spinner size=\"xl\" showLabel label=\"Loading Option Chain...\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full space-y-1\">\r\n            {/* Controls row - only show if showControls is true */}\r\n            {showControls && (\r\n                <div className=\"flex flex-wrap items-center gap-2\">\r\n                    <OptionControls />\r\n                    <SpotBar\r\n                        spotData={spotData}\r\n                        futuresData={futuresData}\r\n                        pcr={pcr}\r\n                        maxPain={maxPain}\r\n                    />\r\n                    <div className=\"flex-1\" />\r\n                    <SettingsButton />\r\n                </div>\r\n            )}\r\n\r\n            {/* Table Container - Maximum Height */}\r\n            <Card className=\"overflow-hidden\" padding=\"none\">\r\n                <div className=\"relative overflow-auto scrollbar-hide\" style={{ maxHeight: 'calc(100vh - 100px)' }}>\r\n                    {/* Floating Spot Indicator - rowHeight: 51px compact / 80px normal (measured from actual StrikeRow rendering) */}\r\n                    <SpotIndicatorRow\r\n                        spotData={spotData}\r\n                        futuresData={futuresData}\r\n                        strikes={sortedStrikes}\r\n                        rowHeight={settings.compactMode ? 51 : 80}\r\n                        headerHeight={28}\r\n                    />\r\n\r\n                    <table className=\"w-full text-sm text-left border-collapse min-w-max\">\r\n                        <TableHeader onColumnClick={handleColumnClick} />\r\n\r\n                        <tbody className=\"divide-y divide-gray-100 dark:divide-gray-800 bg-white dark:bg-gray-900\">\r\n                            {sortedStrikes.map((strike) => {\r\n                                const strikeKey = strike.toString();\r\n                                const strikeData = rawData?.oc?.[strikeKey] || rawData?.oc?.[`${strike}.000000`] || {};\r\n\r\n                                return (\r\n                                    <StrikeRow\r\n                                        key={strike}\r\n                                        strike={strike}\r\n                                        data={strikeData}\r\n                                        atmStrike={atmStrike}\r\n                                        spotPrice={spotPrice}\r\n                                        onCellClick={handleCellClick}\r\n                                        onStrikeSelect={handleStrikeSelect}\r\n                                        onStrikeClick={handleStrikeClick}\r\n                                        highlightData={highlightData[strike]}\r\n                                    />\r\n                                );\r\n                            })}\r\n\r\n                            {sortedStrikes.length === 0 && !isLoading && (\r\n                                <tr>\r\n                                    <td colSpan=\"20\" className=\"p-8 text-center text-gray-500\">\r\n                                        No data available for selected expiration\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                {/* Compact Footer */}\r\n                <div className=\"p-2 border-t border-gray-100 dark:border-gray-800 flex items-center justify-between bg-gray-50 dark:bg-gray-800/50\">\r\n                    <span className=\"text-xs text-gray-400\">\r\n                        {isLoading && <span className=\"animate-pulse text-blue-500\">â— Live</span>}\r\n                    </span>\r\n                    <Button variant=\"ghost\" onClick={handleShowMore} size=\"sm\">\r\n                        + More Strikes\r\n                    </Button>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Aggregate Summary Panel */}\r\n            <AggregatePanel visibleStrikes={sortedStrikes} />\r\n\r\n            {/* Strike Detail Panel */}\r\n            {selectedStrikeData && (\r\n                <StrikeDetailPanel\r\n                    strikeData={selectedStrikeData}\r\n                    onClose={handleClosePanel}\r\n                />\r\n            )}\r\n\r\n            {/* Cell Detail Modal */}\r\n            <CellDetailModal\r\n                isOpen={!!selectedCell}\r\n                onClose={handleCloseModal}\r\n                cellData={selectedCell}\r\n            />\r\n\r\n            {/* Strike Analysis Modal */}\r\n            <StrikeAnalysisModal\r\n                isOpen={!!strikeModalData}\r\n                onClose={handleCloseStrikeModal}\r\n                strikeData={strikeModalData}\r\n                symbol={symbol}\r\n            />\r\n\r\n            {/* Aggregate Chart Modal */}\r\n            <AggregateChartModal\r\n                isOpen={!!aggregateColumn}\r\n                onClose={handleCloseAggregateModal}\r\n                columnType={aggregateColumn}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OptionChainTable;\r\n","import logger from './logger';\n\nexport const formatDate = (date) => {\n    const d = new Date(date);\n    const year = d.getFullYear();\n    const month = String(d.getMonth() + 1).padStart(2, \"0\");\n    const day = String(d.getDate()).padStart(2, \"0\");\n    return `${year}-${month}-${day}`;\n};\n\nexport const convertUTCToISTTimestamp = (utcTimestamp) => {\n    return utcTimestamp + 5.5 * 60 * 60;\n};\n\nexport const formatTimeForIST = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleString(\"en-IN\", {\n        timeZone: \"Asia/Kolkata\",\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n        hour12: false,\n    });\n};\n\n// Support/Resistance computation function\nexport const computeLevels = (oc, price, isCommodity) => {\n    logger.log(\"ðŸ”¢ Computing levels with:\", { oc: !!oc, price, isCommodity });\n\n    if (!oc || typeof oc !== \"object\") {\n        logger.log(\"âŒ Invalid OC data\");\n        return {\n            support_1: null,\n            support_2: null,\n            support_1_1: null,\n            support_1_2: null,\n            support_2_1: null,\n            support_2_2: null,\n            resistance_1: null,\n            resistance_2: null,\n            resistance_1_1: null,\n            resistance_1_2: null,\n            resistance_2_1: null,\n            resistance_2_2: null,\n        };\n    }\n\n    const strikes = Object.keys(oc)\n        .filter((k) => /^\\d+$/.test(k))\n        .map(Number)\n        .sort((a, b) => a - b);\n\n    if (strikes.length === 0) {\n        return {\n            support_1: null,\n            support_2: null,\n            support_1_1: null,\n            support_1_2: null,\n            support_2_1: null,\n            support_2_2: null,\n            resistance_1: null,\n            resistance_2: null,\n            resistance_1_1: null,\n            resistance_1_2: null,\n            resistance_2_1: null,\n            resistance_2_2: null,\n        };\n    }\n\n    const below = strikes.filter((s) => s <= price);\n    const above = strikes.filter((s) => s > price);\n\n    const pick = (levels, selector) => {\n        if (!levels.length) return null;\n        const idx = selector(levels);\n        if (idx < 0 || idx >= levels.length) return null;\n        const strikeKey = levels[idx];\n        const strikeData = oc[strikeKey];\n        return strikeData || null;\n    };\n\n    const levels = {\n        support_1: pick(below, (l) => l.length - 1)?.reversal,\n        support_2: pick(below, (l) => l.length - 1)?.wkly_reversal,\n        support_1_1: pick(below, (l) => l.length - 2)?.reversal,\n        support_1_2: pick(below, (l) => l.length - 3)?.reversal,\n        support_2_1: pick(below, (l) => l.length - 2)?.wkly_reversal,\n        support_2_2: pick(below, (l) => l.length - 3)?.wkly_reversal,\n\n        resistance_1: pick(above, (_l) => 0)?.reversal,\n        resistance_2: pick(above, (_l) => 0)?.wkly_reversal,\n        resistance_1_1: pick(above, (_l) => 1)?.reversal,\n        resistance_1_2: pick(above, (_l) => 2)?.reversal,\n        resistance_2_1: pick(above, (_l) => 1)?.wkly_reversal,\n        resistance_2_2: pick(above, (_l) => 2)?.wkly_reversal,\n\n        // New averaged levels\n        support_avg:\n            ((pick(below, (l) => l.length - 1)?.reversal ?? 0) +\n                (pick(below, (l) => l.length - 1)?.wkly_reversal ?? 0)) /\n            2,\n\n        support_1_1_avg:\n            ((pick(below, (l) => l.length - 2)?.reversal ?? 0) +\n                (pick(below, (l) => l.length - 2)?.wkly_reversal ?? 0)) /\n            2,\n\n        support_1_2_avg:\n            ((pick(below, (l) => l.length - 3)?.reversal ?? 0) +\n                (pick(below, (l) => l.length - 3)?.wkly_reversal ?? 0)) /\n            2,\n\n        resistance_avg:\n            ((pick(above, (_l) => 0)?.reversal ?? 0) +\n                (pick(above, (_l) => 0)?.wkly_reversal ?? 0)) /\n            2,\n\n        resistance_1_1_avg:\n            ((pick(above, (_l) => 1)?.reversal ?? 0) +\n                (pick(above, (_l) => 1)?.wkly_reversal ?? 0)) /\n            2,\n\n        resistance_1_2_avg:\n            ((pick(above, (_l) => 2)?.reversal ?? 0) +\n                (pick(above, (_l) => 2)?.wkly_reversal ?? 0)) /\n            2,\n    };\n\n    logger.log(\"âœ… Computed levels:\", levels);\n    return levels;\n};\n\nexport const debounce = (func, wait) => {\n    let timeout;\n    return function executedFunction(...args) {\n        const later = () => {\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n};\n\nexport const throttle = (func, limit) => {\n    let inThrottle;\n    return function (...args) {\n        if (!inThrottle) {\n            func.apply(this, args);\n            inThrottle = true;\n            setTimeout(() => (inThrottle = false), limit);\n        }\n    };\n};\n","import { useState, useRef, useEffect, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\n\n/**\n * Premium Symbol Selector - Searchable dropdown with categories\n * Features: Search, Indices/Equities grouping, keyboard navigation, glassmorphism\n */\nconst SymbolSelector = ({ symbols, currentSymbol, onSelect, theme }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [highlightedIndex, setHighlightedIndex] = useState(0);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0 });\n  const containerRef = useRef(null);\n  const buttonRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Group symbols by type\n  const groupedSymbols = useMemo(() => {\n    const indices = [];\n    const equities = [];\n    \n    symbols.forEach(s => {\n      // Check if symbol name contains index-like patterns or is known index\n      const isIndex = ['NIFTY', 'BANKNIFTY', 'FINNIFTY', 'MIDCPNIFTY', 'SENSEX', 'BANKEX', 'NIFTYNXT50'].includes(s.symbol);\n      if (isIndex) {\n        indices.push(s);\n      } else {\n        equities.push(s);\n      }\n    });\n    \n    return { indices, equities };\n  }, [symbols]);\n\n  // Filter symbols based on search\n  const filteredGroups = useMemo(() => {\n    const query = search.toLowerCase();\n    return {\n      indices: groupedSymbols.indices.filter(s => \n        s.symbol.toLowerCase().includes(query) || \n        (s.name || '').toLowerCase().includes(query)\n      ),\n      equities: groupedSymbols.equities.filter(s => \n        s.symbol.toLowerCase().includes(query) || \n        (s.name || '').toLowerCase().includes(query)\n      ),\n    };\n  }, [groupedSymbols, search]);\n\n  // Flat list for keyboard navigation\n  const flatList = useMemo(() => [\n    ...filteredGroups.indices,\n    ...filteredGroups.equities,\n  ], [filteredGroups]);\n\n  // Calculate dropdown position when opening\n  const openDropdown = () => {\n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setDropdownPosition({\n        top: rect.bottom + 8,\n        left: rect.left,\n      });\n    }\n    setIsOpen(true);\n  };\n\n  // Close on outside click\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Focus input when opened\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isOpen]);\n\n  // Keyboard navigation\n  const handleKeyDown = (e) => {\n    if (!isOpen) {\n      if (e.key === 'Enter' || e.key === 'ArrowDown') {\n        openDropdown();\n        e.preventDefault();\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        setHighlightedIndex((prev) => Math.min(prev + 1, flatList.length - 1));\n        e.preventDefault();\n        break;\n      case 'ArrowUp':\n        setHighlightedIndex((prev) => Math.max(prev - 1, 0));\n        e.preventDefault();\n        break;\n      case 'Enter':\n        if (flatList[highlightedIndex]) {\n          onSelect(flatList[highlightedIndex]);\n          setIsOpen(false);\n          setSearch('');\n        }\n        e.preventDefault();\n        break;\n      case 'Escape':\n        setIsOpen(false);\n        setSearch('');\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleSelect = (symbol) => {\n    onSelect(symbol);\n    setIsOpen(false);\n    setSearch('');\n  };\n\n  const isDark = theme === 'dark';\n\n  return (\n    <div ref={containerRef} className=\"relative\" onKeyDown={handleKeyDown}>\n      {/* Trigger Button */}\n      <button\n        ref={buttonRef}\n        onClick={() => isOpen ? setIsOpen(false) : openDropdown()}\n        className={`\n          flex items-center gap-2 px-3 py-1.5 rounded-lg border\n          font-semibold text-xs transition-all duration-200 min-w-[120px]\n          ${isDark \n            ? 'bg-gray-800 border-gray-700 text-white hover:bg-gray-700' \n            : 'bg-white border-gray-200 text-gray-900 hover:bg-gray-50'}\n          ${isOpen ? (isDark ? 'ring-1 ring-blue-500' : 'ring-1 ring-blue-400') : ''}\n        `}\n      >\n        <span className=\"font-bold\">{currentSymbol?.symbol || 'Select'}</span>\n        <svg \n          className={`w-3 h-3 ml-auto transition-transform ${isOpen ? 'rotate-180' : ''} ${isDark ? 'text-gray-400' : 'text-gray-500'}`} \n          fill=\"none\" \n          stroke=\"currentColor\" \n          viewBox=\"0 0 24 24\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {/* Dropdown Panel - Using Portal to render to body, escaping all stacking contexts */}\n      {isOpen && createPortal(\n        <>\n          {/* Backdrop */}\n          <div \n            className=\"fixed inset-0 z-[2147483646]\" \n            onClick={() => setIsOpen(false)}\n          />\n          <div \n            className={`\n              fixed w-72 max-h-80 rounded-xl border shadow-2xl z-[2147483647]\n              overflow-hidden\n              ${isDark \n                ? 'bg-gray-900 border-gray-700' \n                : 'bg-white border-gray-200'}\n            `}\n            style={{ top: dropdownPosition.top, left: dropdownPosition.left }}\n          >\n            {/* Search Input */}\n            <div className={`p-2 border-b ${isDark ? 'border-gray-700' : 'border-gray-100'}`}>\n              <div className=\"relative\">\n                <svg \n                  className={`absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 ${isDark ? 'text-gray-500' : 'text-gray-400'}`} \n                  fill=\"none\" \n                  stroke=\"currentColor\" \n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n                <input\n                  ref={inputRef}\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  value={search}\n                  onChange={(e) => { setSearch(e.target.value); setHighlightedIndex(0); }}\n                  className={`\n                    w-full pl-8 pr-3 py-1.5 rounded-lg text-xs\n                    focus:outline-none focus:ring-1 transition-all\n                    ${isDark \n                      ? 'bg-gray-800 text-white placeholder-gray-500 focus:ring-blue-500' \n                      : 'bg-gray-100 text-gray-900 placeholder-gray-400 focus:ring-blue-400'}\n                  `}\n                />\n              </div>\n            </div>\n\n            {/* Symbol List */}\n            <div className=\"overflow-y-auto max-h-64 p-1\">\n              {/* Indices Section */}\n              {filteredGroups.indices.length > 0 && (\n                <div className=\"mb-1\">\n                  <div className={`px-2 py-1 text-[10px] font-semibold uppercase ${isDark ? 'text-blue-400' : 'text-blue-600'}`}>\n                    Indices\n                  </div>\n                  {filteredGroups.indices.map((s, idx) => (\n                    <SymbolItem \n                      key={s.symbol} \n                      symbol={s} \n                      isSelected={currentSymbol?.symbol === s.symbol}\n                      isHighlighted={highlightedIndex === idx}\n                      onClick={() => handleSelect(s)}\n                      isDark={isDark}\n                    />\n                  ))}\n                </div>\n              )}\n\n              {/* Equities Section */}\n              {filteredGroups.equities.length > 0 && (\n                <div>\n                  <div className={`px-2 py-1 text-[10px] font-semibold uppercase ${isDark ? 'text-emerald-400' : 'text-emerald-600'}`}>\n                    Equities\n                  </div>\n                  {filteredGroups.equities.map((s, idx) => (\n                    <SymbolItem \n                      key={s.symbol} \n                      symbol={s} \n                      isSelected={currentSymbol?.symbol === s.symbol}\n                      isHighlighted={highlightedIndex === (filteredGroups.indices.length + idx)}\n                      onClick={() => handleSelect(s)}\n                      isDark={isDark}\n                    />\n                  ))}\n                </div>\n              )}\n\n              {/* No Results */}\n              {flatList.length === 0 && (\n                <div className={`text-center py-4 text-xs ${isDark ? 'text-gray-500' : 'text-gray-400'}`}>\n                  No symbols found\n                </div>\n              )}\n            </div>\n          </div>\n        </>,\n        document.getElementById('dropdown-root') || document.body\n      )}\n    </div>\n  );\n};\n\n/**\n * Individual Symbol Item\n */\nconst SymbolItem = ({ symbol, isSelected, isHighlighted, onClick, isDark }) => {\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-left text-xs\n        transition-all duration-100\n        ${isSelected \n          ? (isDark ? 'bg-blue-600 text-white' : 'bg-blue-500 text-white')\n          : isHighlighted \n            ? (isDark ? 'bg-gray-800' : 'bg-gray-100')\n            : (isDark ? 'hover:bg-gray-800' : 'hover:bg-gray-50')\n        }\n      `}\n    >\n      <div className=\"flex-1 min-w-0\">\n        <div className={`font-semibold ${isSelected ? 'text-white' : isDark ? 'text-gray-200' : 'text-gray-800'}`}>\n          {symbol.symbol}\n        </div>\n      </div>\n      {isSelected && (\n        <svg className=\"w-3 h-3 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n        </svg>\n      )}\n    </button>\n  );\n};\n\nexport default SymbolSelector;\n","import React, {\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  setSymbols,\r\n  setCurrentSymbol,\r\n  setTimeframe,\r\n  setChartData,\r\n  setConnectionStatus,\r\n  setDaily,\r\n  setWeekly,\r\n  setAvg,\r\n} from \"../../context/chartSlice\";\r\nimport {\r\n  createChart,\r\n  CandlestickSeries,\r\n  LineStyle,\r\n} from \"lightweight-charts\";\r\nimport {\r\n  formatTimeForIST,\r\n  computeLevels,\r\n  debounce,\r\n  throttle,\r\n} from \"../../utils/chartUtils\";\r\nimport SymbolSelector from \"./SymbolSelector\";\r\n\r\nconst TradingChart = React.memo(({ embedded = false }) => {\r\n  const dispatch = useDispatch();\r\n  const theme = useSelector((state) => state.theme.theme);\r\n\r\n  // Memoized theme colors - Premium Emerald/Rose Palette\r\n  const themeColors = useMemo(\r\n    () => ({\r\n      background: theme === \"dark\" ? \"bg-slate-900\" : \"bg-white\",\r\n      text: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\",\r\n      gridColor:\r\n        theme === \"dark\" ? \"rgba(255, 255, 255, 0.06)\" : \"rgba(0, 0, 0, 0.06)\",\r\n      supportColor: theme === \"dark\" ? \"#38bdf8\" : \"#0ea5e9\", // Sky-400 v 500\r\n      resistanceColor: theme === \"dark\" ? \"#fbbf24\" : \"#f59e0b\", // Amber-400 v 500\r\n      nearersupportColor: theme === \"dark\" ? \"#4ade80\" : \"#22c55e\", // Green-400 v 500\r\n      nearerresistanceColor: theme === \"dark\" ? \"#f87171\" : \"#ef4444\", // Red-400 v 500\r\n    }),\r\n    [theme]\r\n  );\r\n\r\n  // Chart theme configuration\r\n  const chartTheme = useMemo(\r\n    () => ({\r\n      layout: {\r\n        background: { color: theme === \"dark\" ? \"#0f172a\" : \"#ffffff\" },\r\n        textColor: theme === \"dark\" ? \"#94a3b8\" : \"#475569\",\r\n      },\r\n      grid: {\r\n        vertLines: { color: themeColors.gridColor },\r\n        horzLines: { color: themeColors.gridColor },\r\n      },\r\n      crosshair: { mode: 1 },\r\n      rightPriceScale: {\r\n        borderColor: theme === \"dark\" ? \"#1e293b\" : \"#e2e8f0\",\r\n        scaleMargins: { top: 0.1, bottom: 0.1 },\r\n      },\r\n      timeScale: {\r\n        borderColor: theme === \"dark\" ? \"#1e293b\" : \"#e2e8f0\",\r\n        timeVisible: true,\r\n        secondsVisible: false,\r\n        rightBarStaysOnScroll: true,\r\n        barSpacing: 12,\r\n        fixLeftEdge: false,\r\n        fixRightEdge: false,\r\n        lockVisibleTimeRangeOnResize: true,\r\n        rightOffset: 12,\r\n        visible: true,\r\n      },\r\n    }),\r\n    [theme, themeColors.gridColor]\r\n  );\r\n\r\n  // Candlestick theme - Emerald/Rose\r\n  const candlestickTheme = useMemo(\r\n    () => ({\r\n      upColor: \"#10b981\", // Emerald-500\r\n      downColor: \"#f43f5e\", // Rose-500\r\n      borderVisible: false,\r\n      wickUpColor: \"#10b981\",\r\n      wickDownColor: \"#f43f5e\",\r\n    }),\r\n\r\n    []\r\n  );\r\n\r\n  // Refs\r\n  const chartContainerRef = useRef(null);\r\n  const chartRef = useRef(null);\r\n  const candleSeriesRef = useRef(null);\r\n  const supportResistanceLinesRef = useRef(new Map());\r\n  const canvasRef = useRef(null);\r\n\r\n  // State\r\n  const [ohlcData, setOhlcData] = useState({\r\n    open: 0,\r\n    high: 0,\r\n    low: 0,\r\n    close: 0,\r\n    time: \"\",\r\n  });\r\n  const [showCustomTimeframe, setShowCustomTimeframe] = useState(false);\r\n  const [showTimeframeDropdown, setShowTimeframeDropdown] = useState(false);\r\n  const [customInterval, setCustomInterval] = useState(\"\");\r\n  const [livePrice, setLivePrice] = useState(null);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [drawingMode, setDrawingMode] = useState(null); // 'hline'\r\n  const [_userLines, setUserLines] = useState([]);\r\n  const [activeProfile, setActiveProfile] = useState(\"reversal\");\r\n  const [isAutoPilot, setIsAutoPilot] = useState(true); // Smart Auto-Detection Mode\r\n\r\n  // Redux state\r\n  const { symbols, currentSymbol, timeframe, connectionStatus, daily, weekly, avg } =\r\n    useSelector((state) => state.chart);\r\n  const { sid } = useSelector((state) => state.data);\r\n\r\n  // Get options data\r\n  const optionsData = useSelector((state) => state.data?.data?.options?.data);\r\n  const oc = optionsData?.oc;\r\n  const price = ohlcData?.close;\r\n  const isCommodity = sid === \"CRUDEOIL\";\r\n\r\n  // Timeframe options - includes 15S (15 seconds) and all minute intervals\r\n  const timeframes = useMemo(\r\n    () => [\r\n      { value: \"15S\", label: \"15s\" },\r\n      { value: \"1\", label: \"1min\" },\r\n      { value: \"2\", label: \"2min\" },\r\n      { value: \"3\", label: \"3min\" },\r\n      { value: \"5\", label: \"5min\" },\r\n      { value: \"10\", label: \"10min\" },\r\n      { value: \"15\", label: \"15min\" },\r\n      { value: \"30\", label: \"30min\" },\r\n      { value: \"60\", label: \"1H\" },\r\n      { value: \"D\", label: \"Daily\" },\r\n    ],\r\n    []\r\n  );\r\n\r\n  // Compute support/resistance levels\r\n  const supportResistanceLevels = useMemo(() => {\r\n    if (!oc || !price) return null;\r\n    return computeLevels(oc, price, isCommodity);\r\n  }, [oc, price, isCommodity]);\r\n\r\n  // Enhanced support/resistance line drawing\r\n  const drawSupportResistanceLines = useCallback(\r\n    (levels) => {\r\n      if (!candleSeriesRef.current || !levels) return;\r\n\r\n      supportResistanceLinesRef.current.forEach((line) => {\r\n        try {\r\n          candleSeriesRef.current.removePriceLine(line);\r\n        } catch (error) {\r\n          console.warn(\"Error removing price line:\", error);\r\n        }\r\n      });\r\n      supportResistanceLinesRef.current.clear();\r\n\r\n      const getLineConfigs = (daily, weekly, avg, themeColors) => {\r\n        const dailyLines = [\r\n          { key: \"support_1\", title: \"S1\", color: themeColors.nearersupportColor },\r\n          { key: \"support_1_1\", title: \"S1.1\", color: themeColors.supportColor },\r\n          { key: \"support_1_2\", title: \"S1.2\", color: themeColors.supportColor },\r\n          { key: \"resistance_1\", title: \"R1\", color: themeColors.nearerresistanceColor },\r\n          { key: \"resistance_1_1\", title: \"R1.1\", color: themeColors.resistanceColor },\r\n          { key: \"resistance_1_2\", title: \"R1.2\", color: themeColors.resistanceColor },\r\n        ];\r\n        const weeklyLines = [\r\n          { key: \"support_2\", title: \"S2\", color: themeColors.nearersupportColor },\r\n          { key: \"support_2_1\", title: \"S2.1\", color: themeColors.supportColor },\r\n          { key: \"support_2_2\", title: \"S2.2\", color: themeColors.supportColor },\r\n          { key: \"resistance_2\", title: \"R2\", color: themeColors.nearerresistanceColor },\r\n          { key: \"resistance_2_1\", title: \"R2.1\", color: themeColors.resistanceColor },\r\n          { key: \"resistance_2_2\", title: \"R2.2\", color: themeColors.resistanceColor },\r\n        ];\r\n        // TrueAvg lines use unique _avg keys from computeLevels\r\n        const avgLines = [\r\n          { key: \"support_avg\", title: \"S-Avg\", color: \"#a855f7\" }, // Purple for avg\r\n          { key: \"support_1_1_avg\", title: \"S1.1-Avg\", color: \"#c084fc\" },\r\n          { key: \"support_1_2_avg\", title: \"S1.2-Avg\", color: \"#c084fc\" },\r\n          { key: \"resistance_avg\", title: \"R-Avg\", color: \"#f97316\" }, // Orange for avg\r\n          { key: \"resistance_1_1_avg\", title: \"R1.1-Avg\", color: \"#fb923c\" },\r\n          { key: \"resistance_1_2_avg\", title: \"R1.2-Avg\", color: \"#fb923c\" },\r\n        ];\r\n\r\n        return [...(daily ? dailyLines : []), ...(weekly ? weeklyLines : []), ...(avg ? avgLines : [])];\r\n      };\r\n\r\n      const lineConfigs = getLineConfigs(daily, weekly, avg, themeColors);\r\n\r\n      lineConfigs.forEach((config) => {\r\n        const priceValue = levels[config.key];\r\n        if (priceValue !== null && priceValue !== undefined && !isNaN(parseFloat(priceValue))) {\r\n          try {\r\n            const isSupport = config.key.includes(\"support\");\r\n            const isMajor = [\"support_1\", \"support_2\", \"resistance_1\", \"resistance_2\"].includes(config.key);\r\n\r\n            const line = candleSeriesRef.current.createPriceLine({\r\n              price: parseFloat(priceValue),\r\n              color: config.color,\r\n              lineWidth: 2,\r\n              lineStyle: isMajor ? LineStyle.Solid : LineStyle.Dashed,\r\n              axisLabelVisible: true,\r\n              axisLabelBackgroundColor: isSupport ? \"#002B36\" : \"#360000\",\r\n              axisLabelTextColor: \"#FFFFFF\",\r\n              axisLabelBorderColor: config.color,\r\n              title: config.title,\r\n            });\r\n\r\n            supportResistanceLinesRef.current.set(config.key, line);\r\n          } catch (error) {\r\n            console.error(\"Error creating price line:\", error);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    [daily, weekly, avg, themeColors]\r\n  );\r\n\r\n  // Chart theme updates\r\n  useEffect(() => {\r\n    if (chartRef.current) chartRef.current.applyOptions(chartTheme);\r\n    if (candleSeriesRef.current) candleSeriesRef.current.applyOptions(candlestickTheme);\r\n  }, [chartTheme, candlestickTheme]);\r\n\r\n  // Redraw lines on toggle or level change\r\n  useEffect(() => {\r\n    if (supportResistanceLevels && candleSeriesRef.current && connectionStatus === \"connected\") {\r\n      drawSupportResistanceLines(supportResistanceLevels);\r\n    }\r\n  }, [daily, weekly, avg, supportResistanceLevels, connectionStatus, drawSupportResistanceLines]);\r\n\r\n  // Chart initialization\r\n  useEffect(() => {\r\n    if (!chartContainerRef.current || chartRef.current) return;\r\n\r\n    try {\r\n      const chart = createChart(chartContainerRef.current, {\r\n        ...chartTheme,\r\n        width: chartContainerRef.current.clientWidth,\r\n        height: window.innerHeight - 180,\r\n        handleScroll: { mouseWheel: true, pressedMouseMove: true, horzTouchDrag: true, vertTouchDrag: true },\r\n        handleScale: { axisPressedMouseMove: true, mouseWheel: true, pinch: true },\r\n        timeScale: { ...chartTheme.timeScale },\r\n        localization: {\r\n          timeFormatter: (time) => {\r\n            const date = new Date(time * 1000);\r\n            return date.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: false, timeZone: 'Asia/Kolkata' });\r\n          },\r\n          dateFormatter: (time) => {\r\n            const date = new Date(time * 1000);\r\n            return date.toLocaleDateString('en-IN', { day: '2-digit', month: 'short', timeZone: 'Asia/Kolkata' });\r\n          },\r\n        },\r\n      });\r\n\r\n      const candleSeries = chart.addSeries(CandlestickSeries, candlestickTheme);\r\n      chartRef.current = chart;\r\n      candleSeriesRef.current = candleSeries;\r\n\r\n      const throttledCrosshairMove = throttle((param) => {\r\n        if (param.time) {\r\n          const data = param.seriesData.get(candleSeries);\r\n          if (data) {\r\n            setOhlcData({\r\n              open: data.open?.toFixed(2) || 0,\r\n              high: data.high?.toFixed(2) || 0,\r\n              low: data.low?.toFixed(2) || 0,\r\n              close: data.close?.toFixed(2) || 0,\r\n              time: formatTimeForIST(param.time),\r\n            });\r\n          }\r\n        }\r\n      }, 16);\r\n\r\n      chart.subscribeCrosshairMove(throttledCrosshairMove);\r\n\r\n      // ResizeObserver for Chart Instance (Responsive to container)\r\n      const chartResizeObserver = new ResizeObserver((entries) => {\r\n        if (entries.length === 0 || !entries[0].target) return;\r\n        const newRect = entries[0].contentRect;\r\n        chart.applyOptions({\r\n          width: newRect.width,\r\n          height: newRect.height,\r\n        });\r\n      });\r\n\r\n      chartResizeObserver.observe(chartContainerRef.current);\r\n\r\n      // Capture refs before cleanup to avoid stale ref warnings\r\n      const currentLinesRef = supportResistanceLinesRef.current;\r\n\r\n      return () => {\r\n        chartResizeObserver.disconnect();\r\n        if (chartRef.current) {\r\n          chartRef.current.remove();\r\n          chartRef.current = null;\r\n          candleSeriesRef.current = null;\r\n        }\r\n        currentLinesRef.clear();\r\n      };\r\n    } catch (error) {\r\n      console.error(\"Error initializing chart:\", error);\r\n      dispatch(setConnectionStatus(\"error\"));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Load symbols\r\n  const loadSymbols = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:8000/api/v1/charts/symbols\");\r\n      const result = await response.json();\r\n      const symbolsList = result.data || [];\r\n      dispatch(setSymbols(symbolsList));\r\n      if (symbolsList.length > 0 && !currentSymbol) dispatch(setCurrentSymbol(symbolsList[0]));\r\n    } catch {\r\n      // fallback\r\n      const defaultSymbols = [{ symbol: \"NIFTY\", name: \"NIFTY 50\" }];\r\n      dispatch(setSymbols(defaultSymbols));\r\n      if (!currentSymbol) dispatch(setCurrentSymbol(defaultSymbols[0]));\r\n    }\r\n  }, [dispatch, currentSymbol]);\r\n\r\n  useEffect(() => {\r\n    if (symbols.length === 0) loadSymbols();\r\n  }, [symbols.length, loadSymbols]);\r\n\r\n  // Fetch chart data\r\n  const chartSymbol = sid || currentSymbol?.symbol || \"NIFTY\";\r\n  useEffect(() => {\r\n    if (!chartSymbol || !candleSeriesRef.current) return;\r\n    const fetchChartData = async () => {\r\n      dispatch(setConnectionStatus(\"loading\"));\r\n      try {\r\n        const params = new URLSearchParams({ symbol: chartSymbol, interval: timeframe, days: \"30\" });\r\n        const response = await fetch(`http://localhost:8000/api/v1/charts/data?${params.toString()}`);\r\n        const data = await response.json();\r\n\r\n        if (data.success && data.candles?.length > 0) {\r\n          const formattedData = data.candles.map((candle) => ({\r\n            time: candle.time, open: candle.open, high: candle.high, low: candle.low, close: candle.close,\r\n          })).sort((a, b) => a.time - b.time);\r\n\r\n          if (candleSeriesRef.current && formattedData.length > 0) {\r\n            candleSeriesRef.current.setData(formattedData);\r\n            const lastCandle = formattedData[formattedData.length - 1];\r\n            setOhlcData({\r\n              open: lastCandle.open.toFixed(2), high: lastCandle.high.toFixed(2),\r\n              low: lastCandle.low.toFixed(2), close: lastCandle.close.toFixed(2),\r\n              time: formatTimeForIST(lastCandle.time),\r\n            });\r\n            setLivePrice(lastCandle.close);\r\n            dispatch(setChartData(formattedData));\r\n            dispatch(setConnectionStatus(\"connected\"));\r\n          }\r\n        } else {\r\n          dispatch(setConnectionStatus(\"error\"));\r\n        }\r\n      } catch {\r\n        dispatch(setConnectionStatus(\"error\"));\r\n      }\r\n    };\r\n    fetchChartData();\r\n    const intervalId = setInterval(fetchChartData, 30000);\r\n    return () => clearInterval(intervalId);\r\n  }, [chartSymbol, timeframe, dispatch]);\r\n\r\n  // Toggle handlers\r\n  const handleDailyToggle = useCallback((checked) => dispatch(setDaily(checked)), [dispatch]);\r\n  const handleWeeklyToggle = useCallback((checked) => dispatch(setWeekly(checked)), [dispatch]);\r\n  const handleAvgToggle = useCallback((checked) => dispatch(setAvg(checked)), [dispatch]);\r\n\r\n  const handleCustomTimeframe = useCallback(() => {\r\n    if (customInterval && parseInt(customInterval) > 0) {\r\n      dispatch(setTimeframe(customInterval));\r\n      setShowCustomTimeframe(false);\r\n      setCustomInterval(\"\");\r\n    }\r\n  }, [customInterval, dispatch]);\r\n\r\n  // Theme classes\r\n  const themeClasses = useMemo(() => ({\r\n    container: theme === \"dark\" ? \"bg-gray-900 text-white\" : \"bg-white text-gray-900\",\r\n    toolbar: theme === \"dark\" ? \"bg-gray-800 border-gray-700\" : \"bg-gray-100 border-gray-300\",\r\n    select: theme === \"dark\" ? \"bg-gray-700 text-white border-gray-600\" : \"bg-white text-gray-900 border-gray-300\",\r\n    button: theme === \"dark\" ? \"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white\" : \"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:text-gray-900\",\r\n    activeButton: theme === \"dark\" ? \"bg-blue-600 text-white\" : \"bg-blue-500 text-white\",\r\n    modal: theme === \"dark\" ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-300\",\r\n    input: theme === \"dark\" ? \"bg-gray-700 text-white border-gray-600\" : \"bg-white text-gray-900 border-gray-300\",\r\n    chart: theme === \"dark\" ? \"bg-gray-900\" : \"bg-white\",\r\n  }), [theme]);\r\n\r\n  // Educational Content for Smart Context HUD\r\n  // Educational Content for Smart Context HUD\r\n  const profileGuides = {\r\n    none: {\r\n      title: \"Select a Profile\",\r\n      formula: \"â€”\",\r\n      logic: \"Choose a profile from the dropdown to overlay market structure analysis on the chart.\",\r\n      visual: \"No overlay active.\",\r\n      signal: \"Start with 'OI' for positioning or 'Reversal' for key levels.\"\r\n    },\r\n    oi: {\r\n      title: \"Smart OI (Liquidity Weighted)\",\r\n      formula: \"SmartOI = OI Ã— (1 + Volume/MaxVolume)\",\r\n      logic: \"Open Interest weighted by today's trading activity. Strikes with high OI but zero volume (ghost positions) are dimmed. Active battles are boosted.\",\r\n      visual: \"ðŸ”´ Red Bar = Call OI (Resistance). ðŸŸ¢ Green Bar = Put OI (Support). SINGLE BAR = >60% dominance (strong level). SPLIT BARS = contested zone (weak).\",\r\n      signal: \"Trade: Large single-color bars are hard walls. If price approaches, fade the move. Split bars indicate indecisionâ€”wait for clarity.\"\r\n    },\r\n    volume: {\r\n      title: \"Smart Volume (IV Weighted)\",\r\n      formula: \"SmartVol = Volume Ã— (IV/AvgIV)\",\r\n      logic: \"Volume weighted by Implied Volatility. High IV trades indicate fear/greed (conviction). Low IV trades are often hedging/arbitrage (noise).\",\r\n      visual: \"ðŸ”´ Red = Call Volume (Bearish Pressure). ðŸŸ¢ Green = Put Volume (Bullish Pressure). Taller bars = higher conviction.\",\r\n      signal: \"Trade: Look for tall single-color bars at key levels. High conviction at resistance = potential breakout. Split bars = no clear directional bet.\"\r\n    },\r\n    oi_change: {\r\n      title: \"Smart Flow (Volume Weighted)\",\r\n      formula: \"SmartFlow = OI_Change Ã— (1 + Volume/MaxVolume)\",\r\n      logic: \"Net change in positions, weighted by volume. Separates 'real money' moves from low-volume noise. Handles unwinding (negative values) correctly.\",\r\n      visual: \"ðŸ”´ Red = Calls building (bearish bets). ðŸŸ¢ Green = Puts building (bullish bets). Negative values (unwinding) shown with dashed borders.\",\r\n      signal: \"Trade: Follow the flow. Growing green bars = bullish accumulation. Growing red = bearish accumulation. Shrinking bars = profit-taking/trend exhaustion.\"\r\n    },\r\n    reversal: {\r\n      title: \"Smart Reversal Zones\",\r\n      formula: \"Strength = (OIÃ—0.7 + VolÃ—0.3) Ã— GammaMult Ã— IVMult\",\r\n      logic: \"Auto-detects high-probability reversal points using weighted OI+Volume, boosted by Gamma (hedging pressure) and IV (market fear). Levels are clustered within 0.1% to reduce noise. Statistical filtering removes weak signals.\",\r\n      visual: \"ðŸ”´ Red = Resistance Zone. ðŸŸ¢ Green = Support Zone. SOLID (Tier 1) = Statistical outlier (>1.5Ïƒ). FADED = Normal level. SINGLE BAR = >60% dominance.\",\r\n      signal: \"Trade: At Tier 1 Red zones, look for puts/shorts. At Tier 1 Green zones, look for calls/longs. Fade the move when price touches these levels.\"\r\n    },\r\n    delta: {\r\n      title: \"Delta Exposure\",\r\n      formula: \"Raw CE Delta vs PE Delta\",\r\n      logic: \"Net directional risk at each strike. Shows how much the market moves with (+) or against (-) price movement. Uses raw delta values with dominance filtering.\",\r\n      visual: \"ðŸ”´ Red = Call Delta (bearish-leaning). ðŸŸ¢ Green = Put Delta (bullish-leaning). SINGLE BAR = one side heavily dominant.\",\r\n      signal: \"Trade: High delta levels indicate strong directional bias. If price goes against accumulated delta, expect violent mean reversion.\"\r\n    },\r\n    gamma: {\r\n      title: \"Gamma Exposure\",\r\n      formula: \"Raw CE Gamma vs PE Gamma\",\r\n      logic: \"Acceleration risk. High gamma = price magnet effect. Market makers must hedge aggressively as price approaches, creating pinning behavior.\",\r\n      visual: \"ðŸ”´ Red = Call Gamma. ðŸŸ¢ Green = Put Gamma. Large bars = strong pinning zones.\",\r\n      signal: \"Trade: High gamma strikes act as magnets. Price tends to stick here during expiry. Good for range-bound strategies (Iron Condors).\"\r\n    },\r\n    gex: {\r\n      title: \"Smart Exposure (True Risk)\",\r\n      formula: \"TrueRisk = (OI Ã— |Delta|) + (OI Ã— |Gamma| Ã— Spot Ã— 0.01)\",\r\n      logic: \"Combined Delta + Gamma risk. Delta shows current exposure; Gamma shows acceleration if price moves 1%. This is the 'pain point' where Market Makers are most vulnerable.\",\r\n      visual: \"ðŸ”´ Red = Call-side risk (resistance). ðŸŸ¢ Green = Put-side risk (support). SINGLE BAR = clear one-sided risk.\",\r\n      signal: \"Trade: These are the 'breakout trigger' levels. If price crosses a large GEX bar, expect acceleration as MMs are forced to hedge.\"\r\n    },\r\n    iv_skew: {\r\n      title: \"Smart Skew (OI Weighted)\",\r\n      formula: \"SmartSkew = (CE_IV - PE_IV) Ã— (StrikeOI/MaxOI)\",\r\n      logic: \"Difference between Call IV and Put IV, weighted by liquidity (OI). Removes noise from illiquid strikes. Positive skew = calls more expensive (bearish fear). Negative = puts more expensive (bullish FOMO).\",\r\n      visual: \"ðŸ”´ Red = Call Skew (bearish sentiment). ðŸŸ¢ Green = Put Skew (bullish sentiment). Large bars = high conviction sentiment.\",\r\n      signal: \"Trade: Extreme skew often precedes reversals. Heavy call skew at highs = potential top. Heavy put skew at lows = potential bottom.\"\r\n    },\r\n    pcr: {\r\n      title: \"PCR Sentiment\",\r\n      formula: \"PCR = PE_OI / CE_OI (normalized 0.3-3.0)\",\r\n      logic: \"Put-Call Ratio per strike. >1 = more put writing (support). <1 = more call writing (resistance). Visualizes the bull/bear balance at each level.\",\r\n      visual: \"ðŸ”´ Red = Bearish (PCR < 1, call-heavy). ðŸŸ¢ Green = Bullish (PCR > 1, put-heavy).\",\r\n      signal: \"Trade: Green bars are floors (puts written = support). Red bars are ceilings. Extreme readings often mark exhaustion.\"\r\n    },\r\n    oi_strength: {\r\n      title: \"OI Strength (Position + Momentum)\",\r\n      formula: \"Strength = (OI Ã— |Delta|) + (OI_Change Ã— 2)\",\r\n      logic: \"Combines position size (OI weighted by Delta) with recent momentum (OI Change with 2x multiplier). Highlights 'heavy' strikes with fresh activity.\",\r\n      visual: \"ðŸ”´ Red = Call strength. ðŸŸ¢ Green = Put strength. Large bars = significant positioned + active strikes.\",\r\n      signal: \"Trade: Use for trend confirmation. Increasing strength in trend direction = healthy trend. Divergence = potential reversal.\"\r\n    },\r\n    composite: {\r\n      title: \"Composite Score (Master Index)\",\r\n      formula: \"Score = OI(30%) + OI_Chng(25%) + Vol(20%) + Delta(15%) + Gamma(10%)\",\r\n      logic: \"Weighted combination of all major metrics. OI for positioning, OI Change for flow, Volume for activity, Delta for direction, Gamma for pinning. The 'God View' metric.\",\r\n      visual: \"ðŸ”´ Red = Bearish composite. ðŸŸ¢ Green = Bullish composite. SINGLE BAR = strong consensus. SPLIT = conflicting signals.\",\r\n      signal: \"Trade: Use as final filter. If composite aligns with your trade direction, confidence is higher. Divergence = wait for clarity.\"\r\n    },\r\n    vega: {\r\n      title: \"Vega Exposure\",\r\n      formula: \"VegaExp = OI Ã— |Vega|\",\r\n      logic: \"Sensitivity to volatility changes. High Vega strikes will see large P&L swings when IV changes. Important before events (earnings, expiry).\",\r\n      visual: \"ðŸ”´ Red = Call Vega. ðŸŸ¢ Green = Put Vega. Large bars = high volatility sensitivity.\",\r\n      signal: \"Trade: Avoid buying options at high-vega strikes if you expect IV crush. Sellers can target these for premium decay.\"\r\n    },\r\n    theta: {\r\n      title: \"Theta Decay (Time Burn)\",\r\n      formula: \"ThetaExp = |Theta| Ã— OI\",\r\n      logic: \"Daily premium decay at each strike. Shows where option sellers are harvesting time value. Price often gravitates here to 'burn' premium.\",\r\n      visual: \"ðŸ”´ Red = Call Theta decay. ðŸŸ¢ Green = Put Theta decay. Large bars = heavy time decay zones.\",\r\n      signal: \"Trade: The 'Burn Zone'. Price often drifts toward high-theta areas during low-volatility periods. Good reference for Iron Condors.\"\r\n    },\r\n    delta_oi: {\r\n      title: \"Delta-Weighted OI\",\r\n      formula: \"Î”Ã—OI = OI Ã— |Delta|\",\r\n      logic: \"Position size weighted by probability of being ITM. Higher delta = higher probability. This shows where 'real' money exposure sits.\",\r\n      visual: \"ðŸ”´ Red = Call exposure. ðŸŸ¢ Green = Put exposure. Large bars = significant directional bets.\",\r\n      signal: \"Trade: These are the 'smart money' levels. Large delta-weighted OI indicates institutional positioning.\"\r\n    }\r\n  };\r\n\r\n  // Helper to safely get guide\r\n  const getGuide = (key) => profileGuides[key] || profileGuides.composite;\r\n\r\n  // Memoize profile data processing with advanced combined metrics\r\n  const profileData = useMemo(() => {\r\n    if (!oc || activeProfile === 'none') return null;\r\n\r\n    const strikes = Object.keys(oc);\r\n    let dataPoints = [];\r\n    let totalSum = 0;\r\n    let maxVal = 0;\r\n    let pocStrike = null;\r\n    let maxTotalVal = 0;\r\n\r\n    // First pass: collect raw data for all strikes\r\n    const rawData = strikes.map((strikeStr) => {\r\n      const s = oc[strikeStr];\r\n      const strike = parseFloat(strikeStr);\r\n\r\n      // Extract all available metrics\r\n      const ce = s.ce || {};\r\n      const pe = s.pe || {};\r\n\r\n      return {\r\n        strikeStr,\r\n        strike,\r\n        // OI Data\r\n        ce_oi: ce.OI || ce.oi || 0,\r\n        pe_oi: pe.OI || pe.oi || 0,\r\n        ce_oi_chng: ce.oichng || ce.oi_change || 0,\r\n        pe_oi_chng: pe.oichng || pe.oi_change || 0,\r\n        // Volume\r\n        ce_vol: ce.volume || ce.vol || 0,\r\n        pe_vol: pe.volume || pe.vol || 0,\r\n        // Greeks - check both optgeeks and direct properties\r\n        ce_delta: ce.optgeeks?.delta || ce.delta || 0,\r\n        pe_delta: pe.optgeeks?.delta || pe.delta || 0,\r\n        ce_gamma: ce.optgeeks?.gamma || ce.gamma || 0,\r\n        pe_gamma: pe.optgeeks?.gamma || pe.gamma || 0,\r\n        ce_theta: ce.optgeeks?.theta || ce.theta || 0,\r\n        pe_theta: pe.optgeeks?.theta || pe.theta || 0,\r\n        ce_vega: ce.optgeeks?.vega || ce.vega || 0,\r\n        pe_vega: pe.optgeeks?.vega || pe.vega || 0,\r\n        // IV - check multiple field names\r\n        ce_iv: ce.iv || ce.IV || ce.impliedVolatility || 0,\r\n        pe_iv: pe.iv || pe.IV || pe.impliedVolatility || 0,\r\n        // Price\r\n        ce_ltp: ce.ltp || 0,\r\n        pe_ltp: pe.ltp || 0,\r\n        // Reversal - at strike level, not CE/PE level\r\n        // Use strike-level data (s.reversal) and split between CE (resistance) and PE (support)\r\n        reversal: s.reversal || 0,\r\n        wkly_reversal: s.wkly_reversal || 0,\r\n        fut_reversal: s.fut_reversal || 0,\r\n      };\r\n    });\r\n\r\n    // Helper: Apply Smart Dominance Logic (Winner-Takes-All)\r\n    // -----------------------------------------------------\r\n    const applySmartDominance = (ceRaw, peRaw) => {\r\n      const absCe = Math.abs(ceRaw);\r\n      const absPe = Math.abs(peRaw);\r\n      const total = absCe + absPe;\r\n\r\n      if (total === 0) return { ceVal: 0, peVal: 0, total: 0, opacity: 0.5 };\r\n\r\n      // Dominance Calculation\r\n      const dominanceRatio = Math.max(absCe, absPe) / total;\r\n      const isDominant = dominanceRatio > 0.60;\r\n\r\n      // If Dominant: WINNER takes TOTAL visual weight, loser hidden\r\n      // If Conflict: Show unmodified split\r\n      let ceDisplay = absCe;\r\n      let peDisplay = absPe;\r\n\r\n      if (isDominant) {\r\n        if (absCe > absPe) {\r\n          ceDisplay = total; // Winner looks \"Full Strength\"\r\n          peDisplay = 0;     // Loser hidden\r\n        } else {\r\n          ceDisplay = 0;\r\n          peDisplay = total;\r\n        }\r\n      }\r\n\r\n      // Opacity: Dominant signals are brighter (0.85), Contested are dimmer (0.5)\r\n      // This replaces the \"Tier 1\" logic for standard profiles since we lack global stats for them\r\n      const opacity = isDominant ? 0.9 : 0.5;\r\n\r\n      return { ceVal: ceDisplay, peVal: peDisplay, total, opacity };\r\n    };\r\n\r\n    // Calculate spot price from ATM (where straddle is cheapest)\r\n    const spotApprox = price || Math.min(...rawData.map(r => r.ce_ltp + r.pe_ltp)) > 0\r\n      ? rawData.reduce((best, r) => (r.ce_ltp + r.pe_ltp) < (best?.ce_ltp + best?.pe_ltp) && (r.ce_ltp + r.pe_ltp) > 0 ? r : best, rawData[0])?.strike\r\n      : null;\r\n\r\n    // Calculate Global Stats for Smart Weighting (Precision Math)\r\n    const maxVol = Math.max(...rawData.map(r => Math.max(r.ce_vol, r.pe_vol, 1)));\r\n    const avgIv = rawData.reduce((acc, r) => acc + r.ce_iv + r.pe_iv, 0) / (rawData.length * 2 || 1);\r\n    const safeAvgIv = avgIv > 0 ? avgIv : 1;\r\n    const spotPriceForCalc = price || 0;\r\n\r\n    // Process based on profile type\r\n    rawData.forEach((r) => {\r\n      let ceVal = 0, peVal = 0;\r\n      let total = 0;\r\n      let singleVal = null; // For profiles that show a single combined value\r\n\r\n      switch (activeProfile) {\r\n        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n        // SMART PROFILES (PRECISION MATH UPGRADE)\r\n        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n        case 'oi': {\r\n          // Smart OI: Weight by Active Volume (Liquidity)\r\n          // Logic: OI * (1 + (Vol / MaxVol)) -> Boost active strikes, dim \"ghost\" positions\r\n          const ceSmartOi = r.ce_oi * (1 + (r.ce_vol / maxVol));\r\n          const peSmartOi = r.pe_oi * (1 + (r.pe_vol / maxVol));\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(ceSmartOi, peSmartOi));\r\n          break;\r\n        }\r\n\r\n        case 'volume': {\r\n          // Smart Volume: Weight by IV (Conviction)\r\n          // Logic: Vol * (IV / AvgIV) -> Boost high-conviction bets (Fear/Greed)\r\n          const ceSmartVol = r.ce_vol * (r.ce_iv / safeAvgIv);\r\n          const peSmartVol = r.pe_vol * (r.pe_iv / safeAvgIv);\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(ceSmartVol, peSmartVol));\r\n          break;\r\n        }\r\n\r\n        case 'oi_change': {\r\n          // Smart Flow: Weight by Volume -> High Vol moves are \"Real Flow\"\r\n          // We must handle Negative values (Unwinding) carefully.\r\n          // 1. Calculate weighted flow\r\n          const ceSmartFlow = r.ce_oi_chng * (1 + (r.ce_vol / maxVol));\r\n          const peSmartFlow = r.pe_oi_chng * (1 + (r.pe_vol / maxVol));\r\n\r\n          // 2. Get Dominance visuals based on MAGNITUDE\r\n          const { ceVal: ceD, peVal: peD, total: tD, opacity: oD } = applySmartDominance(Math.abs(ceSmartFlow), Math.abs(peSmartFlow));\r\n\r\n          // 3. Restore signs for visualization (Unwinding borders)\r\n          ceVal = ceSmartFlow < 0 ? -ceD : ceD;\r\n          peVal = peSmartFlow < 0 ? -peD : peD;\r\n          total = tD;\r\n          r.opacity = oD;\r\n          break;\r\n        }\r\n\r\n        case 'delta': {\r\n          // Use raw delta for standard profile, but heavily dominated\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(r.ce_delta, r.pe_delta));\r\n          break;\r\n        }\r\n\r\n        case 'gamma': {\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(r.ce_gamma, r.pe_gamma));\r\n          break;\r\n        }\r\n\r\n        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n        // ADVANCED COMBINED PROFILES\r\n        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n\r\n        // Smart Exposure (Gamma-Adjusted Delta Risk)\r\n        // Replaces standard GEX with \"True Risk\" view\r\n        case 'gex': {\r\n          // Formula: (OI * Delta) + (OI * Gamma * Spot * 0.01)\r\n          // This captures both the current directional risk (Delta) AND the acceleration risk (Gamma)\r\n          // Normalized to comparable scales\r\n          const ceRisk = (r.ce_oi * Math.abs(r.ce_delta)) + (r.ce_oi * Math.abs(r.ce_gamma) * spotPriceForCalc * 0.01);\r\n          const peRisk = (r.pe_oi * Math.abs(r.pe_delta)) + (r.pe_oi * Math.abs(r.pe_gamma) * spotPriceForCalc * 0.01);\r\n\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(ceRisk, peRisk));\r\n          singleVal = ceRisk - peRisk; // Net Risk\r\n          break;\r\n        }\r\n\r\n        // Delta-Weighted OI\r\n        case 'delta_oi': {\r\n          const ceDOI = r.ce_oi * Math.abs(r.ce_delta);\r\n          const peDOI = r.pe_oi * Math.abs(r.pe_delta);\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(ceDOI, peDOI));\r\n          break;\r\n        }\r\n\r\n        // IV Skew = CE IV - PE IV (Weighted by OI)\r\n        // Smart Skew: Only show skew on LIQUID strikes (Weight by OI)\r\n        case 'iv_skew': {\r\n          const totalOi = r.ce_oi + r.pe_oi;\r\n          const maxTotalOi = Math.max(...rawData.map(x => x.ce_oi + x.pe_oi)) || 1;\r\n          const oiWeight = totalOi / maxTotalOi;\r\n\r\n          const rawSkew = r.ce_iv - r.pe_iv;\r\n          const smartSkew = rawSkew * oiWeight; // Filter noise on illiquid strikes\r\n\r\n          const ceSkewComp = smartSkew > 0 ? smartSkew : 0;\r\n          const peSkewComp = smartSkew < 0 ? Math.abs(smartSkew) : 0;\r\n\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(ceSkewComp, peSkewComp));\r\n          singleVal = smartSkew;\r\n          break;\r\n        }\r\n\r\n        case 'pcr': {\r\n          const pcr = r.ce_oi > 0 ? r.pe_oi / r.ce_oi : 0;\r\n          const pcrNorm = Math.min(Math.max(pcr, 0.3), 3);\r\n          const cePcr = pcrNorm < 1 ? (1 - pcrNorm) : 0;\r\n          const pePcr = pcrNorm > 1 ? (pcrNorm - 1) : 0;\r\n\r\n          // Apply dominance to the visualized bars\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(cePcr, pePcr));\r\n          singleVal = pcr;\r\n          break;\r\n        }\r\n\r\n        // OI Strength = (OI Ã— |Delta|) + (OI_Chng Ã— Multiplier)\r\n        // Combines position size with recent activity\r\n        // OI Strength\r\n        case 'oi_strength': {\r\n          const ceStrength = (r.ce_oi * Math.abs(r.ce_delta)) + (r.ce_oi_chng * 2);\r\n          const peStrength = (r.pe_oi * Math.abs(r.pe_delta)) + (r.pe_oi_chng * 2);\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(Math.max(0, ceStrength), Math.max(0, peStrength)));\r\n          break;\r\n        }\r\n\r\n        // Composite\r\n        case 'composite': {\r\n          const normCeOi = r.ce_oi;\r\n          const normPeOi = r.pe_oi;\r\n          const normCeChng = Math.abs(r.ce_oi_chng);\r\n          const normPeChng = Math.abs(r.pe_oi_chng);\r\n          const normCeVol = r.ce_vol;\r\n          const normPeVol = r.pe_vol;\r\n          const normCeDelta = Math.abs(r.ce_delta) * 100;\r\n          const normPeDelta = Math.abs(r.pe_delta) * 100;\r\n          const normCeGamma = r.ce_gamma * 10000;\r\n          const normPeGamma = r.pe_gamma * 10000;\r\n\r\n          const valCeC = (normCeOi * 0.30) + (normCeChng * 0.25) + (normCeVol * 0.20) + (normCeDelta * 0.15) + (normCeGamma * 0.10);\r\n          const valPeC = (normPeOi * 0.30) + (normPeChng * 0.25) + (normPeVol * 0.20) + (normPeDelta * 0.15) + (normPeGamma * 0.10);\r\n\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(valCeC, valPeC));\r\n          break;\r\n        }\r\n\r\n        // Reversal Zones = Support/Resistance Strength Scores plotted at DYNAMIC levels\r\n        // CLUSTERED to reduce noise\r\n        case 'reversal': {\r\n          // 1. Collect ALL independent reversal levels first\r\n          // We need a temporary collection because clustering happens across ALL strikes, not just per-strike loop\r\n          // But here we are inside the map loop (iterating strikes). \r\n          // ! wait, we are inside `rawData.map`. We can't cluster efficiently here.\r\n          // Correct approach:\r\n          // The current arch loops `rawData` (which is per strike) and pushes to `dataPoints`.\r\n          // To cluster properly, we should:\r\n          // A. Collect levels in this loop.\r\n          // B. AFTER the loop, process the collection to cluster and push to `dataPoints`.\r\n          //\r\n          // HOWEVER, refactoring the outer `profileData` calculation structure is risky/large.\r\n          // ALTERNATIVE:\r\n          // Push \"raw\" reversal points to `dataPoints` with a special flag, \r\n          // then add a POST-PROCESSING step before returning `profileData`.\r\n          //\r\n          // Let's modify the plan:\r\n          // 1. In this loop, push ALL raw reversal points as usual (using the logic I just wrote).\r\n          // 2. Add a post-processing block after the `rawData.forEach` loop to CLUSTER the `dataPoints` if activeProfile == 'reversal'.\r\n\r\n          // Advanced Strength Scoring:\r\n          // 1. Base: OI (70%) + Volume (30%)\r\n          // 2. Multipliers: Gamma (Hedging Pressure) & IV (Risk/Fear)\r\n\r\n          // Gamma Multiplier: High Gamma (>0.01) implies pinning/reversal pressure\r\n          // Scaling: 1 + (Gamma * 50). e.g., 0.02 * 50 = 1.0 -> 2.0x boost\r\n          const ceGammaMult = 1 + (Math.abs(r.ce_gamma || 0) * 50);\r\n          const peGammaMult = 1 + (Math.abs(r.pe_gamma || 0) * 50);\r\n\r\n          // IV Multiplier: High IV (>20%) implies market pays premium for this level\r\n          // Scaling: 1 + (IV / 100). e.g., 30% IV -> 1.3x boost\r\n          const ceIvMult = 1 + ((r.ce_iv || 0) / 100);\r\n          const peIvMult = 1 + ((r.pe_iv || 0) / 100);\r\n\r\n          const ceStrength = ((r.ce_oi * 0.7) + (r.ce_vol * 0.3)) * ceGammaMult * ceIvMult;\r\n          const peStrength = ((r.pe_oi * 0.7) + (r.pe_vol * 0.3)) * peGammaMult * peIvMult;\r\n\r\n          // Collect valid reversal levels for this strike (Use formatted values)\r\n          const levels = [\r\n            { val: parseFloat(r.reversal), label: 'Intraday' },\r\n            { val: parseFloat(r.wkly_reversal), label: 'Weekly' },\r\n            { val: parseFloat(r.fut_reversal), label: 'Future' }\r\n          ].filter(l => l.val && l.val > 0 && !isNaN(l.val));\r\n\r\n          levels.forEach(l => {\r\n            // Determine raw type (Support/Res) just for initial strength assignment\r\n            // but store BOTH strengths for dominance calculation later\r\n            const isResistance = spotApprox ? l.val > spotApprox : l.val > r.strike;\r\n            const strength = isResistance ? ceStrength : peStrength; // This is just for the \"total\" used in other places, but we need components\r\n\r\n            dataPoints.push({\r\n              strike: l.val,\r\n              total: strength,\r\n              ceVal: isResistance ? strength : 0,\r\n              peVal: isResistance ? 0 : strength,\r\n              singleVal: strength,\r\n\r\n              // Store raw components for Dominance Logic\r\n              rawCeStrength: ceStrength,\r\n              rawPeStrength: peStrength,\r\n              isResistanceRaw: isResistance, // Keep this for reference but use dominance later\r\n\r\n              isRawReversal: true, // Flag for post-processing\r\n              reversalType: l.label,\r\n              metrics: { gamma: isResistance ? r.ce_gamma : r.pe_gamma, iv: isResistance ? r.ce_iv : r.pe_iv }\r\n            });\r\n          });\r\n\r\n          return; // Skip default push\r\n        }\r\n\r\n        // Vega Exposure (Smart: Weighted by IV?) -> Maybe raw is fine, just dominance\r\n        case 'vega':\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(r.ce_oi * Math.abs(r.ce_vega), r.pe_oi * Math.abs(r.pe_vega)));\r\n          break;\r\n\r\n        // Theta Decay\r\n        case 'theta':\r\n          ({ ceVal, peVal, total, opacity: r.opacity } = applySmartDominance(Math.abs(r.ce_theta * r.ce_oi), Math.abs(r.pe_theta * r.pe_oi)));\r\n          break;\r\n\r\n        default:\r\n          return;\r\n      }\r\n\r\n      const maxSideVal = Math.max(Math.abs(ceVal), Math.abs(peVal));\r\n      maxVal = Math.max(maxVal, maxSideVal);\r\n      totalSum += total;\r\n\r\n      if (total > maxTotalVal) {\r\n        maxTotalVal = total;\r\n        pocStrike = r.strikeStr;\r\n      }\r\n\r\n      dataPoints.push({\r\n        strike: r.strikeStr,\r\n        total,\r\n        ceVal,\r\n        peVal,\r\n        singleVal, // For profiles that show net value\r\n        raw: r, // Keep raw data for tooltips\r\n        opacity: r.opacity // Propagate opacity to dataPoint\r\n      });\r\n    });\r\n\r\n    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n    // POST-PROCESSING: CLUSTERING FOR REVERSAL PROFILE (Noise Reduction)\r\n    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n    if (activeProfile === 'reversal' && dataPoints.length > 0) {\r\n      // 1. Sort points by price\r\n      dataPoints.sort((a, b) => a.strike - b.strike);\r\n\r\n      const clusters = [];\r\n      // Threshold: 0.1% of price (e.g. ~25 pts for Nifty 25000)\r\n      const refPrice = spotApprox || dataPoints[0].strike;\r\n      const threshold = refPrice * 0.001;\r\n\r\n      let currentCluster = null;\r\n\r\n      dataPoints.forEach(p => {\r\n        if (!currentCluster) {\r\n          // Initialize cluster with dominance components\r\n          // USE RAW STRENGTHS to avoid bias from potentially incorrect Spot Price checks earlier\r\n          currentCluster = {\r\n            totalStrength: p.total,\r\n            ceSum: p.rawCeStrength || p.ceVal, // Fallback for safety\r\n            peSum: p.rawPeStrength || p.peVal,\r\n            weightedSum: p.strike * p.total,\r\n            points: [p]\r\n          };\r\n        } else {\r\n          // Compare against cluster's current weighted center\r\n          const currentAvg = currentCluster.weightedSum / currentCluster.totalStrength;\r\n\r\n          if (Math.abs(p.strike - currentAvg) < threshold) {\r\n            // Merge into cluster\r\n            currentCluster.totalStrength += p.total;\r\n            currentCluster.ceSum += (p.rawCeStrength || p.ceVal);\r\n            currentCluster.peSum += (p.rawPeStrength || p.peVal);\r\n            currentCluster.weightedSum += (p.strike * p.total);\r\n            currentCluster.points.push(p);\r\n          } else {\r\n            // Finalize old cluster\r\n            clusters.push(currentCluster);\r\n            // Start new\r\n            currentCluster = {\r\n              totalStrength: p.total,\r\n              ceSum: p.rawCeStrength || p.ceVal,\r\n              peSum: p.rawPeStrength || p.peVal,\r\n              weightedSum: p.strike * p.total,\r\n              points: [p]\r\n            };\r\n          }\r\n        }\r\n      });\r\n      if (currentCluster) clusters.push(currentCluster);\r\n\r\n      // Filter clusters to reduce noise (Smart Filtering)\r\n      if (clusters.length > 0) {\r\n        // Statistical Analysis for Auto-Detection (Smart Brain)\r\n        const strengths = clusters.map(c => c.totalStrength);\r\n        const maxClusterStrength = Math.max(...strengths);\r\n        const mean = strengths.reduce((a, b) => a + b, 0) / strengths.length;\r\n        const variance = strengths.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / strengths.length;\r\n        const stdDev = Math.sqrt(variance);\r\n\r\n        // Dynamic Threshold: Auto-detect noise floor\r\n        // Use Backend Meta if available and Auto-Pilot is ON\r\n        const meta = optionsData?.meta;\r\n        let dynamicThreshold;\r\n\r\n        if (isAutoPilot && meta?.recommended_threshold) {\r\n          dynamicThreshold = meta.recommended_threshold;\r\n        } else {\r\n          // Fallback to local statistical heuristic\r\n          dynamicThreshold = Math.max(maxClusterStrength * 0.05, mean * 0.5);\r\n        }\r\n\r\n        const relevantClusters = clusters.filter(c => c.totalStrength > dynamicThreshold);\r\n\r\n        // 2. Convert filtered clusters to final dataPoints\r\n        // Color Logic Fix: Ensure strict comparison against a VALID spot price\r\n        const _validSpot = (spotApprox && spotApprox > 100) ? spotApprox : (dataPoints[0].strike);\r\n\r\n        dataPoints = relevantClusters.map(c => {\r\n          const finalPrice = c.weightedSum / c.totalStrength;\r\n\r\n          // Dominance Check\r\n          const isResistance = c.ceSum >= c.peSum;\r\n          const dominanceRatio = Math.max(c.ceSum, c.peSum) / c.totalStrength;\r\n          const isDominant = dominanceRatio > 0.60; // 60% majority required to hide the \"noise\"\r\n\r\n          // Confidence Tier Calculation\r\n          // Tier 1 (Super Key): > Backend Noise Floor AND High Dominance\r\n          // Tier 2 (Tradeable): > Threshold\r\n          let isTier1;\r\n          if (isAutoPilot && meta?.std_dev) {\r\n            isTier1 = c.totalStrength > (meta.noise_floor + (2.0 * meta.std_dev));\r\n          } else {\r\n            isTier1 = c.totalStrength > (mean + (1.5 * stdDev)) || c.totalStrength > (maxClusterStrength * 0.8);\r\n          }\r\n\r\n          // Boost Tier 1 requirement: Must be DOMINANT to be Tier 1 (Reduce Fear/FOMO)\r\n          if (!isDominant) isTier1 = false;\r\n\r\n          // Visual Confidence:\r\n          // Tier 1: Full Brightness (1.0)\r\n          const tierOpacity = isTier1 ? 1.0 : (isDominant ? 0.65 : 0.40); // Dim \"War Zones\" further\r\n\r\n          return {\r\n            strike: finalPrice,\r\n            total: c.totalStrength,\r\n            // DOMINANCE LOGIC: \r\n            // If Dominant (>60%), HIDE the loser (Show \"Strong\" single bar).\r\n            // If Contested (<=60%), SHOW BOTH (Split Bar = \"War Zone\").\r\n            ceVal: isDominant ? (isResistance ? c.totalStrength : 0) : c.ceSum,\r\n            peVal: isDominant ? (!isResistance ? c.totalStrength : 0) : c.peSum,\r\n\r\n            singleVal: c.totalStrength,\r\n            isCluster: true,\r\n            clusterCount: c.points.length,\r\n            confidenceTier: isTier1 ? 1 : 2,\r\n            opacity: tierOpacity,\r\n            isDominant: isDominant // Flag for drawing\r\n          };\r\n        });\r\n      } else {\r\n        dataPoints = [];\r\n      }\r\n\r\n      // 3. Recalculate Stats for Scaling\r\n      if (dataPoints.length > 0) {\r\n        maxVal = Math.max(...dataPoints.map(d => d.total));\r\n        totalSum = dataPoints.reduce((acc, d) => acc + d.total, 0);\r\n        // Find POC of clustered data\r\n        const pocPoint = dataPoints.reduce((best, d) => d.total > best.total ? d : best, dataPoints[0]);\r\n        pocStrike = pocPoint.strike.toString();\r\n        maxTotalVal = pocPoint.total;\r\n      }\r\n    }\r\n\r\n    if (maxVal === 0) return null;\r\n\r\n    // Value Area Calculation (70% of volume)\r\n    const sortedByVal = [...dataPoints].sort((a, b) => b.total - a.total);\r\n    const vaThreshold = totalSum * 0.70;\r\n    let currentSum = 0;\r\n    const vaStrikes = new Set();\r\n\r\n    for (const p of sortedByVal) {\r\n      currentSum += p.total;\r\n      vaStrikes.add(p.strike);\r\n      if (currentSum >= vaThreshold) break;\r\n    }\r\n\r\n    // Profile metadata for rendering\r\n    const profileMeta = {\r\n      oi: { name: 'Smart OI (Liquidity)', ceLabel: 'CE Liq', peLabel: 'PE Liq' },\r\n      volume: { name: 'Smart Volume (Conviction)', ceLabel: 'CE Conv', peLabel: 'PE Conv' },\r\n      oi_change: { name: 'Smart Flow (Vol. Wgt)', ceLabel: 'CE Flow', peLabel: 'PE Flow', showSign: true },\r\n      delta: { name: 'Delta', ceLabel: 'CE Î”', peLabel: 'PE Î”' },\r\n      gamma: { name: 'Gamma', ceLabel: 'CE Î“', peLabel: 'PE Î“' },\r\n      gex: { name: 'Smart Exposure (Risk)', ceLabel: 'CE Risk', peLabel: 'PE Risk', showNet: true },\r\n      delta_oi: { name: 'Delta-Weighted OI', ceLabel: 'CE Î”Ã—OI', peLabel: 'PE Î”Ã—OI' },\r\n      iv_skew: { name: 'Smart Skew (OI Wgt)', ceLabel: 'CE IVâ†‘', peLabel: 'PE IVâ†‘', showNet: true },\r\n      pcr: { name: 'PCR Sentiment', ceLabel: 'Bearish', peLabel: 'Bullish', showRatio: true },\r\n      oi_strength: { name: 'OI Strength', ceLabel: 'CE Str', peLabel: 'PE Str' },\r\n      composite: { name: 'Composite', ceLabel: 'CE Score', peLabel: 'PE Score' },\r\n      reversal: { name: 'Reversal Zones', ceLabel: 'Resist. Str', peLabel: 'Support Str' },\r\n      vega: { name: 'Vega Exposure', ceLabel: 'CE Vega', peLabel: 'PE Vega' },\r\n      theta: { name: 'Theta Decay', ceLabel: 'CE Î˜', peLabel: 'PE Î˜' },\r\n    };\r\n\r\n    return { dataPoints, maxVal, pocStrike, vaStrikes, meta: profileMeta[activeProfile] };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [oc, activeProfile, price]);\r\n\r\n  // Canvas Overlay Logic (Profiles) - Optimized\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas || !chartRef.current || !candleSeriesRef.current || !profileData) {\r\n      if (canvas) {\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const ctx = canvas.getContext('2d', { alpha: true });\r\n    const series = candleSeriesRef.current;\r\n    const { dataPoints, maxVal, pocStrike, vaStrikes } = profileData;\r\n\r\n    // Throttle flag to prevent overdraw\r\n    let animationFrameId = null;\r\n    let lastDrawTime = 0;\r\n    const MIN_DRAW_INTERVAL = 16; // ~60fps cap\r\n\r\n    const draw = (timestamp) => {\r\n      // Throttle draws to prevent performance issues\r\n      if (timestamp - lastDrawTime < MIN_DRAW_INTERVAL) {\r\n        animationFrameId = requestAnimationFrame(draw);\r\n        return;\r\n      }\r\n      lastDrawTime = timestamp;\r\n\r\n      if (!canvas || !series) return;\r\n\r\n      const rect = canvas.parentElement.getBoundingClientRect();\r\n      const dpr = window.devicePixelRatio || 1;\r\n\r\n      // Only resize if needed\r\n      const targetWidth = Math.floor(rect.width * dpr);\r\n      const targetHeight = Math.floor(rect.height * dpr);\r\n\r\n      if (canvas.width !== targetWidth || canvas.height !== targetHeight) {\r\n        canvas.width = targetWidth;\r\n        canvas.height = targetHeight;\r\n        canvas.style.width = `${rect.width}px`;\r\n        canvas.style.height = `${rect.height}px`;\r\n      }\r\n\r\n      // Reset transform and clear\r\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\r\n      ctx.clearRect(0, 0, rect.width, rect.height);\r\n\r\n      // Professional styling\r\n      const rightPadding = 65;\r\n      const startX = rect.width - rightPadding;\r\n      const maxBarWidth = (rect.width - rightPadding) * 0.40;\r\n      const barHeight = 5;\r\n      const barGap = 1;\r\n\r\n      // Colors - CE Red, PE Green (swapped per user request)\r\n      const ceColor = { r: 239, g: 68, b: 68 };   // Red-500 for CE\r\n      const peColor = { r: 34, g: 197, b: 94 };   // Green-500 for PE\r\n      const pocColor = '#FACC15';\r\n\r\n      // Batch similar operations for performance\r\n      ctx.lineCap = 'round';\r\n      ctx.lineJoin = 'round';\r\n\r\n      // Pre-calculate all coordinates\r\n      // Pre-calculate all coordinates\r\n      const bars = [];\r\n      dataPoints.forEach((p) => {\r\n        const strike = parseFloat(p.strike);\r\n        const y = series.priceToCoordinate(strike);\r\n        if (y === null || y < 0 || y > rect.height) return;\r\n\r\n        const isVA = vaStrikes.has(p.strike);\r\n        const isPOC = p.strike === pocStrike;\r\n\r\n        const ceWidth = (Math.abs(p.ceVal) / maxVal) * maxBarWidth;\r\n        const peWidth = (Math.abs(p.peVal) / maxVal) * maxBarWidth;\r\n\r\n        bars.push({\r\n          y, ceWidth, peWidth, isVA, isPOC,\r\n          ceUnwinding: activeProfile === 'oi_change' && p.ceVal < 0,\r\n          peUnwinding: activeProfile === 'oi_change' && p.peVal < 0,\r\n          customColor: p.color,\r\n          opacity: p.opacity // Pass opacity to drawing loop\r\n        });\r\n      });\r\n\r\n      // Draw all bars in batches for better performance\r\n      // First pass: Draw all fills\r\n      bars.forEach(({ y, ceWidth, peWidth, isVA, ceUnwinding, peUnwinding, customColor, opacity: pOpacity }) => {\r\n        const baseOpacity = isVA ? 0.6 : 0.25;\r\n        // If point has custom opacity (reversal), use it. Otherwise use calculated baseOpacity.\r\n        // We attach p.opacity to the bar object in the previous loop mapped as 'opacity'\r\n        // Accessing it here as 'p.opacity' via the object or destructuring.\r\n        // Wait, destructuring above needs to match.\r\n        // let's use the object directly or alias it.\r\n        const p = { opacity: pOpacity }; // simplistic shim for the logic below\r\n\r\n        // CE Bar (Red / Custom) - Above strike line\r\n        if (ceWidth > 0.5) {\r\n          // Use custom opacity if provided (Reversal Profile), else default baseOpacity\r\n          const op = p.opacity || baseOpacity;\r\n\r\n          if (customColor) {\r\n            ctx.fillStyle = customColor;\r\n          } else if (ceUnwinding) {\r\n            ctx.fillStyle = `rgba(${ceColor.r}, ${ceColor.g}, ${ceColor.b}, ${op * 0.4})`;\r\n          } else {\r\n            // Gradient for professional look\r\n            const gradient = ctx.createLinearGradient(startX - ceWidth, 0, startX, 0);\r\n            gradient.addColorStop(0, `rgba(${ceColor.r}, ${ceColor.g}, ${ceColor.b}, ${op * 0.3})`);\r\n            gradient.addColorStop(1, `rgba(${ceColor.r}, ${ceColor.g}, ${ceColor.b}, ${op})`);\r\n            ctx.fillStyle = gradient;\r\n          }\r\n          ctx.beginPath();\r\n          ctx.roundRect(startX - ceWidth, y - barHeight - barGap, ceWidth, barHeight, 2);\r\n          ctx.fill();\r\n        }\r\n\r\n        // PE Bar (Green / Custom) - Below strike line\r\n        if (peWidth > 0.5) {\r\n          // Use custom opacity if provided (Reversal Profile), else default baseOpacity\r\n          const op = p.opacity || baseOpacity;\r\n\r\n          if (customColor) {\r\n            ctx.fillStyle = customColor;\r\n          } else if (peUnwinding) {\r\n            ctx.fillStyle = `rgba(${peColor.r}, ${peColor.g}, ${peColor.b}, ${op * 0.4})`;\r\n          } else {\r\n            const gradient = ctx.createLinearGradient(startX - peWidth, 0, startX, 0);\r\n            gradient.addColorStop(0, `rgba(${peColor.r}, ${peColor.g}, ${peColor.b}, ${op * 0.3})`);\r\n            gradient.addColorStop(1, `rgba(${peColor.r}, ${peColor.g}, ${peColor.b}, ${op})`);\r\n            ctx.fillStyle = gradient;\r\n          }\r\n          ctx.beginPath();\r\n          ctx.roundRect(startX - peWidth, y + barGap, peWidth, barHeight, 2);\r\n          ctx.fill();\r\n        }\r\n      });\r\n\r\n      // Second pass: Draw unwinding borders\r\n      ctx.lineWidth = 1;\r\n      bars.forEach(({ y, ceWidth, peWidth, isVA, ceUnwinding, peUnwinding }) => {\r\n        const lineOpacity = isVA ? 0.8 : 0.4;\r\n\r\n        if (ceUnwinding && ceWidth > 0.5) {\r\n          ctx.strokeStyle = `rgba(${ceColor.r}, ${ceColor.g}, ${ceColor.b}, ${lineOpacity})`;\r\n          ctx.beginPath();\r\n          ctx.roundRect(startX - ceWidth, y - barHeight - barGap, ceWidth, barHeight, 2);\r\n          ctx.stroke();\r\n        }\r\n\r\n        if (peUnwinding && peWidth > 0.5) {\r\n          ctx.strokeStyle = `rgba(${peColor.r}, ${peColor.g}, ${peColor.b}, ${lineOpacity})`;\r\n          ctx.beginPath();\r\n          ctx.roundRect(startX - peWidth, y + barGap, peWidth, barHeight, 2);\r\n          ctx.stroke();\r\n        }\r\n      });\r\n\r\n      // Third pass: POC highlight with glow effect\r\n      ctx.lineWidth = 2;\r\n      ctx.strokeStyle = pocColor;\r\n      ctx.shadowColor = pocColor;\r\n      ctx.shadowBlur = 6;\r\n\r\n      bars.filter(b => b.isPOC).forEach(({ y, ceWidth, peWidth }) => {\r\n        // POC indicator line\r\n        ctx.beginPath();\r\n        ctx.moveTo(startX - Math.max(ceWidth, peWidth) - 10, y);\r\n        ctx.lineTo(startX + 5, y);\r\n        ctx.stroke();\r\n\r\n        // POC label\r\n        ctx.shadowBlur = 0;\r\n        ctx.font = 'bold 10px Inter, system-ui, sans-serif';\r\n        ctx.fillStyle = pocColor;\r\n        ctx.textAlign = 'right';\r\n        ctx.fillText('POC', startX - Math.max(ceWidth, peWidth) - 14, y + 3);\r\n      });\r\n\r\n      ctx.shadowBlur = 0;\r\n    };\r\n\r\n    // Initial draw with animation frame\r\n    const startDraw = () => {\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    };\r\n\r\n    startDraw();\r\n\r\n    // Subscribe to chart changes with throttling\r\n    const chart = chartRef.current;\r\n    const timeScale = chart.timeScale();\r\n\r\n    const handleVisibleRangeChange = throttle(() => {\r\n      if (animationFrameId) cancelAnimationFrame(animationFrameId);\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    }, 32); // ~30fps for scroll events\r\n\r\n    timeScale.subscribeVisibleLogicalRangeChange(handleVisibleRangeChange);\r\n\r\n    // ResizeObserver with debounce\r\n    const resizeObserver = new ResizeObserver(\r\n      debounce(() => {\r\n        if (animationFrameId) cancelAnimationFrame(animationFrameId);\r\n        animationFrameId = requestAnimationFrame(draw);\r\n      }, 100)\r\n    );\r\n\r\n    if (canvas.parentElement) {\r\n      resizeObserver.observe(canvas.parentElement);\r\n    }\r\n\r\n    return () => {\r\n      if (animationFrameId) cancelAnimationFrame(animationFrameId);\r\n      timeScale.unsubscribeVisibleLogicalRangeChange(handleVisibleRangeChange);\r\n      resizeObserver.disconnect();\r\n    };\r\n\r\n  }, [profileData, activeProfile]);\r\n\r\n  // Drawing Tool Logic\r\n  useEffect(() => {\r\n    if (!chartRef.current || !candleSeriesRef.current) return;\r\n    const chart = chartRef.current;\r\n\r\n    const handleClick = (param) => {\r\n      if (drawingMode !== 'hline' || !param.point) return;\r\n      const series = candleSeriesRef.current; // access ref again or closure? Closure is fine but series ref is safer\r\n      const price = series.coordinateToPrice(param.point.y);\r\n\r\n      if (price !== null) {\r\n        const line = series.createPriceLine({\r\n          price: price,\r\n          color: theme === 'dark' ? '#60a5fa' : '#2563eb',\r\n          lineWidth: 2,\r\n          lineStyle: LineStyle.Solid,\r\n          axisLabelVisible: true,\r\n          title: 'Level',\r\n          draggable: true,\r\n        });\r\n        setUserLines(prev => [...prev, line]);\r\n      }\r\n    };\r\n    chart.subscribeClick(handleClick);\r\n    return () => { chart.unsubscribeClick(handleClick); };\r\n\r\n  }, [drawingMode, theme]);\r\n\r\n  return (\r\n    <div className={`${embedded ? 'h-full' : 'h-screen'} font-sans flex flex-col relative ${themeClasses.container} ${isFullscreen ? 'fixed inset-0 z-50 bg-inherit' : ''}`}>\r\n      {/* OHLC Display */}\r\n      <div className={`absolute ${embedded ? 'top-12' : 'top-20'} left-4 z-10 px-3 py-1 rounded-md shadow-sm border text-xs flex flex-wrap items-center gap-x-3 gap-y-1 ${theme === \"dark\" ? \"bg-gray-800/90 border-gray-700 text-gray-300\" : \"bg-white/90 border-gray-200 text-gray-700\"\r\n        }`}>\r\n        <span className=\"font-semibold\">{currentSymbol?.symbol || \"Loading...\"} ({timeframes.find((tf) => tf.value === timeframe)?.label || timeframe})</span>\r\n        {livePrice && <span className={`font-semibold ${theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}`}>{livePrice.toFixed(2)}</span>}\r\n        <span>O: <span className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>{ohlcData.open}</span></span>\r\n        <span>H: <span className={theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}>{ohlcData.high}</span></span>\r\n        <span>L: <span className={theme === \"dark\" ? \"text-red-400\" : \"text-red-600\"}>{ohlcData.low}</span></span>\r\n        <span>C: <span className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>{ohlcData.close}</span></span>\r\n        {ohlcData.time && <span className=\"text-[10px] opacity-70 ml-1\">({ohlcData.time} IST)</span>}\r\n      </div>\r\n\r\n      {/* Custom Timeframe Modal: Code skipped for brevity, keeping existing structure */}\r\n      {showCustomTimeframe && (\r\n        <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20\">\r\n          <div className={`p-6 rounded-lg border ${themeClasses.modal}`}>\r\n            <h3 className=\"text-lg font-semibold mb-4\">Custom Timeframe</h3>\r\n            <div className=\"flex gap-2 mb-4\">\r\n              <input type=\"number\" placeholder=\"Enter minutes\" value={customInterval} onChange={(e) => setCustomInterval(e.target.value)}\r\n                className={`px-3 py-2 rounded border focus:outline-none focus:ring-2 focus:ring-blue-500 ${themeClasses.input}`} />\r\n              <span className={`self-center ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>minutes</span>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <button onClick={handleCustomTimeframe} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors\">Apply</button>\r\n              <button onClick={() => { setShowCustomTimeframe(false); setCustomInterval(\"\"); }} className={`px-4 py-2 rounded transition-colors ${theme === \"dark\" ? \"bg-gray-600 text-white hover:bg-gray-700\" : \"bg-gray-300 text-gray-700 hover:bg-gray-400\"}`}>Cancel</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Professional Compact Toolbar */}\r\n      <div className={`relative z-[100] flex items-center gap-1.5 px-2 py-1.5 border-b backdrop-blur-sm ${theme === 'dark'\r\n        ? 'bg-gray-900/95 border-gray-800'\r\n        : 'bg-white/95 border-gray-200'\r\n        }`}>\r\n\r\n        {/* Symbol & Price */}\r\n        {!embedded && (\r\n          <div className=\"flex items-center gap-2 pr-2 border-r border-gray-700/30\">\r\n            <SymbolSelector\r\n              symbols={symbols}\r\n              currentSymbol={currentSymbol}\r\n              onSelect={(s) => dispatch(setCurrentSymbol(s))}\r\n              theme={theme}\r\n            />\r\n            {livePrice && (\r\n              <span className={`text-sm font-bold tabular-nums ${theme === 'dark' ? 'text-emerald-400' : 'text-emerald-600'\r\n                }`}>{livePrice.toFixed(2)}</span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Timeframes - Compact horizontal scroll */}\r\n        <div className=\"flex items-center gap-0.5 px-1\">\r\n          {timeframes.slice(0, 6).map((tf) => (\r\n            <button\r\n              key={tf.value}\r\n              onClick={() => dispatch(setTimeframe(tf.value))}\r\n              className={`px-2 py-1 text-[11px] font-medium rounded transition-all ${timeframe === tf.value\r\n                ? theme === 'dark'\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-blue-500 text-white'\r\n                : theme === 'dark'\r\n                  ? 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n                  : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\r\n                }`}\r\n            >{tf.label}</button>\r\n          ))}\r\n          {/* More Timeframes Dropdown - Click-based */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowTimeframeDropdown(!showTimeframeDropdown)}\r\n              className={`px-2 py-1 text-[11px] font-medium rounded transition-all ${timeframes.slice(6).some(tf => tf.value === timeframe)\r\n                ? theme === 'dark' ? 'bg-blue-600 text-white' : 'bg-blue-500 text-white'\r\n                : theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-800' : 'text-gray-500 hover:text-gray-900 hover:bg-gray-100'\r\n                }`}\r\n            >\r\n              {timeframes.slice(6).some(tf => tf.value === timeframe)\r\n                ? timeframes.find(tf => tf.value === timeframe)?.label\r\n                : '+'\r\n              }\r\n            </button>\r\n            {showTimeframeDropdown && (\r\n              <>\r\n                {/* Backdrop to close dropdown */}\r\n                <div\r\n                  className=\"fixed inset-0 z-[2147483646]\"\r\n                  onClick={() => setShowTimeframeDropdown(false)}\r\n                />\r\n                <div className={`absolute top-full right-0 mt-1 py-1 rounded-lg shadow-xl border z-[2147483647] min-w-[100px] ${theme === 'dark' ? 'bg-gray-900 border-gray-700' : 'bg-white border-gray-200'\r\n                  }`}>\r\n                  {timeframes.slice(6).map((tf) => (\r\n                    <button\r\n                      key={tf.value}\r\n                      onClick={() => {\r\n                        dispatch(setTimeframe(tf.value));\r\n                        setShowTimeframeDropdown(false);\r\n                      }}\r\n                      className={`block w-full px-3 py-1.5 text-xs text-left whitespace-nowrap ${timeframe === tf.value\r\n                        ? theme === 'dark' ? 'bg-blue-600 text-white' : 'bg-blue-500 text-white'\r\n                        : theme === 'dark' ? 'text-gray-300 hover:bg-gray-800' : 'text-gray-700 hover:bg-gray-100'\r\n                        }`}\r\n                    >{tf.label}</button>\r\n                  ))}\r\n                  <div className={`border-t my-1 ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`} />\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowCustomTimeframe(true);\r\n                      setShowTimeframeDropdown(false);\r\n                    }}\r\n                    className={`block w-full px-3 py-1.5 text-xs text-left ${theme === 'dark' ? 'text-gray-400 hover:bg-gray-800' : 'text-gray-500 hover:bg-gray-100'\r\n                      }`}\r\n                  >Custom...</button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Separator */}\r\n        <div className={`w-px h-5 ${theme === 'dark' ? 'bg-gray-700' : 'bg-gray-300'}`} />\r\n\r\n        {/* S/R Lines Toggle Group */}\r\n        <div className={`flex items-center rounded-md overflow-hidden border ${theme === 'dark' ? 'border-gray-700 bg-gray-800/50' : 'border-gray-200 bg-gray-50'\r\n          }`}>\r\n          <button\r\n            onClick={() => handleDailyToggle(!daily)}\r\n            className={`px-2 py-1 text-[10px] font-semibold transition-all ${daily\r\n              ? 'bg-blue-500 text-white'\r\n              : theme === 'dark' ? 'text-gray-400 hover:text-white' : 'text-gray-500 hover:text-gray-900'\r\n              }`}\r\n            title=\"Daily S/R\"\r\n          >D</button>\r\n          <button\r\n            onClick={() => handleWeeklyToggle(!weekly)}\r\n            className={`px-2 py-1 text-[10px] font-semibold transition-all border-l ${weekly\r\n              ? 'bg-emerald-500 text-white'\r\n              : theme === 'dark' ? 'text-gray-400 hover:text-white border-gray-700' : 'text-gray-500 hover:text-gray-900 border-gray-200'\r\n              }`}\r\n            title=\"Weekly S/R\"\r\n          >W</button>\r\n          <button\r\n            onClick={() => handleAvgToggle(!avg)}\r\n            className={`px-2 py-1 text-[10px] font-semibold transition-all border-l ${avg\r\n              ? 'bg-purple-500 text-white'\r\n              : theme === 'dark' ? 'text-gray-400 hover:text-white border-gray-700' : 'text-gray-500 hover:text-gray-900 border-gray-200'\r\n              }`}\r\n            title=\"Average S/R\"\r\n          >A</button>\r\n        </div>\r\n\r\n        {/* Drawing Tools */}\r\n        <button\r\n          onClick={() => setDrawingMode(drawingMode === 'hline' ? null : 'hline')}\r\n          className={`p-1.5 rounded transition-all ${drawingMode === 'hline'\r\n            ? 'bg-blue-500 text-white'\r\n            : theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-800' : 'text-gray-500 hover:text-gray-900 hover:bg-gray-100'\r\n            }`}\r\n          title=\"Draw Line\"\r\n        >\r\n          <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 12h16\" />\r\n          </svg>\r\n        </button>\r\n\r\n        {/* Separator */}\r\n        <div className={`w-px h-5 ${theme === 'dark' ? 'bg-gray-700' : 'bg-gray-300'}`} />\r\n\r\n        {/* Profile Selector - Compact */}\r\n        <select\r\n          className={`text-[11px] font-medium px-2 py-1 rounded border-0 outline-none cursor-pointer ${theme === 'dark'\r\n            ? 'bg-gray-800 text-gray-300 focus:ring-1 focus:ring-blue-500'\r\n            : 'bg-gray-100 text-gray-700 focus:ring-1 focus:ring-blue-500'\r\n            }`}\r\n          value={activeProfile}\r\n          onChange={(e) => setActiveProfile(e.target.value)}\r\n        >\r\n          <option value=\"none\">Profile</option>\r\n          <option value=\"oi\">OI</option>\r\n          <option value=\"oi_change\">OI Î”</option>\r\n          <option value=\"volume\">Vol</option>\r\n          <option value=\"delta\">Delta</option>\r\n          <option value=\"gamma\">Gamma</option>\r\n          <option value=\"gex\">GEX</option>\r\n          <option value=\"delta_oi\">Î”Ã—OI</option>\r\n          <option value=\"composite\">Comp</option>\r\n          <option value=\"pcr\">PCR</option>\r\n          <option value=\"iv_skew\">IV Skew</option>\r\n          <option value=\"vega\">Vega</option>\r\n          <option value=\"theta\">Theta</option>\r\n          <option value=\"reversal\">Reversal</option>\r\n        </select>\r\n\r\n        {/* Info Icon with Hover Context HUD */}\r\n        {activeProfile !== 'none' && (\r\n          <div className=\"relative group ml-1.5 flex items-center\">\r\n            <div className={`cursor-help p-1 rounded-full border transition-colors ${theme === 'dark' ? 'border-gray-700 hover:border-blue-500 text-gray-400 hover:text-blue-400' : 'border-gray-200 hover:border-blue-500 text-gray-500 hover:text-blue-600'\r\n              }`}>\r\n              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n\r\n            {/* Hover Content */}\r\n            <div className={`absolute top-full left-0 mt-2 w-80 p-3 rounded-lg border shadow-xl backdrop-blur-xl z-[200] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 ${theme === 'dark' ? 'bg-gray-900/95 border-gray-700 text-gray-200' : 'bg-white/95 border-blue-100 text-gray-800'\r\n              }`}>\r\n              {/* Connector Arrow */}\r\n              <div className={`absolute -top-1.5 left-2 w-3 h-3 rotate-45 border-l border-t ${theme === 'dark' ? 'bg-gray-900 border-gray-700' : 'bg-white border-blue-100'\r\n                }`}></div>\r\n\r\n              <div className=\"relative z-10 flex flex-col gap-2.5\">\r\n                {/* Title */}\r\n                <div className=\"flex items-center gap-1.5 border-b pb-2 border-dashed border-opacity-30 border-gray-500\">\r\n                  <span className=\"text-base\">ðŸ’¡</span>\r\n                  <span className=\"text-[10px] font-bold uppercase tracking-wider text-blue-500\">\r\n                    {getGuide(activeProfile).title}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Formula (Code-like styling) */}\r\n                {getGuide(activeProfile).formula && (\r\n                  <div className={`p-1.5 rounded font-mono text-[9px] ${theme === 'dark' ? 'bg-gray-800 text-green-400' : 'bg-gray-100 text-green-700'\r\n                    }`}>\r\n                    <span className=\"opacity-50 mr-1\">Æ’</span> {getGuide(activeProfile).formula}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Logic */}\r\n                <div>\r\n                  <span className={`text-[8px] uppercase font-bold block mb-0.5 ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Logic</span>\r\n                  <p className=\"text-[10px] leading-snug opacity-90\">{getGuide(activeProfile).logic}</p>\r\n                </div>\r\n\r\n                {/* Visual Interpretation */}\r\n                {getGuide(activeProfile).visual && (\r\n                  <div className={`p-1.5 rounded border-l-2 ${theme === 'dark' ? 'bg-gray-800/50 border-yellow-500/50' : 'bg-yellow-50 border-yellow-400'\r\n                    }`}>\r\n                    <span className={`text-[8px] uppercase font-bold block mb-0.5 ${theme === 'dark' ? 'text-yellow-500/70' : 'text-yellow-600'}`}>Visual Guide</span>\r\n                    <p className={`text-[9px] leading-snug ${theme === 'dark' ? 'text-yellow-200/80' : 'text-yellow-800'}`}>{getGuide(activeProfile).visual}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Trade Signal */}\r\n                <div className={`p-1.5 rounded border-l-2 ${theme === 'dark' ? 'bg-blue-500/10 border-blue-500' : 'bg-blue-50 border-blue-500'\r\n                  }`}>\r\n                  <span className={`text-[8px] uppercase font-bold block mb-0.5 ${theme === 'dark' ? 'text-blue-400/70' : 'text-blue-600'}`}>Trade Signal</span>\r\n                  <p className=\"text-[9px] font-medium leading-snug text-blue-500\">{getGuide(activeProfile).signal}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Smart Auto-Pilot Toggle */}\r\n        {activeProfile === 'reversal' && (\r\n          <button\r\n            onClick={() => setIsAutoPilot(!isAutoPilot)}\r\n            className={`ml-2 px-2 py-1 flex items-center gap-1.5 text-[10px] font-bold rounded border transition-all ${isAutoPilot\r\n              ? 'bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent shadow-sm'\r\n              : theme === 'dark' ? 'bg-gray-800 text-gray-400 border-gray-700' : 'bg-white text-gray-500 border-gray-200'\r\n              }`}\r\n            title=\"Auto-Detect Thresholds based on Market Context\"\r\n          >\r\n            <span>âœ¨ Auto</span>\r\n            {isAutoPilot && optionsData?.meta && (\r\n              <span className=\"bg-white/20 px-1 rounded text-[9px] font-mono\">\r\n                {optionsData.meta.recommended_threshold > 0 ? Math.round(optionsData.meta.recommended_threshold) : '60'}\r\n              </span>\r\n            )}\r\n          </button>\r\n        )}\r\n\r\n        {/* Spacer */}\r\n        <div className=\"flex-grow\" />\r\n\r\n        {/* Right Controls */}\r\n        <div className=\"flex items-center gap-0.5\">\r\n          {/* Zoom Controls */}\r\n          <button\r\n            onClick={() => { if (chartRef.current) { const ts = chartRef.current.timeScale(); const r = ts.getVisibleLogicalRange(); if (r) ts.setVisibleLogicalRange({ from: r.from + (r.to - r.from) * 0.1, to: r.to - (r.to - r.from) * 0.1 }); } }}\r\n            className={`p-1.5 rounded transition-all ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-800' : 'text-gray-500 hover:text-gray-900 hover:bg-gray-100'}`}\r\n            title=\"Zoom In\"\r\n          >\r\n            <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v12M6 12h12\" />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            onClick={() => { if (chartRef.current) { const ts = chartRef.current.timeScale(); const r = ts.getVisibleLogicalRange(); if (r) ts.setVisibleLogicalRange({ from: r.from - (r.to - r.from) * 0.1, to: r.to + (r.to - r.from) * 0.1 }); } }}\r\n            className={`p-1.5 rounded transition-all ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-800' : 'text-gray-500 hover:text-gray-900 hover:bg-gray-100'}`}\r\n            title=\"Zoom Out\"\r\n          >\r\n            <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 12H4\" />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            onClick={() => { if (chartRef.current) chartRef.current.timeScale().fitContent(); }}\r\n            className={`p-1.5 rounded transition-all ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-800' : 'text-gray-500 hover:text-gray-900 hover:bg-gray-100'}`}\r\n            title=\"Fit All\"\r\n          >\r\n            <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" />\r\n            </svg>\r\n          </button>\r\n\r\n          {/* Separator */}\r\n          <div className={`w-px h-4 mx-1 ${theme === 'dark' ? 'bg-gray-700' : 'bg-gray-300'}`} />\r\n\r\n          {/* Fullscreen */}\r\n          <button\r\n            onClick={() => {\r\n              const elem = chartContainerRef.current?.parentElement?.parentElement;\r\n              if (!document.fullscreenElement) { elem?.requestFullscreen?.(); setIsFullscreen(true); }\r\n              else { document.exitFullscreen?.(); setIsFullscreen(false); }\r\n            }}\r\n            className={`p-1.5 rounded transition-all ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-800' : 'text-gray-500 hover:text-gray-900 hover:bg-gray-100'}`}\r\n            title={isFullscreen ? \"Exit Fullscreen\" : \"Fullscreen\"}\r\n          >\r\n            <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              {isFullscreen\r\n                ? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25\" />\r\n                : <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15\" />\r\n              }\r\n            </svg>\r\n          </button>\r\n\r\n          {/* Status Indicator */}\r\n          <div\r\n            className={`w-2 h-2 rounded-full ml-1 ${connectionStatus === 'connected' ? 'bg-emerald-500'\r\n              : connectionStatus === 'loading' ? 'bg-amber-500 animate-pulse'\r\n                : 'bg-red-500'\r\n              }`}\r\n            title={connectionStatus}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chart Wrapper - Use 100% height in fullscreen, reduced margin normally */}\r\n      {/* Chart Wrapper - Use 100% height in fullscreen, reduced margin normally */}\r\n      <div className=\"relative w-full flex-grow\" style={{ height: isFullscreen ? '100vh' : embedded ? 'calc(100vh - 120px)' : 'calc(100vh - 100px)' }}>\r\n        <div ref={chartContainerRef} className={`w-full h-full ${themeClasses.chart}`} />\r\n        <canvas ref={canvasRef} className=\"absolute top-0 left-0 pointer-events-none z-20\" />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nTradingChart.displayName = \"TradingChart\";\r\nexport default TradingChart;\r\n","\r\nimport { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport OptionChainTable from '../components/features/options/OptionChainTable';\r\nimport TradingChart from '../components/charts/TradingChart';\r\nimport OptionControls from '../components/features/options/OptionControls';\r\nimport SpotBar from '../components/features/options/SpotBar';\r\nimport { SettingsButton } from '../components/features/options/TableSettingsModal';\r\nimport { selectIsAuthenticated } from '../context/selectors';\r\nimport { ColumnConfigProvider } from '../context/ColumnConfigContext';\r\nimport { TableSettingsProvider } from '../context/TableSettingsContext';\r\nimport { Button, Card } from '../components/common';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useOptionsChain from '../hooks/useOptionsChain';\r\n\r\n/**\r\n * Option Chain Page - Table view with integrated chart toggle\r\n */\r\nconst OptionChain = () => {\r\n  const isAuthenticated = useSelector(selectIsAuthenticated);\r\n  const navigate = useNavigate();\r\n  const [showChart, setShowChart] = useState(false);\r\n  const _theme = useSelector((state) => state.theme.theme);\r\n  \r\n  // Get spot/futures data for SpotBar when in chart mode\r\n  const { spotData, futuresData, data: fullData } = useOptionsChain();\r\n  const pcr = fullData?.pcr;\r\n  const maxPain = fullData?.max_pain_strike;\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-4\">\r\n        <h2 className=\"text-2xl font-bold dark:text-white\">Authentication Required</h2>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">Please log in to view real-time option chain data.</p>\r\n        <Button onClick={() => navigate('/login')}>Login Now</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{showChart ? 'Chart' : 'Option Chain'} | Stockify</title>\r\n        <meta name=\"description\" content=\"Real-time NSE Option Chain with advanced Greeks and analysis\" />\r\n      </Helmet>\r\n\r\n      <ColumnConfigProvider>\r\n        <TableSettingsProvider>\r\n          <div className=\"w-full px-2 py-2 space-y-2\">\r\n            \r\n            {/* Premium Control Bar */}\r\n            <div className=\"flex flex-wrap items-center gap-2 p-2 glass rounded-xl\">\r\n              <OptionControls \r\n                showChart={showChart} \r\n                onToggleChart={() => setShowChart(!showChart)} \r\n              />\r\n              {/* SpotBar always visible for price context */}\r\n              <SpotBar\r\n                spotData={spotData}\r\n                futuresData={futuresData}\r\n                pcr={pcr}\r\n                maxPain={maxPain}\r\n              />\r\n              <div className=\"flex-1\" />\r\n              {!showChart && <SettingsButton />}\r\n            </div>\r\n\r\n            {/* Conditional view: Chart or Table */}\r\n            {showChart ? (\r\n              <Card variant=\"glass\" className=\"overflow-hidden\" padding=\"none\">\r\n                <TradingChart embedded={true} />\r\n              </Card>\r\n            ) : (\r\n              <div className=\"glass-strong rounded-2xl overflow-hidden animate-fade-in\">\r\n                <OptionChainTable showControls={false} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </TableSettingsProvider>\r\n      </ColumnConfigProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OptionChain;\r\n"],"names":["STORAGE_KEY","DEFAULT_SETTINGS","TableSettingsContext","createContext","TableSettingsProvider","children","settings","setSettings","useState","saved","e","updateSetting","useCallback","key","value","prev","newSettings","toggleSortOrder","newOrder","toggleITMHighlight","toggleCompactMode","selectStrike","strike","resetSettings","useMemo","jsx","useTableSettings","context","useContext","useSocket","onDataReceived","options","socketRef","useRef","reconnectTimeoutRef","isConnected","setIsConnected","error","setError","subscription","setSubscription","enabled","autoReconnect","reconnectInterval","maxReconnectAttempts","socketUrl","reconnectAttemptsRef","decodeMessage","data","buffer","msgpackDecode","err","onDataReceivedRef","useEffect","connect","wsUrl","logger","event","disconnect","sendMessage","message","payload","subscribe","symbol","expiry","unsubscribe","useOptionsChain","dispatch","useDispatch","useSelector","selectSelectedSymbol","selectSelectedExpiry","selectOptionsData","spotData","selectSpotData","futuresData","selectFuturesData","expiryList","selectExpiryList","isLoading","selectDataLoading","isPaused","setIsPaused","refreshInterval","setRefreshInterval","lastUpdated","setLastUpdated","isInitialLoad","setIsInitialLoad","useWebSocket","setUseWebSocket","pollTimerRef","lastFetchedKeyRef","currentSubscriptionRef","hasData","isExpiryValid","handleWebSocketData","wsData","updateLiveData","wsConnected","wsError","setStreamingState","setConnectionMethod","newKey","fetchData","fetchKey","fetchLiveData","prevExpiryRef","handleRefresh","togglePause","updateInterval","newInterval","toggleWebSocket","COLUMNS","SIDES","getITMDepth","atmStrike","side","getHighlightColor","pct","rank","_itmDepth","calculateColumnHighlights","strikes","optionData","column","result","values","strikeKey","sideData","_a","_b","rawValue","isNegative","itmDepth","isValidFor100","validValues","v","maxValue","withPct","sorted","a","ranks","currentRank","lastValue","item","idx","color","usePercentageHighlights","visibleStrikes","columnHighlights","AVAILABLE_COLUMNS","COLUMN_CATEGORIES","DEFAULT_CE_ORDER","DEFAULT_PE_ORDER","ColumnConfigContext","ColumnConfigProvider","columnConfig","setColumnConfig","defaultVisibility","col","toggleColumn","columnId","newConfig","setColumnsVisibility","updates","resetToDefaults","getVisibleColumns","id","isColumnVisible","useColumnConfig","TableHeader","memo","onColumnClick","basePadding","commonHeaders","clickableHeader","centerHeader","ceColumns","peColumns","ceColspan","peColspan","jsxs","BUILDUP_TYPES","formatNumber","num","absNum","sign","GreeksTooltip","optgeeks","isVisible","position","greekItems","label","StrikeDetailPopup","spotPrice","onClose","ce","pe","ce_oi","pe_oi","ce_oi_chng","pe_oi_chng","pcr_oi","pcr_oi_chng","reversal","wklyReversal","futReversal","isAboveSpot","strikePCR","signals","getPCRColor","pcrValue","XMarkIcon","ChartBarIcon","_c","_d","_e","_f","ClickableCell","onClick","className","BuildupIndicator","type","buildup","colors","PCRDisplay","oiPcr","oiChngPcr","volPcr","compact","textSize","padding","StrikeRow","onCellClick","_onStrikeSelect","onStrikeClick","highlightData","getHighlight","getPct","hoveredGreeks","setHoveredGreeks","showStrikePopup","setShowStrikePopup","isATM","isITM_CE","isITM_PE","showITM","isCompact","ce_vol","pe_vol","handleCellClick","field","handleStrikeClick","cellPadding","fontSize","itmBg","isITM","cellClass","highlight","bgClass","Fragment","_g","_i","_h","_j","_k","_l","_m","_o","_n","_p","_r","_q","_t","_s","_v","_u","PropTypes","Metric","change","isPositive","isZero","ArrowTrendingUpIcon","ArrowTrendingDownIcon","SpotBar","pcr","maxPain","formatPrice","SpotIndicatorRow","rowHeight","headerHeight","spot","spotChange","spotChangePct","fut","futChange","spotFutDiff","isPremium","rowIndex","i","currentStrike","nextStrike","lowerStrike","higherStrike","topPosition","PremiumSymbolSelector","symbols","currentSymbol","onSelect","theme","isOpen","setIsOpen","search","setSearch","dropdownPos","setDropdownPos","containerRef","buttonRef","inputRef","INDICES","filtered","s","indices","equities","openDropdown","rect","handleSelect","isDark","isIndex","createPortal","OptionControls","showChart","onToggleChart","sid","selectSid","state","displaySymbol","setSymbols","handleSymbolChange","symbolValue","setSidAndFetchData","handleExpiryChange","setExp_sid","formatExpiryDate","timestamp","exp","$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c","$HgANd$react","$8ae05eaa5c114e9c$var$_React_useInsertionEffect","$8ae05eaa5c114e9c$var$useEarlyEffect","$lmaYr$react","$8ae05eaa5c114e9c$export$7f54fc3180508a52","fn","ref","$lmaYr$useRef","$lmaYr$useCallback","args","f","$431fbd86ca7dc216$export$b204af158042fbac","el","_el_ownerDocument","$431fbd86ca7dc216$export$f21a1ffae260145a","$431fbd86ca7dc216$var$isNode","$431fbd86ca7dc216$export$af51f0f06c0f328a","node","$f4e2df6bd15f8569$var$_shadowDOM","$f4e2df6bd15f8569$export$98658e8c59125e6a","$d4ee10de306f2510$export$4282f70798064fe0","otherNode","$lcSu5$shadowDOM","currentNode","$d4ee10de306f2510$export$cd4e5573fbe2b576","doc","_activeElement_shadowRoot","activeElement","$d4ee10de306f2510$export$e58f029f0fbfdb29","$c87311424ea30a05$var$testUserAgent","re","_window_navigator_userAgentData","brands","brand","$c87311424ea30a05$var$testPlatform","$c87311424ea30a05$var$cached","res","$c87311424ea30a05$export$9ac100e40613ea10","$c87311424ea30a05$export$a11b0059900ceec8","$03deb23ff14920c4$export$4eaf04e54aa8eed6","globalListeners","$lPAwt$useRef","addGlobalListener","$lPAwt$useCallback","eventTarget","listener","removeGlobalListener","_globalListeners_current_get","removeAllGlobalListeners","$lPAwt$useEffect","$6a7db85432448f7f$export$60278871457622de","$8a9cb279dc87e130$export$525bc4921d56d4a","nativeEvent","$8a9cb279dc87e130$export$c2b7abe5d61ec696","target","$8a9cb279dc87e130$export$715c682d09d639cc","onBlur","stateRef","$6dfIe$useRef","$6dfIe$useLayoutEffect","dispatchBlur","$6dfIe$useEffectEvent","$6dfIe$useCallback","onBlurHandler","_stateRef_current_observer","relatedTargetEl","$8a9cb279dc87e130$export$fda7da73ab5d4c48","$507fabe10e71c6fb$var$currentModality","$507fabe10e71c6fb$var$changeHandlers","$507fabe10e71c6fb$export$d90243b58daecda7","$507fabe10e71c6fb$var$hasEventBeforeFocus","$507fabe10e71c6fb$var$hasBlurredWindowRecently","$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS","$507fabe10e71c6fb$var$triggerChangeHandlers","modality","handler","$507fabe10e71c6fb$var$isValidKey","$28AnR$isMac","$507fabe10e71c6fb$var$handleKeyboardEvent","$507fabe10e71c6fb$var$handlePointerEvent","$507fabe10e71c6fb$var$handleClickEvent","$28AnR$isVirtualClick","$507fabe10e71c6fb$var$handleFocusEvent","$507fabe10e71c6fb$var$handleWindowBlur","$507fabe10e71c6fb$var$setupGlobalFocusEvents","element","$28AnR$getOwnerWindow","windowObject","documentObject","$28AnR$getOwnerDocument","focus","$507fabe10e71c6fb$var$tearDownWindowFocusTracking","loadListener","$507fabe10e71c6fb$export$2f1888112f558a7d","$507fabe10e71c6fb$export$b9b3dfddab17db27","$507fabe10e71c6fb$var$nonTextInputTypes","$507fabe10e71c6fb$var$isKeyboardFocusEvent","isTextInput","document1","IHTMLInputElement","IHTMLTextAreaElement","IHTMLElement","IKeyboardEvent","$507fabe10e71c6fb$export$ec71b4b83ac08ec3","deps","opts","$28AnR$useEffect","$a1ea59d68270f0dd$export$f8168d8dd8fd66e6","props","isDisabled","onFocusProp","onBlurProp","onFocusChange","$hf0lj$useCallback","onSyntheticFocus","onFocus","ownerDocument","$hf0lj$getOwnerDocument","$hf0lj$getActiveElement","$hf0lj$getEventTarget","$9ab94262bd0047c7$export$420e68273165f4ec","onBlurWithin","onFocusWithin","onFocusWithinChange","$3b9Q0$useRef","$3b9Q0$useGlobalListeners","$3b9Q0$useCallback","$3b9Q0$getOwnerDocument","$3b9Q0$getActiveElement","$3b9Q0$getEventTarget","currentTarget","$3b9Q0$nodeContains","$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$hoverCount","$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$handleGlobalPointerEvent","$6179b936705e76d3$var$setupGlobalTouchEvents","$6179b936705e76d3$export$ae780daf29e6d456","onHoverStart","onHoverChange","onHoverEnd","isHovered","setHovered","$AWxnT$useState","$AWxnT$useRef","$AWxnT$useEffect","$AWxnT$useGlobalListeners","hoverProps","triggerHoverEnd","$AWxnT$useMemo","triggerHoverStart","pointerType","$AWxnT$getOwnerDocument","$AWxnT$nodeContains","$f7dceffc5ad7768b$export$4e328f61c538687f","autoFocus","within","$isWE5$useRef","$isWE5$isFocusVisible","isFocused","setFocused","$isWE5$useState","isFocusVisibleState","setFocusVisible","updateState","$isWE5$useCallback","$isWE5$useFocusVisibleListener","isFocusVisible","focusProps","$isWE5$useFocus","focusWithinProps","$isWE5$useFocusWithin","d","t","n","r","o$7","o","l","u","p","c","E","P","w","m","g","A","C","K","$","x","U","I","F","y","O","h","T","b","k","D","R","N","H","S","M","V","Y","j","L","n.isHTMLFieldSetElement","n.isHTMLLegendElement","_","G","B","m.isInteractiveElement","m.isHTMLLabelElement","m.isHTMLInputElement","Z","T$2","o$1","c.isHTMLElement","d.isHTMLorSVGElement","d.isHTMLIframeElement","i.isHTMLorSVGElement","i.hasInlineStyle","i.isHTMLInputElement","define_process_env_default","u.isHTMLorSVGElement","W","ee","J","X","te","f.isElement","t.useState","t.useEffect","i.isElement","z","ne","oe","i.isHTMLElement","ge","Q","q","ue","de","De","He","Ae","Te","Ee","be","ve","le","ie","fe","xe","Fe","Re","Ce","Ne","Pe","Se","he","ae","ye","Ie","se","me","Le","Oe","Ke","we","Be","Ue","ke","Me","We","$e","Ge","je","Ye","Je","Xe","Ve","qe","ze","Qe","ht","be.isHTMLLabelElement","tt","l.createContext","l.useRef","l.createElement","l.useContext","l.useId","l.useEffect","dt","COLUMN_GROUPS","COLUMN_LABELS","PRESETS","SettingToggle","description","onChange","Icon","Switch","NumberSetting","min","max","step","TableSettingsModal","setStrikesPerPage","_visibleColumns","applyPreset","activeTab","setActiveTab","tabs","AdjustmentsHorizontalIcon","ViewColumnsIcon","TableCellsIcon","Transition","Dialog","Cog6ToothIcon","Tab","tab","selected","SunIcon","ArrowsUpDownIcon","groupKey","group","ceKey","peKey","ceVisible","peVisible","bothVisible","CheckIcon","preset","SettingsButton","StrikeDetailPanel","strikeData","wkly_reversal","fut_reversal","rs","_rr","ss","sr_diff","ce_tv","pe_tv","price_range","trading_signals","market_regimes","recommended_strategy","alert","time_decay","_ce","_pe","regimeColors","alertColors","BoltIcon","BeakerIcon","StrikeAnalysisModal","ceGreeks","peGreeks","RocketLaunchIcon","straddle","renderContent","greekRows","row","ceAnalysis","analyzeBuildUp","peAnalysis","ceLTP","peLTP","baseSpot","futuresPrice","strikeStraddle","spotResistance","spotSupport","baseFutures","futureResistance","futureSupport","ltpResistance","ltpSupport","breakevenUp","breakevenDown","getStrategySuggestions","strategy","CurrencyDollarIcon","optData","oiChng","priceChng","getCombinedAnalysis","pcrVal","analysis","strategies","MiniLineChart","width","height","minVal","maxVal","range","chartWidth","chartHeight","points","pathD","areaD","firstValue","changePercent","gradientId","getTimeLabel","yTicks","yStep","ComparisonLineChart","ceData","peData","dataField","getValue","allValues","getX","index","getY","val","generatePath","cePath","pePath","AggregateBarChart","viewType","sortedData","atmIndex","displayData","barHeight","maxCE","maxPE","centerX","barAreaWidth","ceValue","peValue","ceWidth","peWidth","PCRChart","neutralY","isBullish","VIEW_TABS","CellDetailModal","cellData","activeView","setActiveView","selectedField","setSelectedField","timeSeriesData","setTimeSeriesData","aggregateData","setAggregateData","loading","setLoading","_value","fullData","fetchStrikeData","getStrikeTimeSeries","fetchAggregateData","getAggregateCOI","getAggregateOI","getAggregatePCR","getAggregatePercentage","sideLabel","fieldLabels","ArrowPathIcon","chartData","summary","InformationCircleIcon","AggregateChartModal","columnType","initialTab","TABS","getInitialTab","strikesSelector","selectStrikesAroundATM","rawData","selectATMStrike","totals","config","tabConfigs","cfg","totalCE","totalPE","ceOI","peOI","ceChg","peChg","signal","ClockIcon","pcrWidth","pcrColor","formatCurrency","calculateAggregates","agg","MetricCard","netValue","format","formatValue","PCRBadge","getColor","AggregatePanel","isExpanded","setIsExpanded","viewMode","setViewMode","allStrikes","visibleAgg","allAgg","strikeCount","GlobeAltIcon","ChevronUpIcon","ChevronDownIcon","OptionChainTable","showControls","setStrikeCount","selectedCell","setSelectedCell","selectedStrikeData","setSelectedStrikeData","strikeModalData","setStrikeModalData","aggregateColumn","setAggregateColumn","sortedStrikes","handleShowMore","handleCloseModal","handleStrikeSelect","handleClosePanel","handleCloseStrikeModal","handleColumnClick","handleCloseAggregateModal","Spinner","Card","Button","formatTimeForIST","computeLevels","oc","price","isCommodity","below","above","pick","levels","selector","_w","_x","debounce","func","wait","timeout","later","throttle","limit","inThrottle","SymbolSelector","highlightedIndex","setHighlightedIndex","dropdownPosition","setDropdownPosition","groupedSymbols","filteredGroups","query","flatList","handleClickOutside","handleKeyDown","SymbolItem","isSelected","isHighlighted","TradingChart","React","embedded","themeColors","chartTheme","candlestickTheme","chartContainerRef","chartRef","candleSeriesRef","supportResistanceLinesRef","canvasRef","ohlcData","setOhlcData","showCustomTimeframe","setShowCustomTimeframe","showTimeframeDropdown","setShowTimeframeDropdown","customInterval","setCustomInterval","livePrice","setLivePrice","isFullscreen","setIsFullscreen","drawingMode","setDrawingMode","_userLines","setUserLines","activeProfile","setActiveProfile","isAutoPilot","setIsAutoPilot","timeframe","connectionStatus","daily","weekly","avg","optionsData","timeframes","supportResistanceLevels","drawSupportResistanceLines","line","dailyLines","weeklyLines","avgLines","priceValue","isSupport","isMajor","LineStyle","chart","createChart","time","candleSeries","CandlestickSeries","throttledCrosshairMove","param","chartResizeObserver","entries","newRect","currentLinesRef","setConnectionStatus","loadSymbols","symbolsList","setCurrentSymbol","defaultSymbols","chartSymbol","fetchChartData","params","formattedData","candle","lastCandle","setChartData","intervalId","handleDailyToggle","checked","setDaily","handleWeeklyToggle","setWeekly","handleAvgToggle","setAvg","handleCustomTimeframe","setTimeframe","themeClasses","profileGuides","getGuide","profileData","dataPoints","totalSum","pocStrike","maxTotalVal","strikeStr","applySmartDominance","ceRaw","peRaw","absCe","absPe","total","isDominant","ceDisplay","peDisplay","spotApprox","best","maxVol","avgIv","acc","safeAvgIv","spotPriceForCalc","ceVal","peVal","singleVal","ceSmartOi","peSmartOi","ceSmartVol","peSmartVol","ceSmartFlow","peSmartFlow","ceD","peD","tD","oD","ceRisk","peRisk","ceDOI","peDOI","totalOi","maxTotalOi","oiWeight","smartSkew","ceSkewComp","peSkewComp","pcrNorm","cePcr","pePcr","ceStrength","peStrength","normCeOi","normPeOi","normCeChng","normPeChng","normCeVol","normPeVol","normCeDelta","normPeDelta","normCeGamma","normPeGamma","valCeC","valPeC","ceGammaMult","peGammaMult","ceIvMult","peIvMult","isResistance","strength","maxSideVal","clusters","threshold","currentCluster","currentAvg","strengths","maxClusterStrength","mean","variance","stdDev","meta","dynamicThreshold","relevantClusters","finalPrice","isTier1","tierOpacity","pocPoint","sortedByVal","vaThreshold","currentSum","vaStrikes","canvas","ctx","series","animationFrameId","lastDrawTime","MIN_DRAW_INTERVAL","draw","dpr","targetWidth","targetHeight","rightPadding","startX","maxBarWidth","barGap","ceColor","peColor","pocColor","bars","isVA","isPOC","ceUnwinding","peUnwinding","customColor","pOpacity","baseOpacity","op","gradient","lineOpacity","timeScale","handleVisibleRangeChange","resizeObserver","handleClick","tf","ts","elem","OptionChain","isAuthenticated","selectIsAuthenticated","navigate","useNavigate","setShowChart","Helmet"],"mappings":"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","x_google_ignoreList":[11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96]}