{"version":3,"file":"Analytics-B_vGiy7e.js","sources":["../../src/components/analytics/OIAnalysis.jsx","../../src/components/analytics/VolumeAnalysis.jsx","../../src/components/analytics/GreeksAnalysis.jsx","../../src/components/analytics/StraddleAnalysis.jsx","../../src/components/analytics/MultiStrikeAnalysis.jsx","../../src/components/analytics/StrategyBuilder.jsx","../../src/pages/Analytics.jsx"],"sourcesContent":["/**\n * OI Analysis Component - Enhanced\n * Focused analysis of Open Interest distribution with:\n * - K/M/B/T number formatting\n * - Strike-wise PCR (OI and OI Change)\n * - Clickable strikes with Support/Resistance info\n */\nimport { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionChain, selectSpotPrice, selectATMStrike, selectPCR, selectTotalOI, selectMaxPainStrike, selectDataSymbol } from '../../context/selectors';\nimport { ChartBarIcon, ArrowTrendingUpIcon, ArrowTrendingDownIcon, FireIcon, XMarkIcon } from '@heroicons/react/24/outline';\n\nconst OIAnalysis = () => {\n    const optionChain = useSelector(selectOptionChain);\n    const spotPrice = useSelector(selectSpotPrice);\n    const atmStrike = useSelector(selectATMStrike);\n    const pcr = useSelector(selectPCR);\n    const totalOI = useSelector(selectTotalOI);\n    const maxPain = useSelector(selectMaxPainStrike);\n    const dataSymbol = useSelector(selectDataSymbol);\n    \n    const [hoveredStrike, setHoveredStrike] = useState(null);\n    const [selectedStrike, setSelectedStrike] = useState(null);\n\n    // Format number as K/M/B/T\n    const formatNumber = (num) => {\n        if (!num || num === 0) return '0';\n        const absNum = Math.abs(num);\n        const sign = num < 0 ? '-' : '';\n        \n        if (absNum >= 1e12) return sign + (absNum / 1e12).toFixed(2) + 'T';\n        if (absNum >= 1e9) return sign + (absNum / 1e9).toFixed(2) + 'B';\n        if (absNum >= 1e6) return sign + (absNum / 1e6).toFixed(2) + 'M';\n        if (absNum >= 1e3) return sign + (absNum / 1e3).toFixed(1) + 'K';\n        return sign + absNum.toFixed(0);\n    };\n\n    // Process OI data with PCR\n    const oiData = useMemo(() => {\n        if (!optionChain) return [];\n        \n        return Object.entries(optionChain)\n            .map(([strike, data]) => {\n                const ce = data.ce || {};\n                const pe = data.pe || {};\n                const ce_oi = ce.OI || ce.oi || 0;\n                const pe_oi = pe.OI || pe.oi || 0;\n                const ce_oi_chng = ce.oichng || ce.oi_change || 0;\n                const pe_oi_chng = pe.oichng || pe.oi_change || 0;\n                \n                // Calculate strike-wise PCR\n                const pcr_oi = ce_oi > 0 ? pe_oi / ce_oi : 0;\n                const pcr_oi_chng = ce_oi_chng !== 0 ? Math.abs(pe_oi_chng / ce_oi_chng) : 0;\n                \n                // Reversal values for support/resistance\n                const ce_reversal = ce.reversal || 0;\n                const pe_reversal = pe.reversal || 0;\n                \n                return {\n                    strike: parseFloat(strike),\n                    ce_oi,\n                    pe_oi,\n                    ce_oi_chng,\n                    pe_oi_chng,\n                    pcr_oi,\n                    pcr_oi_chng,\n                    ce_reversal,\n                    pe_reversal,\n                    ce_ltp: ce.ltp || 0,\n                    pe_ltp: pe.ltp || 0,\n                    ce_iv: ce.iv || 0,\n                    pe_iv: pe.iv || 0,\n                };\n            })\n            .filter(d => d.ce_oi > 0 || d.pe_oi > 0)\n            .sort((a, b) => a.strike - b.strike);\n    }, [optionChain]);\n\n    // Top OI strikes\n    const topCEStrikes = useMemo(() => \n        [...oiData].sort((a, b) => b.ce_oi - a.ce_oi).slice(0, 5), \n    [oiData]);\n    \n    const topPEStrikes = useMemo(() => \n        [...oiData].sort((a, b) => b.pe_oi - a.pe_oi).slice(0, 5), \n    [oiData]);\n\n    const maxOI = useMemo(() => \n        Math.max(...oiData.flatMap(d => [d.ce_oi, d.pe_oi]), 1),\n    [oiData]);\n\n    // Get selected strike data\n    const selectedData = useMemo(() => {\n        if (!selectedStrike) return null;\n        return oiData.find(d => d.strike === selectedStrike);\n    }, [selectedStrike, oiData]);\n\n    const pcrColor = pcr > 1.2 ? 'text-green-600' : pcr > 0.8 ? 'text-amber-600' : 'text-red-600';\n    const pcrLabel = pcr > 1.2 ? 'Bullish' : pcr > 0.8 ? 'Neutral' : 'Bearish';\n\n    // PCR color helper\n    const getPCRColor = (pcrValue) => {\n        if (pcrValue > 1.5) return 'text-green-600 bg-green-50 dark:bg-green-900/30';\n        if (pcrValue > 1.0) return 'text-green-500 bg-green-50/50 dark:bg-green-900/20';\n        if (pcrValue > 0.7) return 'text-amber-600 bg-amber-50 dark:bg-amber-900/30';\n        return 'text-red-600 bg-red-50 dark:bg-red-900/30';\n    };\n\n    if (!optionChain) {\n        return (\n            <div className=\"p-8 text-center text-gray-400\">\n                <ChartBarIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>Load Option Chain data first</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Symbol Display */}\n            {dataSymbol && (\n                <div className=\"text-center mb-2\">\n                    <span className=\"text-xs text-gray-500\">Showing data for</span>\n                    <span className=\"ml-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg font-bold\">\n                        {dataSymbol}\n                    </span>\n                </div>\n            )}\n\n            {/* Summary Cards Row */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-4 text-white\">\n                    <div className=\"text-xs opacity-80 mb-1\">Total Call OI</div>\n                    <div className=\"text-2xl font-bold\">{formatNumber(totalOI.calls)}</div>\n                </div>\n                <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white\">\n                    <div className=\"text-xs opacity-80 mb-1\">Total Put OI</div>\n                    <div className=\"text-2xl font-bold\">{formatNumber(totalOI.puts)}</div>\n                </div>\n                <div className={`bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700`}>\n                    <div className=\"text-xs text-gray-500 mb-1\">PCR</div>\n                    <div className={`text-2xl font-bold ${pcrColor}`}>{pcr?.toFixed(2)}</div>\n                    <div className={`text-xs ${pcrColor}`}>{pcrLabel}</div>\n                </div>\n                <div className=\"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white\">\n                    <div className=\"text-xs opacity-80 mb-1 flex items-center gap-1\"><FireIcon className=\"w-3 h-3\" /> Max Pain</div>\n                    <div className=\"text-2xl font-bold\">{maxPain}</div>\n                    <div className=\"text-xs opacity-80\">{((maxPain - spotPrice) / spotPrice * 100).toFixed(2)}% from spot</div>\n                </div>\n            </div>\n\n            {/* Selected Strike Modal */}\n            {selectedStrike && selectedData && (\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={() => setSelectedStrike(null)}>\n                    <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6\" onClick={e => e.stopPropagation()}>\n                        <div className=\"flex items-center justify-between mb-4\">\n                            <h3 className=\"text-xl font-bold\">Strike {selectedStrike}</h3>\n                            <button onClick={() => setSelectedStrike(null)} className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\">\n                                <XMarkIcon className=\"w-5 h-5\" />\n                            </button>\n                        </div>\n\n                        {/* Strike PCR */}\n                        <div className=\"mb-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl\">\n                            <div className=\"text-xs text-gray-500 mb-1\">Strike PCR (PE/CE OI)</div>\n                            <div className={`text-2xl font-bold ${getPCRColor(selectedData.pcr_oi).split(' ')[0]}`}>\n                                {selectedData.pcr_oi.toFixed(2)}\n                            </div>\n                            <div className=\"text-xs text-gray-400\">\n                                {selectedData.pcr_oi > 1 ? 'More Puts = Bullish Support' : 'More Calls = Bearish Resistance'}\n                            </div>\n                        </div>\n\n                        {/* Support & Resistance from Reversal */}\n                        <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                            <div className=\"p-3 bg-red-50 dark:bg-red-900/20 rounded-xl\">\n                                <div className=\"text-xs text-red-600 mb-1 flex items-center gap-1\">\n                                    <ArrowTrendingDownIcon className=\"w-3 h-3\" /> Resistance (CE)\n                                </div>\n                                <div className=\"text-lg font-bold text-red-700 dark:text-red-400\">\n                                    {selectedData.ce_reversal ? selectedData.ce_reversal.toFixed(2) : 'N/A'}\n                                </div>\n                                <div className=\"text-xs text-gray-500\">CE OI: {formatNumber(selectedData.ce_oi)}</div>\n                            </div>\n                            <div className=\"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl\">\n                                <div className=\"text-xs text-green-600 mb-1 flex items-center gap-1\">\n                                    <ArrowTrendingUpIcon className=\"w-3 h-3\" /> Support (PE)\n                                </div>\n                                <div className=\"text-lg font-bold text-green-700 dark:text-green-400\">\n                                    {selectedData.pe_reversal ? selectedData.pe_reversal.toFixed(2) : 'N/A'}\n                                </div>\n                                <div className=\"text-xs text-gray-500\">PE OI: {formatNumber(selectedData.pe_oi)}</div>\n                            </div>\n                        </div>\n\n                        {/* OI Details */}\n                        <div className=\"space-y-2\">\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-gray-500\">CE OI Change</span>\n                                <span className={selectedData.ce_oi_chng >= 0 ? 'text-green-600' : 'text-red-600'}>\n                                    {selectedData.ce_oi_chng >= 0 ? '+' : ''}{formatNumber(selectedData.ce_oi_chng)}\n                                </span>\n                            </div>\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-gray-500\">PE OI Change</span>\n                                <span className={selectedData.pe_oi_chng >= 0 ? 'text-red-600' : 'text-green-600'}>\n                                    {selectedData.pe_oi_chng >= 0 ? '+' : ''}{formatNumber(selectedData.pe_oi_chng)}\n                                </span>\n                            </div>\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-gray-500\">CE LTP</span>\n                                <span className=\"font-medium\">₹{selectedData.ce_ltp.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-gray-500\">PE LTP</span>\n                                <span className=\"font-medium\">₹{selectedData.pe_ltp.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-gray-500\">CE IV / PE IV</span>\n                                <span className=\"font-medium\">{selectedData.ce_iv.toFixed(1)}% / {selectedData.pe_iv.toFixed(1)}%</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Main OI Chart with PCR */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n                    <h3 className=\"font-semibold flex items-center gap-2\">\n                        <ChartBarIcon className=\"w-5 h-5 text-blue-500\" />\n                        OI Distribution by Strike\n                    </h3>\n                    <span className=\"text-xs text-gray-500\">Click any strike for details</span>\n                </div>\n                <div className=\"p-4 overflow-x-auto\">\n                    <div className=\"min-w-[700px]\">\n                        {/* Header */}\n                        <div className=\"flex items-center gap-1 text-[10px] text-gray-500 mb-2 pb-2 border-b\">\n                            <div className=\"w-16 text-right\">CE OI</div>\n                            <div className=\"flex-1\"></div>\n                            <div className=\"w-12 text-center\">Strike</div>\n                            <div className=\"w-10 text-center\">PCR</div>\n                            <div className=\"flex-1\"></div>\n                            <div className=\"w-16 text-left\">PE OI</div>\n                        </div>\n\n                        {/* Rows */}\n                        {oiData.map((row, i) => {\n                            const ceWidth = (row.ce_oi / maxOI) * 100;\n                            const peWidth = (row.pe_oi / maxOI) * 100;\n                            const isATM = row.strike === atmStrike;\n                            const isHovered = hoveredStrike === row.strike;\n                            const isNearSpot = Math.abs(row.strike - spotPrice) <= 100;\n\n                            return (\n                                <div \n                                    key={i} \n                                    className={`flex items-center gap-1 py-1.5 cursor-pointer rounded transition-all ${isATM ? 'bg-blue-100 dark:bg-blue-900/40' : ''} ${isHovered ? 'bg-gray-100 dark:bg-gray-700/50' : ''} hover:bg-gray-50 dark:hover:bg-gray-700/30`}\n                                    onMouseEnter={() => setHoveredStrike(row.strike)}\n                                    onMouseLeave={() => setHoveredStrike(null)}\n                                    onClick={() => setSelectedStrike(row.strike)}\n                                >\n                                    {/* CE OI Value */}\n                                    <div className=\"w-16 text-right text-xs font-medium text-green-600\">\n                                        {formatNumber(row.ce_oi)}\n                                    </div>\n\n                                    {/* CE OI Bar */}\n                                    <div className=\"flex-1 flex justify-end items-center\">\n                                        <div className=\"h-6 rounded-l relative overflow-hidden\" style={{ width: `${ceWidth}%` }}>\n                                            <div className={`absolute inset-0 ${row.ce_oi_chng > 0 ? 'bg-gradient-to-l from-green-500 to-green-400' : 'bg-gradient-to-l from-green-300 to-green-200'}`} />\n                                            {row.ce_oi_chng !== 0 && (\n                                                <div className={`absolute right-1 top-1 text-[8px] font-bold ${row.ce_oi_chng > 0 ? 'text-green-800' : 'text-red-600'}`}>\n                                                    {row.ce_oi_chng > 0 ? '+' : ''}{formatNumber(row.ce_oi_chng)}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    {/* Strike */}\n                                    <div className={`w-12 text-center text-xs font-bold py-1 rounded ${isATM ? 'bg-blue-500 text-white' : isNearSpot ? 'bg-gray-200 dark:bg-gray-600' : 'bg-gray-100 dark:bg-gray-700'}`}>\n                                        {row.strike}\n                                    </div>\n\n                                    {/* Strike PCR Badge */}\n                                    <div className={`w-10 text-center text-[9px] font-bold py-0.5 px-1 rounded ${getPCRColor(row.pcr_oi)}`}>\n                                        {row.pcr_oi > 0 ? row.pcr_oi.toFixed(1) : '-'}\n                                    </div>\n\n                                    {/* PE OI Bar */}\n                                    <div className=\"flex-1 flex items-center\">\n                                        <div className=\"h-6 rounded-r relative overflow-hidden\" style={{ width: `${peWidth}%` }}>\n                                            <div className={`absolute inset-0 ${row.pe_oi_chng > 0 ? 'bg-gradient-to-r from-red-500 to-red-400' : 'bg-gradient-to-r from-red-300 to-red-200'}`} />\n                                            {row.pe_oi_chng !== 0 && (\n                                                <div className={`absolute left-1 top-1 text-[8px] font-bold ${row.pe_oi_chng > 0 ? 'text-red-800' : 'text-green-600'}`}>\n                                                    {row.pe_oi_chng > 0 ? '+' : ''}{formatNumber(row.pe_oi_chng)}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    {/* PE OI Value */}\n                                    <div className=\"w-16 text-left text-xs font-medium text-red-600\">\n                                        {formatNumber(row.pe_oi)}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                    \n                    {/* Legend */}\n                    <div className=\"flex justify-center gap-6 mt-4 text-xs text-gray-500\">\n                        <span className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-green-500\" /> Call OI</span>\n                        <span className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-red-500\" /> Put OI</span>\n                        <span className=\"flex items-center gap-1\"><span className=\"w-4 h-3 rounded bg-blue-500\" /> ATM</span>\n                        <span className=\"text-gray-400\">PCR: PE/CE ratio</span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Top Strikes Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* Top Call OI - Resistance */}\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                    <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-green-50 dark:bg-green-900/20\">\n                        <h3 className=\"font-semibold text-green-700 dark:text-green-400 flex items-center gap-2\">\n                            <ArrowTrendingUpIcon className=\"w-5 h-5\" />\n                            Top Resistance Levels (Max Call OI)\n                        </h3>\n                    </div>\n                    <div className=\"divide-y divide-gray-100 dark:divide-gray-700\">\n                        {topCEStrikes.map((row, i) => (\n                            <div key={i} className=\"px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/30 cursor-pointer\" onClick={() => setSelectedStrike(row.strike)}>\n                                <div className=\"flex items-center gap-3\">\n                                    <span className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${i === 0 ? 'bg-green-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}>\n                                        {i + 1}\n                                    </span>\n                                    <span className=\"font-bold\">{row.strike}</span>\n                                    <span className={`text-[10px] px-1.5 py-0.5 rounded ${getPCRColor(row.pcr_oi)}`}>\n                                        PCR {row.pcr_oi.toFixed(2)}\n                                    </span>\n                                </div>\n                                <div className=\"text-right\">\n                                    <div className=\"font-semibold text-green-600\">{formatNumber(row.ce_oi)}</div>\n                                    {row.ce_oi_chng !== 0 && (\n                                        <div className={`text-xs ${row.ce_oi_chng > 0 ? 'text-green-500' : 'text-red-500'}`}>\n                                            {row.ce_oi_chng > 0 ? '+' : ''}{formatNumber(row.ce_oi_chng)}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Top Put OI - Support */}\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                    <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-red-50 dark:bg-red-900/20\">\n                        <h3 className=\"font-semibold text-red-700 dark:text-red-400 flex items-center gap-2\">\n                            <ArrowTrendingDownIcon className=\"w-5 h-5\" />\n                            Top Support Levels (Max Put OI)\n                        </h3>\n                    </div>\n                    <div className=\"divide-y divide-gray-100 dark:divide-gray-700\">\n                        {topPEStrikes.map((row, i) => (\n                            <div key={i} className=\"px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/30 cursor-pointer\" onClick={() => setSelectedStrike(row.strike)}>\n                                <div className=\"flex items-center gap-3\">\n                                    <span className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${i === 0 ? 'bg-red-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}>\n                                        {i + 1}\n                                    </span>\n                                    <span className=\"font-bold\">{row.strike}</span>\n                                    <span className={`text-[10px] px-1.5 py-0.5 rounded ${getPCRColor(row.pcr_oi)}`}>\n                                        PCR {row.pcr_oi.toFixed(2)}\n                                    </span>\n                                </div>\n                                <div className=\"text-right\">\n                                    <div className=\"font-semibold text-red-600\">{formatNumber(row.pe_oi)}</div>\n                                    {row.pe_oi_chng !== 0 && (\n                                        <div className={`text-xs ${row.pe_oi_chng > 0 ? 'text-red-500' : 'text-green-500'}`}>\n                                            {row.pe_oi_chng > 0 ? '+' : ''}{formatNumber(row.pe_oi_chng)}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default OIAnalysis;\n","/**\n * Volume Analysis Component\n * Focused analysis of trading volume patterns\n */\nimport { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionChain, selectSpotPrice, selectATMStrike } from '../../context/selectors';\nimport { ChartBarIcon, BoltIcon } from '@heroicons/react/24/outline';\n\nconst VolumeAnalysis = () => {\n    const optionChain = useSelector(selectOptionChain);\n    const _spotPrice = useSelector(selectSpotPrice);\n    const atmStrike = useSelector(selectATMStrike);\n    const [hoveredStrike, setHoveredStrike] = useState(null);\n\n    const volumeData = useMemo(() => {\n        if (!optionChain) return [];\n        \n        return Object.entries(optionChain)\n            .map(([strike, data]) => {\n                const ce = data.ce || {};\n                const pe = data.pe || {};\n                return {\n                    strike: parseFloat(strike),\n                    ce_vol: ce.volume || ce.vol || 0,\n                    pe_vol: pe.volume || pe.vol || 0,\n                    ce_ltp: ce.ltp || 0,\n                    pe_ltp: pe.ltp || 0,\n                    ce_oi: ce.OI || ce.oi || 0,\n                    pe_oi: pe.OI || pe.oi || 0,\n                    ce_vol_oi_ratio: (ce.volume || ce.vol || 0) / (ce.OI || ce.oi || 1),\n                    pe_vol_oi_ratio: (pe.volume || pe.vol || 0) / (pe.OI || pe.oi || 1),\n                };\n            })\n            .filter(d => d.ce_vol > 0 || d.pe_vol > 0)\n            .sort((a, b) => a.strike - b.strike);\n    }, [optionChain]);\n\n    // Volume totals\n    const totals = useMemo(() => {\n        const totalCE = volumeData.reduce((sum, d) => sum + d.ce_vol, 0);\n        const totalPE = volumeData.reduce((sum, d) => sum + d.pe_vol, 0);\n        return { ce: totalCE, pe: totalPE, ratio: totalCE / (totalPE || 1) };\n    }, [volumeData]);\n\n    // Top volume spikes (high vol/oi ratio)\n    const volumeSpikes = useMemo(() => {\n        const spikes = [];\n        volumeData.forEach(d => {\n            if (d.ce_vol_oi_ratio > 0.5) spikes.push({ strike: d.strike, type: 'CE', ratio: d.ce_vol_oi_ratio, vol: d.ce_vol });\n            if (d.pe_vol_oi_ratio > 0.5) spikes.push({ strike: d.strike, type: 'PE', ratio: d.pe_vol_oi_ratio, vol: d.pe_vol });\n        });\n        return spikes.sort((a, b) => b.ratio - a.ratio).slice(0, 6);\n    }, [volumeData]);\n\n    const maxVol = useMemo(() => Math.max(...volumeData.flatMap(d => [d.ce_vol, d.pe_vol]), 1), [volumeData]);\n\n    // Format number as K/M/B/T\n    const formatNumber = (num) => {\n        if (!num || num === 0) return '0';\n        const absNum = Math.abs(num);\n        const sign = num < 0 ? '-' : '';\n        \n        if (absNum >= 1e12) return sign + (absNum / 1e12).toFixed(2) + 'T';\n        if (absNum >= 1e9) return sign + (absNum / 1e9).toFixed(2) + 'B';\n        if (absNum >= 1e6) return sign + (absNum / 1e6).toFixed(2) + 'M';\n        if (absNum >= 1e3) return sign + (absNum / 1e3).toFixed(1) + 'K';\n        return sign + absNum.toFixed(0);\n    };\n\n    if (!optionChain) {\n        return (\n            <div className=\"p-8 text-center text-gray-400\">\n                <ChartBarIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>Load Option Chain data first</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Premium Summary Cards */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-2xl p-5 text-white shadow-lg shadow-cyan-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Total Call Volume</div>\n                        <div className=\"text-3xl font-bold\">{formatNumber(totals.ce)}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">Contracts traded</div>\n                    </div>\n                </div>\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-pink-500 to-rose-600 rounded-2xl p-5 text-white shadow-lg shadow-pink-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Total Put Volume</div>\n                        <div className=\"text-3xl font-bold\">{formatNumber(totals.pe)}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">Contracts traded</div>\n                    </div>\n                </div>\n                <div className=\"glass rounded-2xl p-5 border border-slate-200 dark:border-slate-700\">\n                    <div className=\"text-xs text-slate-500 mb-1 font-medium\">Volume Ratio (CE/PE)</div>\n                    <div className={`text-3xl font-bold ${totals.ratio > 1 ? 'text-emerald-600' : 'text-rose-600'}`}>\n                        {totals.ratio.toFixed(2)}\n                    </div>\n                    <div className={`text-xs mt-1 ${totals.ratio > 1 ? 'text-emerald-500' : 'text-rose-500'}`}>\n                        {totals.ratio > 1 ? '↑ More calls' : '↓ More puts'}\n                    </div>\n                </div>\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-5 text-white shadow-lg shadow-amber-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Active Strikes</div>\n                        <div className=\"text-3xl font-bold\">{volumeData.length}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">With volume</div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Volume Spikes Alert */}\n            {volumeSpikes.length > 0 && (\n                <div className=\"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700/50 rounded-xl p-4\">\n                    <h3 className=\"font-semibold text-amber-700 dark:text-amber-400 flex items-center gap-2 mb-3\">\n                        <BoltIcon className=\"w-5 h-5\" />\n                        Volume Spike Alerts (High Volume/OI Ratio)\n                    </h3>\n                    <div className=\"flex flex-wrap gap-2\">\n                        {volumeSpikes.map((spike, i) => (\n                            <div \n                                key={i} \n                                className={`px-3 py-1.5 rounded-lg text-sm font-medium ${spike.type === 'CE' ? 'bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300' : 'bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300'}`}\n                            >\n                                {spike.strike} {spike.type} • {(spike.ratio * 100).toFixed(0)}% Vol/OI\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            )}\n\n            {/* Volume Distribution Chart */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 className=\"font-semibold flex items-center gap-2\">\n                        <ChartBarIcon className=\"w-5 h-5 text-cyan-500\" />\n                        Volume Distribution by Strike\n                    </h3>\n                </div>\n                <div className=\"p-4 overflow-x-auto\">\n                    <div className=\"min-w-[600px] space-y-1\">\n                        {volumeData.map((row, i) => {\n                            const ceWidth = (row.ce_vol / maxVol) * 100;\n                            const peWidth = (row.pe_vol / maxVol) * 100;\n                            const isATM = row.strike === atmStrike;\n                            const isHovered = hoveredStrike === row.strike;\n\n                            return (\n                                <div \n                                    key={i} \n                                    className={`flex items-center gap-1 py-1 cursor-pointer rounded ${isATM ? 'bg-blue-50 dark:bg-blue-900/30' : ''} ${isHovered ? 'bg-gray-50 dark:bg-gray-700/50' : ''}`}\n                                    onMouseEnter={() => setHoveredStrike(row.strike)}\n                                    onMouseLeave={() => setHoveredStrike(null)}\n                                >\n                                    {/* CE Volume Bar */}\n                                    <div className=\"flex-1 flex justify-end items-center gap-1\">\n                                        {isHovered && <span className=\"text-[10px] text-cyan-600 font-medium\">{formatNumber(row.ce_vol)}</span>}\n                                        <div \n                                            className=\"h-4 rounded-l bg-gradient-to-l from-cyan-500 to-cyan-400\"\n                                            style={{ width: `${ceWidth}%` }}\n                                        />\n                                    </div>\n\n                                    {/* Strike */}\n                                    <div className={`w-14 text-center text-xs font-bold py-1 rounded ${isATM ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}>\n                                        {row.strike}\n                                    </div>\n\n                                    {/* PE Volume Bar */}\n                                    <div className=\"flex-1 flex items-center gap-1\">\n                                        <div \n                                            className=\"h-4 rounded-r bg-gradient-to-r from-pink-500 to-pink-400\"\n                                            style={{ width: `${peWidth}%` }}\n                                        />\n                                        {isHovered && <span className=\"text-[10px] text-pink-600 font-medium\">{formatNumber(row.pe_vol)}</span>}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                    <div className=\"flex justify-center gap-6 mt-4 text-xs text-gray-500\">\n                        <span className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-cyan-500\" /> Call Volume</span>\n                        <span className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-pink-500\" /> Put Volume</span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Volume Table */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 className=\"font-semibold\">Strike-wise Volume Details</h3>\n                </div>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-xs\">\n                        <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\n                            <tr>\n                                <th className=\"p-2 text-center\">Strike</th>\n                                <th className=\"p-2 text-right text-cyan-600\">CE Vol</th>\n                                <th className=\"p-2 text-right text-cyan-600\">CE LTP</th>\n                                <th className=\"p-2 text-right text-cyan-600\">Vol/OI %</th>\n                                <th className=\"p-2 text-left text-pink-600\">Vol/OI %</th>\n                                <th className=\"p-2 text-left text-pink-600\">PE LTP</th>\n                                <th className=\"p-2 text-left text-pink-600\">PE Vol</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-gray-100 dark:divide-gray-700\">\n                            {volumeData.slice(0, 20).map((row, i) => (\n                                <tr key={i} className={row.strike === atmStrike ? 'bg-blue-50 dark:bg-blue-900/20' : ''}>\n                                    <td className=\"p-2 text-center font-bold\">{row.strike}</td>\n                                    <td className=\"p-2 text-right\">{formatNumber(row.ce_vol)}</td>\n                                    <td className=\"p-2 text-right\">{row.ce_ltp.toFixed(2)}</td>\n                                    <td className=\"p-2 text-right\">\n                                        <span className={`px-1 rounded ${row.ce_vol_oi_ratio > 0.5 ? 'bg-amber-100 text-amber-700' : ''}`}>\n                                            {(row.ce_vol_oi_ratio * 100).toFixed(0)}%\n                                        </span>\n                                    </td>\n                                    <td className=\"p-2 text-left\">\n                                        <span className={`px-1 rounded ${row.pe_vol_oi_ratio > 0.5 ? 'bg-amber-100 text-amber-700' : ''}`}>\n                                            {(row.pe_vol_oi_ratio * 100).toFixed(0)}%\n                                        </span>\n                                    </td>\n                                    <td className=\"p-2 text-left\">{row.pe_ltp.toFixed(2)}</td>\n                                    <td className=\"p-2 text-left\">{formatNumber(row.pe_vol)}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default VolumeAnalysis;\n","/**\n * Greeks Analysis Component\n * Heatmap and charts for Delta, Gamma, Theta, Vega\n */\nimport { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionChain, selectSpotPrice, selectATMStrike } from '../../context/selectors';\nimport { BeakerIcon, ChartBarIcon } from '@heroicons/react/24/outline';\n\nconst GreeksAnalysis = () => {\n    const optionChain = useSelector(selectOptionChain);\n    const _spotPrice = useSelector(selectSpotPrice);\n    const atmStrike = useSelector(selectATMStrike);\n    const [selectedGreek, setSelectedGreek] = useState('delta');\n\n    const greeksData = useMemo(() => {\n        if (!optionChain) return [];\n        \n        return Object.entries(optionChain)\n            .map(([strike, data]) => {\n                const ce = data.ce?.optgeeks || data.ce?.greeks || {};\n                const pe = data.pe?.optgeeks || data.pe?.greeks || {};\n                return {\n                    strike: parseFloat(strike),\n                    ce_delta: ce.delta || 0,\n                    pe_delta: pe.delta || 0,\n                    ce_gamma: ce.gamma || 0,\n                    pe_gamma: pe.gamma || 0,\n                    ce_theta: ce.theta || 0,\n                    pe_theta: pe.theta || 0,\n                    ce_vega: ce.vega || 0,\n                    pe_vega: pe.vega || 0,\n                    ce_iv: data.ce?.iv || 0,\n                    pe_iv: data.pe?.iv || 0,\n                };\n            })\n            .filter(d => d.ce_delta !== 0 || d.pe_delta !== 0)\n            .sort((a, b) => a.strike - b.strike);\n    }, [optionChain]);\n\n    // Net Greeks (simplified calculation)\n    const netGreeks = useMemo(() => {\n        return {\n            delta: greeksData.reduce((sum, d) => sum + d.ce_delta + d.pe_delta, 0),\n            gamma: greeksData.reduce((sum, d) => sum + d.ce_gamma + d.pe_gamma, 0),\n            theta: greeksData.reduce((sum, d) => sum + d.ce_theta + d.pe_theta, 0),\n            vega: greeksData.reduce((sum, d) => sum + d.ce_vega + d.pe_vega, 0),\n        };\n    }, [greeksData]);\n\n    const greekColors = {\n        delta: { ce: '#10B981', pe: '#EF4444' },\n        gamma: { ce: '#8B5CF6', pe: '#F59E0B' },\n        theta: { ce: '#06B6D4', pe: '#EC4899' },\n        vega: { ce: '#3B82F6', pe: '#84CC16' },\n    };\n\n    const getHeatmapColor = (value, greek, type) => {\n        const absValue = Math.abs(value);\n        const maxValues = { delta: 1, gamma: 0.01, theta: 50, vega: 100 };\n        const intensity = Math.min(absValue / (maxValues[greek] || 1), 1);\n        \n        if (type === 'ce') {\n            return `rgba(16, 185, 129, ${intensity})`;\n        } else {\n            return `rgba(239, 68, 68, ${intensity})`;\n        }\n    };\n\n    if (!optionChain || greeksData.length === 0) {\n        return (\n            <div className=\"p-8 text-center text-gray-400\">\n                <BeakerIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>No Greeks data available. Load Option Chain first.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Premium Net Greeks Summary */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl p-5 text-white shadow-lg shadow-emerald-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Net Delta</div>\n                        <div className=\"text-3xl font-bold\">{netGreeks.delta.toFixed(2)}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">Direction exposure</div>\n                    </div>\n                </div>\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl p-5 text-white shadow-lg shadow-violet-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Net Gamma</div>\n                        <div className=\"text-3xl font-bold\">{netGreeks.gamma.toFixed(4)}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">Acceleration</div>\n                    </div>\n                </div>\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl p-5 text-white shadow-lg shadow-cyan-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Net Theta</div>\n                        <div className=\"text-3xl font-bold\">{netGreeks.theta.toFixed(2)}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">Time decay</div>\n                    </div>\n                </div>\n                <div className=\"relative overflow-hidden bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-5 text-white shadow-lg shadow-blue-500/25\">\n                    <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                    <div className=\"relative\">\n                        <div className=\"text-xs opacity-80 mb-1 font-medium\">Net Vega</div>\n                        <div className=\"text-3xl font-bold\">{netGreeks.vega.toFixed(2)}</div>\n                        <div className=\"text-xs opacity-70 mt-1\">Volatility</div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Premium Greek Selector */}\n            <div className=\"flex gap-2 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl w-fit\">\n                {['delta', 'gamma', 'theta', 'vega'].map(greek => (\n                    <button\n                        key={greek}\n                        onClick={() => setSelectedGreek(greek)}\n                        className={`px-5 py-2.5 rounded-lg text-sm font-bold capitalize transition-all ${\n                            selectedGreek === greek \n                                ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg' \n                                : 'text-slate-600 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-700'\n                        }`}\n                    >\n                        {greek}\n                    </button>\n                ))}\n            </div>\n\n            {/* Greeks Heatmap */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 className=\"font-semibold flex items-center gap-2 capitalize\">\n                        <BeakerIcon className=\"w-5 h-5 text-purple-500\" />\n                        {selectedGreek} Heatmap by Strike\n                    </h3>\n                </div>\n                <div className=\"p-4 overflow-x-auto\">\n                    <div className=\"min-w-[600px]\">\n                        {/* Header */}\n                        <div className=\"flex items-center gap-1 mb-2 text-xs text-gray-500\">\n                            <div className=\"flex-1 text-right\">CE {selectedGreek}</div>\n                            <div className=\"w-14 text-center font-bold\">Strike</div>\n                            <div className=\"flex-1 text-left\">PE {selectedGreek}</div>\n                        </div>\n\n                        {/* Rows */}\n                        {greeksData.map((row, i) => {\n                            const ceValue = row[`ce_${selectedGreek}`];\n                            const peValue = row[`pe_${selectedGreek}`];\n                            const isATM = row.strike === atmStrike;\n\n                            return (\n                                <div key={i} className={`flex items-center gap-1 py-0.5 ${isATM ? 'bg-blue-50 dark:bg-blue-900/20' : ''}`}>\n                                    {/* CE Value Cell */}\n                                    <div className=\"flex-1 flex justify-end\">\n                                        <div \n                                            className=\"px-2 py-1 rounded text-xs font-medium text-right min-w-16\"\n                                            style={{ backgroundColor: getHeatmapColor(ceValue, selectedGreek, 'ce') }}\n                                        >\n                                            {ceValue.toFixed(selectedGreek === 'gamma' ? 4 : 2)}\n                                        </div>\n                                    </div>\n\n                                    {/* Strike */}\n                                    <div className={`w-14 text-center text-xs font-bold py-1 rounded ${isATM ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}>\n                                        {row.strike}\n                                    </div>\n\n                                    {/* PE Value Cell */}\n                                    <div className=\"flex-1\">\n                                        <div \n                                            className=\"px-2 py-1 rounded text-xs font-medium min-w-16\"\n                                            style={{ backgroundColor: getHeatmapColor(peValue, selectedGreek, 'pe') }}\n                                        >\n                                            {peValue.toFixed(selectedGreek === 'gamma' ? 4 : 2)}\n                                        </div>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </div>\n\n            {/* Greeks Chart */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 className=\"font-semibold flex items-center gap-2 capitalize\">\n                        <ChartBarIcon className=\"w-5 h-5 text-blue-500\" />\n                        {selectedGreek} Distribution\n                    </h3>\n                </div>\n                <div className=\"p-4\">\n                    <GreeksChart data={greeksData} greek={selectedGreek} atmStrike={atmStrike} colors={greekColors[selectedGreek]} />\n                </div>\n            </div>\n\n            {/* IV Comparison */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 className=\"font-semibold\">IV Skew Analysis</h3>\n                </div>\n                <div className=\"p-4\">\n                    <IVSkewChart data={greeksData} atmStrike={atmStrike} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// Greeks Line Chart Component\nconst GreeksChart = ({ data, greek, atmStrike, colors }) => {\n    if (!data || data.length === 0) return null;\n\n    const width = 700;\n    const height = 200;\n    const padding = { left: 50, right: 30, top: 20, bottom: 30 };\n\n    const ceValues = data.map(d => d[`ce_${greek}`]);\n    const peValues = data.map(d => d[`pe_${greek}`]);\n    const allValues = [...ceValues, ...peValues];\n    const minVal = Math.min(...allValues);\n    const maxVal = Math.max(...allValues);\n    const range = maxVal - minVal || 1;\n\n    const xScale = (i) => padding.left + (i / (data.length - 1)) * (width - padding.left - padding.right);\n    const yScale = (v) => padding.top + ((maxVal - v) / range) * (height - padding.top - padding.bottom);\n\n    const cePoints = data.map((d, i) => `${xScale(i)},${yScale(d[`ce_${greek}`])}`).join(' ');\n    const pePoints = data.map((d, i) => `${xScale(i)},${yScale(d[`pe_${greek}`])}`).join(' ');\n\n    return (\n        <svg width=\"100%\" height={height} viewBox={`0 0 ${width} ${height}`}>\n            {/* Zero line */}\n            {minVal < 0 && maxVal > 0 && (\n                <line x1={padding.left} y1={yScale(0)} x2={width - padding.right} y2={yScale(0)} stroke=\"#E5E7EB\" strokeDasharray=\"4\" />\n            )}\n\n            {/* ATM marker */}\n            {atmStrike && data.findIndex(d => d.strike === atmStrike) >= 0 && (\n                <line \n                    x1={xScale(data.findIndex(d => d.strike === atmStrike))} \n                    y1={padding.top} \n                    x2={xScale(data.findIndex(d => d.strike === atmStrike))} \n                    y2={height - padding.bottom}\n                    stroke=\"#3B82F6\" strokeWidth=\"2\" strokeDasharray=\"4\"\n                />\n            )}\n\n            {/* Lines */}\n            <polyline points={cePoints} fill=\"none\" stroke={colors.ce} strokeWidth=\"3\" strokeLinecap=\"round\" />\n            <polyline points={pePoints} fill=\"none\" stroke={colors.pe} strokeWidth=\"3\" strokeLinecap=\"round\" />\n\n            {/* Dots */}\n            {data.map((d, i) => (\n                <g key={i}>\n                    <circle cx={xScale(i)} cy={yScale(d[`ce_${greek}`])} r=\"3\" fill={colors.ce} />\n                    <circle cx={xScale(i)} cy={yScale(d[`pe_${greek}`])} r=\"3\" fill={colors.pe} />\n                </g>\n            ))}\n\n            {/* Labels */}\n            <text x={padding.left - 5} y={padding.top + 5} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">{maxVal.toFixed(2)}</text>\n            <text x={padding.left - 5} y={height - padding.bottom} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">{minVal.toFixed(2)}</text>\n\n            {/* Legend */}\n            <g transform={`translate(${width - 100}, 10)`}>\n                <line x1=\"0\" y1=\"6\" x2=\"15\" y2=\"6\" stroke={colors.ce} strokeWidth=\"3\" />\n                <text x=\"20\" y=\"10\" className=\"fill-gray-600 text-[10px]\">CE</text>\n                <line x1=\"45\" y1=\"6\" x2=\"60\" y2=\"6\" stroke={colors.pe} strokeWidth=\"3\" />\n                <text x=\"65\" y=\"10\" className=\"fill-gray-600 text-[10px]\">PE</text>\n            </g>\n        </svg>\n    );\n};\n\n// IV Skew Chart\nconst IVSkewChart = ({ data, atmStrike }) => {\n    if (!data || data.length === 0) return null;\n\n    const width = 700;\n    const height = 180;\n    const padding = { left: 50, right: 30, top: 20, bottom: 30 };\n\n    const ivData = data.filter(d => d.ce_iv > 0 || d.pe_iv > 0);\n    const maxIV = Math.max(...ivData.flatMap(d => [d.ce_iv, d.pe_iv]));\n\n    const xScale = (i) => padding.left + (i / (ivData.length - 1)) * (width - padding.left - padding.right);\n    const yScale = (iv) => padding.top + ((maxIV - iv) / maxIV) * (height - padding.top - padding.bottom);\n\n    const cePoints = ivData.map((d, i) => `${xScale(i)},${yScale(d.ce_iv)}`).join(' ');\n    const pePoints = ivData.map((d, i) => `${xScale(i)},${yScale(d.pe_iv)}`).join(' ');\n\n    return (\n        <svg width=\"100%\" height={height} viewBox={`0 0 ${width} ${height}`}>\n            {/* Grid */}\n            {[0.25, 0.5, 0.75].map((t, i) => (\n                <line key={i} x1={padding.left} y1={yScale(maxIV * t)} x2={width - padding.right} y2={yScale(maxIV * t)} stroke=\"#E5E7EB\" strokeDasharray=\"2\" />\n            ))}\n\n            {/* ATM marker */}\n            {atmStrike && ivData.findIndex(d => d.strike === atmStrike) >= 0 && (\n                <>\n                    <line \n                        x1={xScale(ivData.findIndex(d => d.strike === atmStrike))} \n                        y1={padding.top} \n                        x2={xScale(ivData.findIndex(d => d.strike === atmStrike))} \n                        y2={height - padding.bottom}\n                        stroke=\"#3B82F6\" strokeWidth=\"2\" strokeDasharray=\"4\"\n                    />\n                    <text x={xScale(ivData.findIndex(d => d.strike === atmStrike))} y={height - 5} textAnchor=\"middle\" className=\"fill-blue-600 text-[10px] font-bold\">ATM</text>\n                </>\n            )}\n\n            {/* IV curves */}\n            <polyline points={cePoints} fill=\"none\" stroke=\"#10B981\" strokeWidth=\"2.5\" strokeLinecap=\"round\" />\n            <polyline points={pePoints} fill=\"none\" stroke=\"#EF4444\" strokeWidth=\"2.5\" strokeLinecap=\"round\" />\n\n            {/* Y axis */}\n            <text x={padding.left - 5} y={padding.top + 5} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">{maxIV.toFixed(0)}%</text>\n            <text x={padding.left - 5} y={height - padding.bottom} textAnchor=\"end\" className=\"fill-gray-400 text-[10px]\">0%</text>\n\n            {/* Legend */}\n            <g transform={`translate(${width - 100}, 10)`}>\n                <line x1=\"0\" y1=\"6\" x2=\"15\" y2=\"6\" stroke=\"#10B981\" strokeWidth=\"3\" />\n                <text x=\"20\" y=\"10\" className=\"fill-gray-600 text-[10px]\">CE IV</text>\n                <line x1=\"55\" y1=\"6\" x2=\"70\" y2=\"6\" stroke=\"#EF4444\" strokeWidth=\"3\" />\n                <text x=\"75\" y=\"10\" className=\"fill-gray-600 text-[10px]\">PE IV</text>\n            </g>\n        </svg>\n    );\n};\n\nexport default GreeksAnalysis;\n","/**\n * Straddle/Strangle Analysis Component\n * ATM Straddle pricing and visualization\n */\nimport { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionChain, selectSpotPrice, selectATMStrike, selectDaysToExpiry, selectATMIV } from '../../context/selectors';\nimport { ScaleIcon, ChartBarIcon, ClockIcon, ArrowsRightLeftIcon } from '@heroicons/react/24/outline';\n\nconst StraddleAnalysis = () => {\n    const optionChain = useSelector(selectOptionChain);\n    const spotPrice = useSelector(selectSpotPrice);\n    const atmStrike = useSelector(selectATMStrike);\n    const daysToExpiry = useSelector(selectDaysToExpiry);\n    const _atmIV = useSelector(selectATMIV);\n    \n    const [selectedStrike, setSelectedStrike] = useState(null);\n    const [strangleWidth, setStrangleWidth] = useState(100);\n\n    // Get strikes around ATM\n    const strikes = useMemo(() => {\n        if (!optionChain) return [];\n        return Object.keys(optionChain)\n            .map(Number)\n            .sort((a, b) => a - b);\n    }, [optionChain]);\n\n    // ATM Straddle data\n    const straddleData = useMemo(() => {\n        if (!optionChain || !atmStrike) return null;\n        \n        const strike = selectedStrike || atmStrike;\n        const data = optionChain[strike];\n        if (!data) return null;\n\n        const ce = data.ce || {};\n        const pe = data.pe || {};\n        const ceLTP = ce.ltp || 0;\n        const peLTP = pe.ltp || 0;\n        const straddlePrice = ceLTP + peLTP;\n        const upperBE = strike + straddlePrice;\n        const lowerBE = strike - straddlePrice;\n\n        return {\n            strike,\n            ceLTP,\n            peLTP,\n            straddlePrice,\n            upperBE,\n            lowerBE,\n            ceIV: ce.iv || 0,\n            peIV: pe.iv || 0,\n            avgIV: ((ce.iv || 0) + (pe.iv || 0)) / 2,\n            ceDelta: ce.optgeeks?.delta || 0,\n            peDelta: pe.optgeeks?.delta || 0,\n            ceTheta: ce.optgeeks?.theta || 0,\n            peTheta: pe.optgeeks?.theta || 0,\n            maxLoss: straddlePrice,\n            expectedMove: straddlePrice / strike * 100,\n        };\n    }, [optionChain, atmStrike, selectedStrike]);\n\n    // Strangle data\n    const strangleData = useMemo(() => {\n        if (!optionChain || !atmStrike) return null;\n        \n        const ceStrike = atmStrike + strangleWidth;\n        const peStrike = atmStrike - strangleWidth;\n        \n        const ceData = optionChain[ceStrike]?.ce || {};\n        const peData = optionChain[peStrike]?.pe || {};\n        \n        const ceLTP = ceData.ltp || 0;\n        const peLTP = peData.ltp || 0;\n        const stranglePrice = ceLTP + peLTP;\n\n        return {\n            ceStrike,\n            peStrike,\n            ceLTP,\n            peLTP,\n            stranglePrice,\n            upperBE: ceStrike + stranglePrice,\n            lowerBE: peStrike - stranglePrice,\n            savings: straddleData ? straddleData.straddlePrice - stranglePrice : 0,\n        };\n    }, [optionChain, atmStrike, strangleWidth, straddleData]);\n\n    // Payoff calculation\n    const payoffData = useMemo(() => {\n        if (!straddleData) return [];\n        \n        const { strike, straddlePrice: _straddlePrice } = straddleData;\n        const points = [];\n        \n        for (let price = strike - 500; price <= strike + 500; price += 10) {\n            const cePayoff = Math.max(0, price - strike) - straddleData.ceLTP;\n            const pePayoff = Math.max(0, strike - price) - straddleData.peLTP;\n            points.push({\n                price,\n                payoff: cePayoff + pePayoff,\n            });\n        }\n        \n        return points;\n    }, [straddleData]);\n\n    if (!optionChain) {\n        return (\n            <div className=\"p-8 text-center text-gray-400\">\n                <ScaleIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>Load Option Chain data first</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Premium Strike Selector */}\n            <div className=\"glass rounded-2xl p-4 border border-slate-200/50 dark:border-slate-700/50\">\n                <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n                    <div className=\"flex items-center gap-3\">\n                        <label className=\"text-sm font-semibold text-slate-700 dark:text-slate-300\">Strike:</label>\n                        <select\n                            value={selectedStrike || atmStrike}\n                            onChange={(e) => setSelectedStrike(Number(e.target.value))}\n                            className=\"px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm font-medium focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all\"\n                        >\n                            {strikes.map(s => (\n                                <option key={s} value={s}>\n                                    {s} {s === atmStrike ? '(ATM)' : ''}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 bg-purple-50 dark:bg-purple-900/30 rounded-xl\">\n                        <ClockIcon className=\"w-4 h-4 text-purple-600 dark:text-purple-400\" />\n                        <span className=\"text-sm font-semibold text-purple-700 dark:text-purple-300\">{daysToExpiry} days to expiry</span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Premium Straddle Summary */}\n            {straddleData && (\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <div className=\"relative overflow-hidden bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl p-5 text-white shadow-lg shadow-violet-500/25\">\n                        <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                        <div className=\"relative\">\n                            <div className=\"text-xs opacity-80 mb-1 font-medium\">Straddle Price</div>\n                            <div className=\"text-3xl font-bold\">₹{straddleData.straddlePrice.toFixed(2)}</div>\n                            <div className=\"text-xs opacity-70 mt-1\">CE + PE Premium</div>\n                        </div>\n                    </div>\n                    <div className=\"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-5 text-white shadow-lg shadow-emerald-500/25\">\n                        <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                        <div className=\"relative\">\n                            <div className=\"text-xs opacity-80 mb-1 font-medium\">Upper Breakeven</div>\n                            <div className=\"text-3xl font-bold\">{straddleData.upperBE.toFixed(0)}</div>\n                            <div className=\"text-xs opacity-70 mt-1\">+{(straddleData.upperBE - spotPrice).toFixed(0)} from spot</div>\n                        </div>\n                    </div>\n                    <div className=\"relative overflow-hidden bg-gradient-to-br from-rose-500 to-red-600 rounded-2xl p-5 text-white shadow-lg shadow-rose-500/25\">\n                        <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                        <div className=\"relative\">\n                            <div className=\"text-xs opacity-80 mb-1 font-medium\">Lower Breakeven</div>\n                            <div className=\"text-3xl font-bold\">{straddleData.lowerBE.toFixed(0)}</div>\n                            <div className=\"text-xs opacity-70 mt-1\">{(straddleData.lowerBE - spotPrice).toFixed(0)} from spot</div>\n                        </div>\n                    </div>\n                    <div className=\"relative overflow-hidden bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-5 text-white shadow-lg shadow-amber-500/25\">\n                        <div className=\"absolute -right-4 -top-4 w-16 h-16 bg-white/10 rounded-full blur-xl\" />\n                        <div className=\"relative\">\n                            <div className=\"text-xs opacity-80 mb-1 font-medium\">Expected Move</div>\n                            <div className=\"text-3xl font-bold\">±{straddleData.expectedMove.toFixed(2)}%</div>\n                            <div className=\"text-xs opacity-70 mt-1\">{straddleData.straddlePrice.toFixed(0)} pts range</div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Straddle Details */}\n            {straddleData && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    {/* Premium Breakdown */}\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                            <h3 className=\"font-semibold flex items-center gap-2\">\n                                <ScaleIcon className=\"w-5 h-5 text-purple-500\" />\n                                Premium Breakdown\n                            </h3>\n                        </div>\n                        <div className=\"p-4 space-y-4\">\n                            {/* Visual bar */}\n                            <div className=\"flex h-8 rounded-lg overflow-hidden\">\n                                <div \n                                    className=\"bg-green-500 flex items-center justify-center text-white text-xs font-bold\"\n                                    style={{ width: `${(straddleData.ceLTP / straddleData.straddlePrice) * 100}%` }}\n                                >\n                                    CE ₹{straddleData.ceLTP.toFixed(0)}\n                                </div>\n                                <div \n                                    className=\"bg-red-500 flex items-center justify-center text-white text-xs font-bold\"\n                                    style={{ width: `${(straddleData.peLTP / straddleData.straddlePrice) * 100}%` }}\n                                >\n                                    PE ₹{straddleData.peLTP.toFixed(0)}\n                                </div>\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                                <div>\n                                    <div className=\"text-gray-500\">CE Premium</div>\n                                    <div className=\"font-bold text-green-600\">₹{straddleData.ceLTP.toFixed(2)}</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-500\">PE Premium</div>\n                                    <div className=\"font-bold text-red-600\">₹{straddleData.peLTP.toFixed(2)}</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-500\">CE IV</div>\n                                    <div className=\"font-bold\">{straddleData.ceIV.toFixed(2)}%</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-500\">PE IV</div>\n                                    <div className=\"font-bold\">{straddleData.peIV.toFixed(2)}%</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-500\">Net Theta</div>\n                                    <div className=\"font-bold text-amber-600\">₹{(straddleData.ceTheta + straddleData.peTheta).toFixed(2)}</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-500\">Net Delta</div>\n                                    <div className=\"font-bold\">{(straddleData.ceDelta + straddleData.peDelta).toFixed(3)}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Payoff Chart */}\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                            <h3 className=\"font-semibold flex items-center gap-2\">\n                                <ChartBarIcon className=\"w-5 h-5 text-blue-500\" />\n                                Payoff Diagram\n                            </h3>\n                        </div>\n                        <div className=\"p-4\">\n                            <PayoffChart data={payoffData} spotPrice={spotPrice} strike={straddleData.strike} />\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Strangle Builder */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 className=\"font-semibold flex items-center gap-2\">\n                        <ArrowsRightLeftIcon className=\"w-5 h-5 text-indigo-500\" />\n                        Strangle Builder\n                    </h3>\n                </div>\n                <div className=\"p-4\">\n                    <div className=\"flex items-center gap-4 mb-4\">\n                        <label className=\"text-sm font-medium\">Width from ATM:</label>\n                        <input\n                            type=\"range\"\n                            min=\"50\"\n                            max=\"500\"\n                            step=\"50\"\n                            value={strangleWidth}\n                            onChange={(e) => setStrangleWidth(Number(e.target.value))}\n                            className=\"flex-1\"\n                        />\n                        <span className=\"font-bold text-indigo-600\">{strangleWidth} pts</span>\n                    </div>\n\n                    {strangleData && (\n                        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 text-center\">\n                            <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-3\">\n                                <div className=\"text-xs text-green-600\">CE Strike</div>\n                                <div className=\"font-bold text-lg\">{strangleData.ceStrike}</div>\n                                <div className=\"text-sm text-green-600\">₹{strangleData.ceLTP.toFixed(2)}</div>\n                            </div>\n                            <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-3\">\n                                <div className=\"text-xs text-red-600\">PE Strike</div>\n                                <div className=\"font-bold text-lg\">{strangleData.peStrike}</div>\n                                <div className=\"text-sm text-red-600\">₹{strangleData.peLTP.toFixed(2)}</div>\n                            </div>\n                            <div className=\"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-3\">\n                                <div className=\"text-xs text-indigo-600\">Strangle Price</div>\n                                <div className=\"font-bold text-lg\">₹{strangleData.stranglePrice.toFixed(2)}</div>\n                            </div>\n                            <div className=\"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3\">\n                                <div className=\"text-xs text-amber-600\">Savings vs Straddle</div>\n                                <div className=\"font-bold text-lg text-green-600\">₹{strangleData.savings.toFixed(2)}</div>\n                            </div>\n                            <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                                <div className=\"text-xs text-gray-600\">Breakeven Range</div>\n                                <div className=\"font-bold\">{strangleData.lowerBE.toFixed(0)} - {strangleData.upperBE.toFixed(0)}</div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// Payoff Chart Component\nconst PayoffChart = ({ data, spotPrice, strike }) => {\n    if (!data || data.length === 0) return null;\n\n    const width = 400;\n    const height = 180;\n    const padding = { left: 40, right: 20, top: 10, bottom: 30 };\n\n    const prices = data.map(d => d.price);\n    const payoffs = data.map(d => d.payoff);\n    const minPrice = Math.min(...prices);\n    const maxPrice = Math.max(...prices);\n    const minPayoff = Math.min(...payoffs);\n    const maxPayoff = Math.max(...payoffs);\n    const payoffRange = maxPayoff - minPayoff || 1;\n\n    const xScale = (price) => padding.left + ((price - minPrice) / (maxPrice - minPrice)) * (width - padding.left - padding.right);\n    const yScale = (payoff) => padding.top + ((maxPayoff - payoff) / payoffRange) * (height - padding.top - padding.bottom);\n\n    const points = data.map(d => `${xScale(d.price)},${yScale(d.payoff)}`).join(' ');\n    const zeroY = yScale(0);\n\n    return (\n        <svg width=\"100%\" height={height} viewBox={`0 0 ${width} ${height}`}>\n            {/* Zero line */}\n            <line x1={padding.left} y1={zeroY} x2={width - padding.right} y2={zeroY} stroke=\"#E5E7EB\" strokeWidth=\"1\" />\n            \n            {/* Strike line */}\n            <line x1={xScale(strike)} y1={padding.top} x2={xScale(strike)} y2={height - padding.bottom} stroke=\"#8B5CF6\" strokeWidth=\"2\" strokeDasharray=\"4\" />\n            \n            {/* Spot line */}\n            <line x1={xScale(spotPrice)} y1={padding.top} x2={xScale(spotPrice)} y2={height - padding.bottom} stroke=\"#3B82F6\" strokeWidth=\"2\" />\n\n            {/* Payoff line */}\n            <polyline \n                points={points} \n                fill=\"none\" \n                stroke=\"#10B981\" \n                strokeWidth=\"2.5\" \n            />\n\n            {/* Fill profit area */}\n            <polygon\n                points={`${points} ${xScale(maxPrice)},${zeroY} ${xScale(minPrice)},${zeroY}`}\n                fill=\"url(#payoffGradient)\"\n            />\n            <defs>\n                <linearGradient id=\"payoffGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                    <stop offset=\"0%\" stopColor=\"#10B981\" stopOpacity=\"0.3\" />\n                    <stop offset=\"100%\" stopColor=\"#10B981\" stopOpacity=\"0\" />\n                </linearGradient>\n            </defs>\n\n            {/* Labels */}\n            <text x={xScale(strike)} y={height - 5} textAnchor=\"middle\" className=\"fill-purple-600 text-[9px] font-bold\">Strike</text>\n            <text x={xScale(spotPrice)} y={height - 5} textAnchor=\"middle\" className=\"fill-blue-600 text-[9px] font-bold\">Spot</text>\n        </svg>\n    );\n};\n\nexport default StraddleAnalysis;\n","/**\n * Multi-Strike Analysis Component\n * Compare multiple strikes side by side\n */\nimport { useMemo, useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionChain, selectSpotPrice, selectATMStrike } from '../../context/selectors';\nimport { ChartBarIcon, XMarkIcon, EyeIcon } from '@heroicons/react/24/outline';\n\nconst MultiStrikeAnalysis = () => {\n    const optionChain = useSelector(selectOptionChain);\n    const _spotPrice = useSelector(selectSpotPrice);\n    const atmStrike = useSelector(selectATMStrike);\n    \n    const [selectedStrikes, setSelectedStrikes] = useState([]);\n    const [compareField, setCompareField] = useState('oi');\n\n    const strikes = useMemo(() => {\n        if (!optionChain) return [];\n        return Object.keys(optionChain).map(Number).sort((a, b) => a - b);\n    }, [optionChain]);\n\n    const addStrike = useCallback((strike) => {\n        if (!selectedStrikes.includes(strike) && selectedStrikes.length < 8) {\n            setSelectedStrikes(prev => [...prev, strike].sort((a, b) => a - b));\n        }\n    }, [selectedStrikes]);\n\n    const removeStrike = useCallback((strike) => {\n        setSelectedStrikes(prev => prev.filter(s => s !== strike));\n    }, []);\n\n    const addATMRange = useCallback(() => {\n        if (!atmStrike) return;\n        const rangeStrikes = strikes.filter(s => Math.abs(s - atmStrike) <= 300);\n        setSelectedStrikes(rangeStrikes.slice(0, 8));\n    }, [atmStrike, strikes]);\n\n    // Get data for selected strikes\n    const comparisonData = useMemo(() => {\n        if (!optionChain || selectedStrikes.length === 0) return [];\n        \n        return selectedStrikes.map(strike => {\n            const data = optionChain[strike];\n            const ce = data?.ce || {};\n            const pe = data?.pe || {};\n            \n            return {\n                strike,\n                ce_oi: ce.OI || ce.oi || 0,\n                pe_oi: pe.OI || pe.oi || 0,\n                ce_volume: ce.volume || ce.vol || 0,\n                pe_volume: pe.volume || pe.vol || 0,\n                ce_iv: ce.iv || 0,\n                pe_iv: pe.iv || 0,\n                ce_ltp: ce.ltp || 0,\n                pe_ltp: pe.ltp || 0,\n                ce_delta: ce.optgeeks?.delta || 0,\n                pe_delta: pe.optgeeks?.delta || 0,\n                ce_theta: ce.optgeeks?.theta || 0,\n                pe_theta: pe.optgeeks?.theta || 0,\n                ce_gamma: ce.optgeeks?.gamma || 0,\n                pe_gamma: pe.optgeeks?.gamma || 0,\n            };\n        });\n    }, [optionChain, selectedStrikes]);\n\n    const fields = [\n        { key: 'oi', label: 'Open Interest', ceKey: 'ce_oi', peKey: 'pe_oi' },\n        { key: 'volume', label: 'Volume', ceKey: 'ce_volume', peKey: 'pe_volume' },\n        { key: 'iv', label: 'IV %', ceKey: 'ce_iv', peKey: 'pe_iv' },\n        { key: 'ltp', label: 'LTP', ceKey: 'ce_ltp', peKey: 'pe_ltp' },\n        { key: 'delta', label: 'Delta', ceKey: 'ce_delta', peKey: 'pe_delta' },\n        { key: 'theta', label: 'Theta', ceKey: 'ce_theta', peKey: 'pe_theta' },\n    ];\n\n    const currentField = fields.find(f => f.key === compareField) || fields[0];\n\n    const formatNumber = (num) => {\n        if (num >= 100000) return (num / 100000).toFixed(2) + 'L';\n        if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\n        return num?.toFixed(2) || '0';\n    };\n\n    const colors = ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#06B6D4', '#EC4899', '#84CC16'];\n\n    if (!optionChain) {\n        return (\n            <div className=\"p-8 text-center text-gray-400\">\n                <ChartBarIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>Load Option Chain data first</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Strike Selector */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4\">\n                <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"font-semibold flex items-center gap-2\">\n                        <EyeIcon className=\"w-5 h-5 text-blue-500\" />\n                        Select Strikes to Compare (max 8)\n                    </h3>\n                    <button\n                        onClick={addATMRange}\n                        className=\"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg text-sm font-medium hover:bg-blue-200\"\n                    >\n                        Add ATM ±300\n                    </button>\n                </div>\n\n                {/* Selected Strikes */}\n                <div className=\"flex flex-wrap gap-2 mb-4\">\n                    {selectedStrikes.map((strike, i) => (\n                        <div \n                            key={strike} \n                            className=\"flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium text-white\"\n                            style={{ backgroundColor: colors[i % colors.length] }}\n                        >\n                            {strike} {strike === atmStrike && '(ATM)'}\n                            <button onClick={() => removeStrike(strike)} className=\"ml-1 hover:bg-white/20 rounded p-0.5\">\n                                <XMarkIcon className=\"w-4 h-4\" />\n                            </button>\n                        </div>\n                    ))}\n                    {selectedStrikes.length === 0 && (\n                        <span className=\"text-gray-400 text-sm\">Click strikes below to add...</span>\n                    )}\n                </div>\n\n                {/* Strike Grid */}\n                <div className=\"flex flex-wrap gap-1 max-h-40 overflow-y-auto\">\n                    {strikes.map(strike => {\n                        const isSelected = selectedStrikes.includes(strike);\n                        const isATM = strike === atmStrike;\n                        return (\n                            <button\n                                key={strike}\n                                onClick={() => isSelected ? removeStrike(strike) : addStrike(strike)}\n                                disabled={!isSelected && selectedStrikes.length >= 8}\n                                className={`px-2 py-1 text-xs rounded transition-colors ${\n                                    isSelected \n                                        ? 'bg-blue-500 text-white' \n                                        : isATM \n                                            ? 'bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200'\n                                            : 'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600'\n                                } ${selectedStrikes.length >= 8 && !isSelected ? 'opacity-50 cursor-not-allowed' : ''}`}\n                            >\n                                {strike}\n                            </button>\n                        );\n                    })}\n                </div>\n            </div>\n\n            {selectedStrikes.length > 0 && (\n                <>\n                    {/* Field Selector */}\n                    <div className=\"flex gap-2 flex-wrap\">\n                        {fields.map(field => (\n                            <button\n                                key={field.key}\n                                onClick={() => setCompareField(field.key)}\n                                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                                    compareField === field.key\n                                        ? 'bg-blue-600 text-white'\n                                        : 'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600'\n                                }`}\n                            >\n                                {field.label}\n                            </button>\n                        ))}\n                    </div>\n\n                    {/* Comparison Chart */}\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                            <h3 className=\"font-semibold flex items-center gap-2\">\n                                <ChartBarIcon className=\"w-5 h-5 text-blue-500\" />\n                                {currentField.label} Comparison\n                            </h3>\n                        </div>\n                        <div className=\"p-4\">\n                            <ComparisonChart \n                                data={comparisonData} \n                                ceKey={currentField.ceKey}\n                                peKey={currentField.peKey}\n                                label={currentField.label}\n                                colors={colors}\n                                atmStrike={atmStrike}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Detailed Table */}\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                            <h3 className=\"font-semibold\">Detailed Comparison</h3>\n                        </div>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-xs\">\n                                <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\n                                    <tr>\n                                        <th className=\"p-2 text-left\">Metric</th>\n                                        {comparisonData.map((d, i) => (\n                                            <th key={d.strike} className=\"p-2 text-center\" style={{ color: colors[i % colors.length] }}>\n                                                {d.strike} {d.strike === atmStrike && '⭐'}\n                                            </th>\n                                        ))}\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-gray-100 dark:divide-gray-700\">\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-red-600\">CE OI</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">{formatNumber(d.ce_oi)}</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-green-600\">PE OI</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">{formatNumber(d.pe_oi)}</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-red-600\">CE LTP</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">₹{d.ce_ltp.toFixed(2)}</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-green-600\">PE LTP</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">₹{d.pe_ltp.toFixed(2)}</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-red-600\">CE IV</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">{d.ce_iv.toFixed(1)}%</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-green-600\">PE IV</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">{d.pe_iv.toFixed(1)}%</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-red-600\">CE Delta</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">{d.ce_delta.toFixed(3)}</td>)}\n                                    </tr>\n                                    <tr>\n                                        <td className=\"p-2 font-medium text-green-600\">PE Delta</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center\">{d.pe_delta.toFixed(3)}</td>)}\n                                    </tr>\n                                    <tr className=\"bg-purple-50 dark:bg-purple-900/20\">\n                                        <td className=\"p-2 font-medium\">Straddle</td>\n                                        {comparisonData.map(d => <td key={d.strike} className=\"p-2 text-center font-bold\">₹{(d.ce_ltp + d.pe_ltp).toFixed(2)}</td>)}\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n\n// Grouped Bar Chart for Comparison\nconst ComparisonChart = ({ data, ceKey, peKey, label: _label, colors: _colors, atmStrike }) => {\n    if (!data || data.length === 0) return null;\n\n    const maxValue = Math.max(...data.flatMap(d => [d[ceKey], d[peKey]]));\n    const barWidth = Math.min(40, 300 / data.length);\n    const width = data.length * (barWidth * 2 + 20) + 60;\n    const height = 200;\n    const chartHeight = 150;\n\n    return (\n        <svg width=\"100%\" height={height} viewBox={`0 0 ${width} ${height}`}>\n            {/* Grid lines */}\n            {[0.25, 0.5, 0.75, 1].map((t, i) => (\n                <line key={i} x1=\"40\" y1={chartHeight - t * chartHeight + 20} x2={width - 20} y2={chartHeight - t * chartHeight + 20} stroke=\"#E5E7EB\" strokeDasharray=\"2\" />\n            ))}\n\n            {/* Bars */}\n            {data.map((d, i) => {\n                const x = 50 + i * (barWidth * 2 + 20);\n                const ceHeight = (d[ceKey] / maxValue) * chartHeight;\n                const peHeight = (d[peKey] / maxValue) * chartHeight;\n                const isATM = d.strike === atmStrike;\n\n                return (\n                    <g key={d.strike}>\n                        {/* ATM highlight */}\n                        {isATM && (\n                            <rect x={x - 5} y={15} width={barWidth * 2 + 10} height={chartHeight + 10} fill=\"#3B82F620\" rx=\"4\" />\n                        )}\n                        \n                        {/* CE Bar */}\n                        <rect\n                            x={x}\n                            y={20 + chartHeight - ceHeight}\n                            width={barWidth}\n                            height={ceHeight}\n                            fill=\"#EF4444\"\n                            rx=\"2\"\n                        />\n                        \n                        {/* PE Bar */}\n                        <rect\n                            x={x + barWidth}\n                            y={20 + chartHeight - peHeight}\n                            width={barWidth}\n                            height={peHeight}\n                            fill=\"#10B981\"\n                            rx=\"2\"\n                        />\n\n                        {/* Strike label */}\n                        <text x={x + barWidth} y={height - 5} textAnchor=\"middle\" className={`text-[10px] ${isATM ? 'fill-blue-600 font-bold' : 'fill-gray-500'}`}>\n                            {d.strike}\n                        </text>\n                    </g>\n                );\n            })}\n\n            {/* Legend */}\n            <g transform=\"translate(50, 5)\">\n                <rect x=\"0\" y=\"0\" width=\"12\" height=\"12\" fill=\"#EF4444\" rx=\"2\" />\n                <text x=\"16\" y=\"10\" className=\"fill-gray-600 text-[10px]\">CE</text>\n                <rect x=\"40\" y=\"0\" width=\"12\" height=\"12\" fill=\"#10B981\" rx=\"2\" />\n                <text x=\"56\" y=\"10\" className=\"fill-gray-600 text-[10px]\">PE</text>\n            </g>\n        </svg>\n    );\n};\n\nexport default MultiStrikeAnalysis;\n","/**\n * Strategy Builder Component\n * Custom option strategy payoff builder\n */\nimport { useMemo, useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectOptionChain, selectSpotPrice, selectATMStrike, selectLotSize } from '../../context/selectors';\nimport { CubeIcon, PlusIcon, TrashIcon, CalculatorIcon, ChartBarIcon } from '@heroicons/react/24/outline';\n\nconst StrategyBuilder = () => {\n    const optionChain = useSelector(selectOptionChain);\n    const spotPrice = useSelector(selectSpotPrice);\n    const atmStrike = useSelector(selectATMStrike);\n    const lotSize = useSelector(selectLotSize);\n    \n    const [legs, setLegs] = useState([]);\n    const [presetOpen, setPresetOpen] = useState(false);\n\n    const strikes = useMemo(() => {\n        if (!optionChain) return [];\n        return Object.keys(optionChain).map(Number).sort((a, b) => a - b);\n    }, [optionChain]);\n\n    // Add a leg to the strategy\n    const addLeg = useCallback((strike, type, action) => {\n        const data = optionChain?.[strike];\n        if (!data) return;\n        \n        const option = type === 'CE' ? data.ce : data.pe;\n        if (!option) return;\n\n        setLegs(prev => [...prev, {\n            id: Date.now(),\n            strike,\n            type, // CE or PE\n            action, // BUY or SELL\n            qty: 1,\n            ltp: option.ltp || 0,\n            iv: option.iv || 0,\n            delta: option.optgeeks?.delta || 0,\n            theta: option.optgeeks?.theta || 0,\n            gamma: option.optgeeks?.gamma || 0,\n            vega: option.optgeeks?.vega || 0,\n        }]);\n    }, [optionChain]);\n\n    const removeLeg = useCallback((id) => {\n        setLegs(prev => prev.filter(l => l.id !== id));\n    }, []);\n\n    const updateLegQty = useCallback((id, qty) => {\n        setLegs(prev => prev.map(l => l.id === id ? { ...l, qty: Math.max(1, qty) } : l));\n    }, []);\n\n    const clearAll = useCallback(() => setLegs([]), []);\n\n    // Preset strategies\n    const presets = [\n        { name: 'Long Straddle', build: () => { addLeg(atmStrike, 'CE', 'BUY'); addLeg(atmStrike, 'PE', 'BUY'); }},\n        { name: 'Short Straddle', build: () => { addLeg(atmStrike, 'CE', 'SELL'); addLeg(atmStrike, 'PE', 'SELL'); }},\n        { name: 'Bull Call Spread', build: () => { addLeg(atmStrike, 'CE', 'BUY'); addLeg(atmStrike + 100, 'CE', 'SELL'); }},\n        { name: 'Bear Put Spread', build: () => { addLeg(atmStrike, 'PE', 'BUY'); addLeg(atmStrike - 100, 'PE', 'SELL'); }},\n        { name: 'Iron Condor', build: () => { \n            addLeg(atmStrike - 200, 'PE', 'BUY'); \n            addLeg(atmStrike - 100, 'PE', 'SELL'); \n            addLeg(atmStrike + 100, 'CE', 'SELL'); \n            addLeg(atmStrike + 200, 'CE', 'BUY'); \n        }},\n        { name: 'Iron Butterfly', build: () => { \n            addLeg(atmStrike, 'CE', 'SELL'); \n            addLeg(atmStrike, 'PE', 'SELL'); \n            addLeg(atmStrike + 100, 'CE', 'BUY'); \n            addLeg(atmStrike - 100, 'PE', 'BUY'); \n        }},\n        { name: 'Long Strangle', build: () => { addLeg(atmStrike + 100, 'CE', 'BUY'); addLeg(atmStrike - 100, 'PE', 'BUY'); }},\n    ];\n\n    // Calculate strategy metrics\n    const strategyMetrics = useMemo(() => {\n        if (legs.length === 0) return null;\n\n        let totalPremium = 0;\n        let netDelta = 0;\n        let netGamma = 0;\n        let netTheta = 0;\n        let netVega = 0;\n\n        legs.forEach(leg => {\n            const multiplier = leg.action === 'BUY' ? -1 : 1; // Premium paid/received\n            totalPremium += leg.ltp * leg.qty * multiplier;\n            netDelta += leg.delta * leg.qty * (leg.action === 'BUY' ? 1 : -1);\n            netGamma += leg.gamma * leg.qty * (leg.action === 'BUY' ? 1 : -1);\n            netTheta += leg.theta * leg.qty * (leg.action === 'BUY' ? 1 : -1);\n            netVega += leg.vega * leg.qty * (leg.action === 'BUY' ? 1 : -1);\n        });\n\n        return {\n            totalPremium: totalPremium * lotSize,\n            netDelta,\n            netGamma,\n            netTheta,\n            netVega,\n            maxProfit: totalPremium > 0 ? totalPremium * lotSize : 'Unlimited',\n            maxLoss: totalPremium < 0 ? Math.abs(totalPremium) * lotSize : 'Limited',\n        };\n    }, [legs, lotSize]);\n\n    // Calculate payoff at different spot prices\n    const payoffData = useMemo(() => {\n        if (legs.length === 0) return [];\n        \n        const points = [];\n        const range = 1000;\n        \n        for (let price = spotPrice - range; price <= spotPrice + range; price += 10) {\n            let payoff = 0;\n            \n            legs.forEach(leg => {\n                let intrinsic = 0;\n                if (leg.type === 'CE') {\n                    intrinsic = Math.max(0, price - leg.strike);\n                } else {\n                    intrinsic = Math.max(0, leg.strike - price);\n                }\n                \n                const legPayoff = (intrinsic - leg.ltp) * leg.qty;\n                payoff += leg.action === 'BUY' ? legPayoff : -legPayoff;\n            });\n            \n            points.push({ price, payoff: payoff * lotSize });\n        }\n        \n        return points;\n    }, [legs, spotPrice, lotSize]);\n\n    // Find breakeven points\n    const breakevens = useMemo(() => {\n        if (payoffData.length < 2) return [];\n        \n        const be = [];\n        for (let i = 1; i < payoffData.length; i++) {\n            if ((payoffData[i-1].payoff < 0 && payoffData[i].payoff >= 0) ||\n                (payoffData[i-1].payoff >= 0 && payoffData[i].payoff < 0)) {\n                be.push(payoffData[i].price);\n            }\n        }\n        return be;\n    }, [payoffData]);\n\n    if (!optionChain) {\n        return (\n            <div className=\"p-8 text-center text-gray-400\">\n                <CubeIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>Load Option Chain data first</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Header with Presets */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4\">\n                <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n                    <div className=\"flex items-center gap-3\">\n                        <h3 className=\"font-semibold flex items-center gap-2\">\n                            <CubeIcon className=\"w-5 h-5 text-purple-500\" />\n                            Strategy Builder\n                        </h3>\n                        <span className=\"text-sm text-gray-500\">Lot Size: {lotSize}</span>\n                    </div>\n                    <div className=\"flex gap-2\">\n                        <div className=\"relative\">\n                            <button\n                                onClick={() => setPresetOpen(!presetOpen)}\n                                className=\"px-4 py-2 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-lg text-sm font-medium hover:bg-purple-200\"\n                            >\n                                Presets ▾\n                            </button>\n                            {presetOpen && (\n                                <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-10\">\n                                    {presets.map((p, i) => (\n                                        <button\n                                            key={i}\n                                            onClick={() => { clearAll(); setTimeout(p.build, 50); setPresetOpen(false); }}\n                                            className=\"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg\"\n                                        >\n                                            {p.name}\n                                        </button>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                        <button\n                            onClick={clearAll}\n                            disabled={legs.length === 0}\n                            className=\"px-4 py-2 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded-lg text-sm font-medium hover:bg-red-200 disabled:opacity-50\"\n                        >\n                            Clear All\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/* Leg Builder */}\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                    <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                        <h3 className=\"font-semibold flex items-center gap-2\">\n                            <PlusIcon className=\"w-5 h-5 text-blue-500\" />\n                            Add Legs\n                        </h3>\n                    </div>\n                    <div className=\"p-4\">\n                        <LegBuilder strikes={strikes} atmStrike={atmStrike} onAdd={addLeg} />\n                    </div>\n                </div>\n\n                {/* Strategy Summary */}\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                    <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                        <h3 className=\"font-semibold flex items-center gap-2\">\n                            <CalculatorIcon className=\"w-5 h-5 text-green-500\" />\n                            Strategy Summary\n                        </h3>\n                    </div>\n                    <div className=\"p-4\">\n                        {strategyMetrics ? (\n                            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                                <div className={`p-3 rounded-lg ${strategyMetrics.totalPremium >= 0 ? 'bg-green-50 dark:bg-green-900/20' : 'bg-red-50 dark:bg-red-900/20'}`}>\n                                    <div className=\"text-xs text-gray-500\">Net Premium</div>\n                                    <div className={`text-lg font-bold ${strategyMetrics.totalPremium >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                        {strategyMetrics.totalPremium >= 0 ? '+' : ''}₹{strategyMetrics.totalPremium.toFixed(0)}\n                                    </div>\n                                    <div className=\"text-[10px] text-gray-400\">{strategyMetrics.totalPremium >= 0 ? 'Credit' : 'Debit'}</div>\n                                </div>\n                                <div className=\"p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50\">\n                                    <div className=\"text-xs text-gray-500\">Net Delta</div>\n                                    <div className=\"text-lg font-bold\">{strategyMetrics.netDelta.toFixed(3)}</div>\n                                </div>\n                                <div className=\"p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50\">\n                                    <div className=\"text-xs text-gray-500\">Net Theta</div>\n                                    <div className={`text-lg font-bold ${strategyMetrics.netTheta >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                        ₹{strategyMetrics.netTheta.toFixed(2)}\n                                    </div>\n                                </div>\n                                <div className=\"p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50\">\n                                    <div className=\"text-xs text-gray-500\">Net Gamma</div>\n                                    <div className=\"text-lg font-bold\">{strategyMetrics.netGamma.toFixed(4)}</div>\n                                </div>\n                                <div className=\"p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50\">\n                                    <div className=\"text-xs text-gray-500\">Net Vega</div>\n                                    <div className=\"text-lg font-bold\">{strategyMetrics.netVega.toFixed(2)}</div>\n                                </div>\n                                <div className=\"p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20\">\n                                    <div className=\"text-xs text-gray-500\">Breakevens</div>\n                                    <div className=\"text-sm font-bold text-blue-600\">\n                                        {breakevens.length > 0 ? breakevens.join(', ') : 'N/A'}\n                                    </div>\n                                </div>\n                            </div>\n                        ) : (\n                            <div className=\"text-center text-gray-400 py-8\">Add legs to see summary</div>\n                        )}\n                    </div>\n                </div>\n            </div>\n\n            {/* Legs Table */}\n            {legs.length > 0 && (\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                    <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                        <h3 className=\"font-semibold\">Strategy Legs ({legs.length})</h3>\n                    </div>\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm\">\n                            <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\n                                <tr>\n                                    <th className=\"p-2 text-left\">Action</th>\n                                    <th className=\"p-2 text-center\">Strike</th>\n                                    <th className=\"p-2 text-center\">Type</th>\n                                    <th className=\"p-2 text-center\">Qty</th>\n                                    <th className=\"p-2 text-right\">LTP</th>\n                                    <th className=\"p-2 text-right\">IV</th>\n                                    <th className=\"p-2 text-right\">Delta</th>\n                                    <th className=\"p-2 text-right\">Value</th>\n                                    <th className=\"p-2\"></th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100 dark:divide-gray-700\">\n                                {legs.map((leg) => (\n                                    <tr key={leg.id}>\n                                        <td className=\"p-2\">\n                                            <span className={`px-2 py-1 rounded text-xs font-bold ${\n                                                leg.action === 'BUY' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\n                                            }`}>\n                                                {leg.action}\n                                            </span>\n                                        </td>\n                                        <td className=\"p-2 text-center font-bold\">{leg.strike}</td>\n                                        <td className=\"p-2 text-center\">\n                                            <span className={`px-2 py-0.5 rounded text-xs ${\n                                                leg.type === 'CE' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'\n                                            }`}>\n                                                {leg.type}\n                                            </span>\n                                        </td>\n                                        <td className=\"p-2 text-center\">\n                                            <input\n                                                type=\"number\"\n                                                min=\"1\"\n                                                value={leg.qty}\n                                                onChange={(e) => updateLegQty(leg.id, parseInt(e.target.value) || 1)}\n                                                className=\"w-12 text-center border rounded px-1 py-0.5\"\n                                            />\n                                        </td>\n                                        <td className=\"p-2 text-right\">₹{leg.ltp.toFixed(2)}</td>\n                                        <td className=\"p-2 text-right\">{leg.iv.toFixed(1)}%</td>\n                                        <td className=\"p-2 text-right\">{leg.delta.toFixed(3)}</td>\n                                        <td className={`p-2 text-right font-medium ${\n                                            leg.action === 'SELL' ? 'text-green-600' : 'text-red-600'\n                                        }`}>\n                                            {leg.action === 'SELL' ? '+' : '-'}₹{(leg.ltp * leg.qty * lotSize).toFixed(0)}\n                                        </td>\n                                        <td className=\"p-2\">\n                                            <button onClick={() => removeLeg(leg.id)} className=\"p-1 hover:bg-red-100 rounded text-red-500\">\n                                                <TrashIcon className=\"w-4 h-4\" />\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            )}\n\n            {/* Payoff Chart */}\n            {payoffData.length > 0 && (\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                    <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\n                        <h3 className=\"font-semibold flex items-center gap-2\">\n                            <ChartBarIcon className=\"w-5 h-5 text-blue-500\" />\n                            Payoff at Expiry\n                        </h3>\n                    </div>\n                    <div className=\"p-4\">\n                        <PayoffChart data={payoffData} spotPrice={spotPrice} breakevens={breakevens} />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\n// Leg Builder Component\nconst LegBuilder = ({ strikes, atmStrike, onAdd }) => {\n    const [strike, setStrike] = useState(atmStrike || strikes[0] || 0);\n    const [type, setType] = useState('CE');\n    const [action, setAction] = useState('BUY');\n\n    return (\n        <div className=\"flex flex-wrap items-end gap-3\">\n            <div>\n                <label className=\"text-xs text-gray-500 block mb-1\">Action</label>\n                <div className=\"flex gap-1\">\n                    <button\n                        onClick={() => setAction('BUY')}\n                        className={`px-3 py-1.5 rounded text-sm font-medium ${action === 'BUY' ? 'bg-green-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}\n                    >\n                        BUY\n                    </button>\n                    <button\n                        onClick={() => setAction('SELL')}\n                        className={`px-3 py-1.5 rounded text-sm font-medium ${action === 'SELL' ? 'bg-red-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}\n                    >\n                        SELL\n                    </button>\n                </div>\n            </div>\n            <div>\n                <label className=\"text-xs text-gray-500 block mb-1\">Strike</label>\n                <select\n                    value={strike}\n                    onChange={(e) => setStrike(Number(e.target.value))}\n                    className=\"px-3 py-1.5 border rounded bg-white dark:bg-gray-700 text-sm\"\n                >\n                    {strikes.map(s => (\n                        <option key={s} value={s}>{s} {s === atmStrike ? '(ATM)' : ''}</option>\n                    ))}\n                </select>\n            </div>\n            <div>\n                <label className=\"text-xs text-gray-500 block mb-1\">Type</label>\n                <div className=\"flex gap-1\">\n                    <button\n                        onClick={() => setType('CE')}\n                        className={`px-3 py-1.5 rounded text-sm font-medium ${type === 'CE' ? 'bg-green-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}\n                    >\n                        CE\n                    </button>\n                    <button\n                        onClick={() => setType('PE')}\n                        className={`px-3 py-1.5 rounded text-sm font-medium ${type === 'PE' ? 'bg-red-500 text-white' : 'bg-gray-100 dark:bg-gray-700'}`}\n                    >\n                        PE\n                    </button>\n                </div>\n            </div>\n            <button\n                onClick={() => onAdd(strike, type, action)}\n                className=\"px-4 py-1.5 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 flex items-center gap-1\"\n            >\n                <PlusIcon className=\"w-4 h-4\" /> Add Leg\n            </button>\n        </div>\n    );\n};\n\n// Payoff Chart\nconst PayoffChart = ({ data, spotPrice, breakevens }) => {\n    if (!data || data.length === 0) return null;\n\n    const width = 600;\n    const height = 220;\n    const padding = { left: 60, right: 20, top: 20, bottom: 30 };\n\n    const prices = data.map(d => d.price);\n    const payoffs = data.map(d => d.payoff);\n    const minPayoff = Math.min(...payoffs, 0);\n    const maxPayoff = Math.max(...payoffs, 0);\n    const payoffRange = maxPayoff - minPayoff || 1;\n\n    const xScale = (price) => padding.left + ((price - prices[0]) / (prices[prices.length-1] - prices[0])) * (width - padding.left - padding.right);\n    const yScale = (payoff) => padding.top + ((maxPayoff - payoff) / payoffRange) * (height - padding.top - padding.bottom);\n    const zeroY = yScale(0);\n\n    const points = data.map(d => `${xScale(d.price)},${yScale(d.payoff)}`).join(' ');\n\n    // Create profit/loss areas\n    const profitPoints = data.filter(d => d.payoff >= 0);\n    const lossPoints = data.filter(d => d.payoff < 0);\n\n    return (\n        <svg width=\"100%\" height={height} viewBox={`0 0 ${width} ${height}`}>\n            {/* Grid */}\n            <line x1={padding.left} y1={zeroY} x2={width - padding.right} y2={zeroY} stroke=\"#9CA3AF\" strokeWidth=\"1.5\" />\n            \n            {/* Profit fill */}\n            {profitPoints.length > 1 && (\n                <polygon\n                    points={`${xScale(profitPoints[0].price)},${zeroY} ${profitPoints.map(d => `${xScale(d.price)},${yScale(d.payoff)}`).join(' ')} ${xScale(profitPoints[profitPoints.length-1].price)},${zeroY}`}\n                    fill=\"rgba(16, 185, 129, 0.3)\"\n                />\n            )}\n\n            {/* Loss fill */}\n            {lossPoints.length > 1 && (\n                <polygon\n                    points={`${xScale(lossPoints[0].price)},${zeroY} ${lossPoints.map(d => `${xScale(d.price)},${yScale(d.payoff)}`).join(' ')} ${xScale(lossPoints[lossPoints.length-1].price)},${zeroY}`}\n                    fill=\"rgba(239, 68, 68, 0.3)\"\n                />\n            )}\n\n            {/* Payoff line */}\n            <polyline points={points} fill=\"none\" stroke=\"#1F2937\" strokeWidth=\"2.5\" strokeLinejoin=\"round\" />\n\n            {/* Spot marker */}\n            <line x1={xScale(spotPrice)} y1={padding.top} x2={xScale(spotPrice)} y2={height - padding.bottom} stroke=\"#3B82F6\" strokeWidth=\"2\" strokeDasharray=\"4\" />\n            <text x={xScale(spotPrice)} y={height - 5} textAnchor=\"middle\" className=\"fill-blue-600 text-[10px] font-bold\">Spot</text>\n\n            {/* Breakeven markers */}\n            {breakevens.map((be, i) => (\n                <g key={i}>\n                    <circle cx={xScale(be)} cy={zeroY} r=\"5\" fill=\"#F59E0B\" />\n                    <text x={xScale(be)} y={zeroY - 10} textAnchor=\"middle\" className=\"fill-amber-600 text-[9px] font-bold\">BE</text>\n                </g>\n            ))}\n\n            {/* Y axis labels */}\n            <text x={padding.left - 5} y={padding.top + 5} textAnchor=\"end\" className=\"fill-green-600 text-[10px] font-medium\">+₹{(maxPayoff/1000).toFixed(0)}K</text>\n            <text x={padding.left - 5} y={zeroY + 4} textAnchor=\"end\" className=\"fill-gray-500 text-[10px]\">0</text>\n            <text x={padding.left - 5} y={height - padding.bottom} textAnchor=\"end\" className=\"fill-red-600 text-[10px] font-medium\">-₹{(Math.abs(minPayoff)/1000).toFixed(0)}K</text>\n        </svg>\n    );\n};\n\nexport default StrategyBuilder;\n","/**\n * Analytics Dashboard - Main Container\n * Tabbed interface for all analytics modules\n */\nimport { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Helmet } from 'react-helmet-async';\nimport { \n    selectSelectedSymbol, \n    selectSelectedExpiry, \n    selectSpotPrice,\n    selectDaysToExpiry,\n    selectDataLoading,\n    selectOptionChain,\n    selectDataSymbol\n} from '../context/selectors';\nimport { fetchLiveData } from '../context/dataSlice';\nimport { \n    ArrowPathIcon, \n    ChartBarIcon, \n    BeakerIcon,\n    ScaleIcon,\n    CubeIcon,\n    ChartPieIcon,\n    PresentationChartBarIcon,\n    ClockIcon\n} from '@heroicons/react/24/outline';\n\n// Import all analysis modules\nimport OIAnalysis from '../components/analytics/OIAnalysis';\nimport VolumeAnalysis from '../components/analytics/VolumeAnalysis';\nimport GreeksAnalysis from '../components/analytics/GreeksAnalysis';\nimport StraddleAnalysis from '../components/analytics/StraddleAnalysis';\nimport MultiStrikeAnalysis from '../components/analytics/MultiStrikeAnalysis';\nimport StrategyBuilder from '../components/analytics/StrategyBuilder';\n\nconst tabs = [\n    { id: 'oi', label: 'OI Analysis', icon: ChartBarIcon, component: OIAnalysis },\n    { id: 'volume', label: 'Volume', icon: PresentationChartBarIcon, component: VolumeAnalysis },\n    { id: 'greeks', label: 'Greeks', icon: BeakerIcon, component: GreeksAnalysis },\n    { id: 'straddle', label: 'Straddle', icon: ScaleIcon, component: StraddleAnalysis },\n    { id: 'multistrike', label: 'Multi-Strike', icon: ChartPieIcon, component: MultiStrikeAnalysis },\n    { id: 'strategy', label: 'Strategy', icon: CubeIcon, component: StrategyBuilder },\n];\n\nconst Analytics = () => {\n    const dispatch = useDispatch();\n    const symbol = useSelector(selectSelectedSymbol);\n    const dataSymbol = useSelector(selectDataSymbol); // Actual loaded data symbol\n    const expiry = useSelector(selectSelectedExpiry);\n    const spotPrice = useSelector(selectSpotPrice);\n    const daysToExpiry = useSelector(selectDaysToExpiry);\n    const isLoading = useSelector(selectDataLoading);\n    const optionChain = useSelector(selectOptionChain);\n    \n    // Use dataSymbol if available, otherwise fall back to selected symbol\n    const displaySymbol = dataSymbol || symbol || 'NIFTY';\n    \n    const [activeTab, setActiveTab] = useState('oi');\n    const [lastUpdate, setLastUpdate] = useState(new Date());\n\n    // Refresh data\n    const refreshData = useCallback(() => {\n        if (symbol && expiry) {\n            dispatch(fetchLiveData({ symbol, expiry: String(expiry) }));\n            setLastUpdate(new Date());\n        }\n    }, [dispatch, symbol, expiry]);\n\n    useEffect(() => {\n        // Auto-refresh every 30 seconds\n        const interval = setInterval(refreshData, 30000);\n        return () => clearInterval(interval);\n    }, [refreshData]);\n\n    const formatExpiry = (ts) => {\n        if (!ts) return '';\n        const date = new Date(Number(ts) * 1000);\n        return date.toLocaleDateString('en-IN', { day: '2-digit', month: 'short', year: '2-digit' });\n    };\n\n    const ActiveComponent = tabs.find(t => t.id === activeTab)?.component || OIAnalysis;\n\n    // No data state\n    if (!optionChain && !isLoading) {\n        return (\n            <>\n                <Helmet><title>Analytics | Stockify</title></Helmet>\n                <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n                    <div className=\"text-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md\">\n                        <ChartBarIcon className=\"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4\" />\n                        <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">No Data Available</h2>\n                        <p className=\"text-gray-500 dark:text-gray-400 mb-4\">\n                            Please visit the Option Chain page first to load market data.\n                        </p>\n                        <a \n                            href=\"/option-chain\" \n                            className=\"inline-block px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors\"\n                        >\n                            Go to Option Chain\n                        </a>\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Helmet>\n                <title>{displaySymbol} Analytics | Stockify</title>\n            </Helmet>\n\n            <div className=\"min-h-screen bg-mesh-gradient\">\n                {/* Premium Sticky Header */}\n                <div className=\"sticky top-0 z-40 glass-strong border-b border-slate-200/50 dark:border-slate-700/50\">\n                    <div className=\"px-4 py-3\">\n                        {/* Top row - Symbol info */}\n                        <div className=\"flex items-center justify-between gap-4 mb-3\">\n                            <div className=\"flex items-center gap-4\">\n                                <div className=\"flex items-center gap-2\">\n                                    <span className=\"relative flex h-2.5 w-2.5\">\n                                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\n                                        <span className=\"relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500\"></span>\n                                    </span>\n                                    <span className=\"text-xs font-medium text-green-600 dark:text-green-400\">Live</span>\n                                </div>\n                                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">{displaySymbol}</h1>\n                                <span className=\"text-xl font-bold text-blue-600 dark:text-blue-400\">₹{spotPrice?.toFixed(2)}</span>\n                                <span className=\"px-2 py-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg text-xs font-medium\">\n                                    {formatExpiry(expiry)}\n                                </span>\n                                <span className=\"px-2 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-lg text-xs font-bold flex items-center gap-1\">\n                                    <ClockIcon className=\"w-3 h-3\" />\n                                    {daysToExpiry} DTE\n                                </span>\n                            </div>\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"text-xs text-gray-400 hidden sm:block\">\n                                    Updated: {lastUpdate.toLocaleTimeString()}\n                                </span>\n                                <button\n                                    onClick={refreshData}\n                                    disabled={isLoading}\n                                    className=\"p-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:shadow-lg hover:shadow-blue-500/25 transition-all disabled:opacity-50\"\n                                >\n                                    <ArrowPathIcon className={`w-4 h-4 ${isLoading ? 'animate-spin' : ''}`} />\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* Premium Tab Navigation */}\n                        <div className=\"flex gap-2 overflow-x-auto pb-1 scrollbar-hide\">\n                            {tabs.map(tab => {\n                                const Icon = tab.icon;\n                                const isActive = activeTab === tab.id;\n                                return (\n                                    <button\n                                        key={tab.id}\n                                        onClick={() => setActiveTab(tab.id)}\n                                        className={`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold whitespace-nowrap transition-all duration-200 ${\n                                            isActive \n                                                ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/25' \n                                                : 'bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700'\n                                        }`}\n                                    >\n                                        <Icon className=\"w-4 h-4\" />\n                                        {tab.label}\n                                    </button>\n                                );\n                            })}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Main Content with Glass Card */}\n                <div className=\"p-4 md:p-6\">\n                    <div className=\"glass-strong rounded-2xl p-4 md:p-6 animate-fade-in\">\n                        <ActiveComponent />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Analytics;\n"],"names":["OIAnalysis","optionChain","useSelector","selectOptionChain","spotPrice","selectSpotPrice","atmStrike","selectATMStrike","pcr","selectPCR","totalOI","selectTotalOI","maxPain","selectMaxPainStrike","dataSymbol","selectDataSymbol","hoveredStrike","setHoveredStrike","useState","selectedStrike","setSelectedStrike","formatNumber","num","absNum","sign","oiData","useMemo","strike","data","ce","pe","ce_oi","pe_oi","ce_oi_chng","pe_oi_chng","pcr_oi","pcr_oi_chng","ce_reversal","pe_reversal","d","a","b","topCEStrikes","topPEStrikes","maxOI","selectedData","pcrColor","pcrLabel","getPCRColor","pcrValue","jsxs","jsx","FireIcon","e","XMarkIcon","ArrowTrendingDownIcon","ArrowTrendingUpIcon","ChartBarIcon","row","i","ceWidth","peWidth","isATM","isHovered","isNearSpot","VolumeAnalysis","volumeData","totals","totalCE","sum","totalPE","volumeSpikes","spikes","maxVol","BoltIcon","spike","GreeksAnalysis","selectedGreek","setSelectedGreek","greeksData","_a","_b","_c","_d","_e","_f","netGreeks","greekColors","getHeatmapColor","value","greek","type","absValue","intensity","BeakerIcon","ceValue","peValue","GreeksChart","IVSkewChart","colors","width","height","padding","ceValues","peValues","allValues","minVal","maxVal","range","xScale","yScale","v","cePoints","pePoints","ivData","maxIV","iv","t","Fragment","StraddleAnalysis","daysToExpiry","selectDaysToExpiry","selectATMIV","strangleWidth","setStrangleWidth","strikes","straddleData","ceLTP","peLTP","straddlePrice","upperBE","lowerBE","strangleData","ceStrike","peStrike","ceData","peData","stranglePrice","payoffData","_straddlePrice","points","price","cePayoff","pePayoff","s","ClockIcon","ScaleIcon","PayoffChart","ArrowsRightLeftIcon","prices","payoffs","minPrice","maxPrice","minPayoff","maxPayoff","payoffRange","payoff","zeroY","MultiStrikeAnalysis","selectedStrikes","setSelectedStrikes","compareField","setCompareField","addStrike","useCallback","prev","removeStrike","addATMRange","rangeStrikes","comparisonData","fields","currentField","f","EyeIcon","isSelected","field","ComparisonChart","ceKey","peKey","_label","_colors","maxValue","barWidth","chartHeight","x","ceHeight","peHeight","StrategyBuilder","lotSize","selectLotSize","legs","setLegs","presetOpen","setPresetOpen","addLeg","action","option","removeLeg","id","l","updateLegQty","qty","clearAll","presets","strategyMetrics","totalPremium","netDelta","netGamma","netTheta","netVega","leg","multiplier","intrinsic","legPayoff","breakevens","be","CubeIcon","p","PlusIcon","LegBuilder","CalculatorIcon","TrashIcon","onAdd","setStrike","setType","setAction","profitPoints","lossPoints","tabs","PresentationChartBarIcon","ChartPieIcon","Analytics","dispatch","useDispatch","symbol","selectSelectedSymbol","expiry","selectSelectedExpiry","isLoading","selectDataLoading","displaySymbol","activeTab","setActiveTab","lastUpdate","setLastUpdate","refreshData","fetchLiveData","useEffect","interval","formatExpiry","ts","ActiveComponent","Helmet","ArrowPathIcon","tab","Icon","isActive"],"mappings":"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"}