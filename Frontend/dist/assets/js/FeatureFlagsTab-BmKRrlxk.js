import{r as e,aa as a,ah as s,j as t}from"./vendor-61R5RNdl.js";import{a as r}from"./Admin-DnlA6wWU.js";import{C as l}from"./Card-DOfmhbZR.js";import{S as i}from"./Skeleton-54bdQbPe.js";import{ae as n}from"./ui-icons-BuGoXOaE.js";import"./charts-BVf48S-_.js";import"./index-DpMGw747.js";import"./firebase-Dm1Xd1Ru.js";import"./animations-9kslzpSP.js";const c=()=>{const[c,d]=e.useState([]),[o,m]=e.useState(!0),[f,x]=e.useState({}),u="dark"===a(e=>e.theme.theme),g=e.useCallback(async()=>{m(!0);try{const e=await r.getFeatureFlags();d(Array.isArray(e)?e:e?.data||[])}catch(e){s.error("Failed to load feature flags")}finally{m(!1)}},[]);e.useEffect(()=>{g()},[g]);return o?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(i,{size:"lg"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Feature Flags"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Enable or disable application features"})]}),t.jsx("button",{onClick:g,className:"p-2 rounded-lg "+(u?"hover:bg-gray-700":"hover:bg-gray-100"),children:t.jsx(n,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.map(e=>t.jsx(l,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:e.display_name}),t.jsx("div",{className:"text-sm text-gray-500",children:e.description})]}),t.jsx("button",{onClick:()=>(async(e,a)=>{x(a=>({...a,[e]:!0}));try{await r.toggleFeature(e,!a),s.success("Feature "+(a?"disabled":"enabled")),g()}catch{s.error("Failed to toggle feature")}finally{x(a=>({...a,[e]:!1}))}})(e.key,e.enabled),disabled:f[e.key],className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(e.enabled?"bg-green-500":u?"bg-gray-600":"bg-gray-300"),children:t.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(e.enabled?"translate-x-6":"translate-x-1")})})]})},e.key)),0===c.length&&t.jsx(l,{className:"col-span-full text-center py-12 text-gray-500",children:"No feature flags found. Run the database seeder to create default flags."})]})]})};export{c as default};
