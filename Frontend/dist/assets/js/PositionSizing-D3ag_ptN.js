import{r as e,aa as a,j as s,aw as t,at as i}from"./vendor-61R5RNdl.js";import{F as l,a3 as r,a4 as o,a5 as n,a as d,c,a6 as g,z as x,y as m,d as u,H as p,m as b,b as y,l as h}from"./ui-icons-BuGoXOaE.js";import{A as j,m as v}from"./animations-9kslzpSP.js";import{C as f,a as N,b as k,f as w,p as R,d as C,e as F}from"./charts-BVf48S-_.js";const S=e.memo(({setCalculatedPosition:t,setAnalysisData:i,isCalculating:d})=>{const c="dark"===a(e=>e.theme.theme),[g,x]=e.useState(""),[m,u]=e.useState("1"),[p,b]=e.useState(""),[y,h]=e.useState(""),[f,N]=e.useState(""),[k,w]=e.useState("long"),[R,C]=e.useState("1"),[F,S]=e.useState("0"),[D,P]=e.useState("medium"),[M,$]=e.useState("intraday"),[L,z]=e.useState("0"),[A,q]=e.useState(!1),H="w-full px-3 py-2 rounded-lg border text-sm transition-all focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 "+(c?"bg-gray-700/50 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-200 text-gray-900 placeholder-gray-400"),I="block text-xs font-medium mb-1.5 "+(c?"text-gray-300":"text-gray-600"),T="w-full px-3 py-2 rounded-lg border text-sm transition-all cursor-pointer "+(c?"bg-gray-700/50 border-gray-600 text-white":"bg-gray-50 border-gray-200 text-gray-900"),E=e.useCallback(()=>{if(!g||!p||!y)return;const e=parseFloat(g)*parseFloat(m)/100,a=Math.abs(parseFloat(p)-parseFloat(y));let s=e/a;s*=parseFloat(R);const l={low:1.2,medium:1,high:.8}[D];s*=l;const r=a*s,o=f?Math.abs(parseFloat(f)-parseFloat(p))*s:0,n=r>0?o/r:0,d=(parseFloat(L)+parseFloat(m))/100,c={positionSize:Math.floor(s*parseFloat(p)),quantity:Math.floor(s),totalValue:s*parseFloat(p),maxRisk:e,stopLoss:parseFloat(y),targetProfit:o,riskRewardRatio:n,leveragedValue:s*parseFloat(p)*parseFloat(R)},x={riskRewardRatio:n.toFixed(2),portfolioHeat:d.toFixed(2),potentialLoss:r.toFixed(2),potentialGain:o.toFixed(2),volatilityImpact:(100*(1-l)).toFixed(1),correlationRisk:parseFloat(F)>30?"High":"Moderate",timeFrameRisk:"intraday"===M?"Lower":"Higher",suggestions:[]};n<2&&n>0&&x.suggestions.push("Consider a better entry point for improved R:R ratio"),d>.5&&x.suggestions.push("High portfolio heat - consider reducing position size"),parseFloat(R)>2&&x.suggestions.push("High leverage - monitor position closely"),t(c),i(x)},[g,m,p,y,f,R,D,F,L,M,t,i]),V=g&&p&&y;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex rounded-lg overflow-hidden border ${isDark ? 'border-gray-600' : 'border-gray-200'}",children:[s.jsxs("button",{onClick:()=>w("long"),className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium transition-all "+("long"===k?"bg-green-500 text-white":c?"bg-gray-700 text-gray-400 hover:bg-gray-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"),children:[s.jsx(l,{className:"w-4 h-4"}),"Long"]}),s.jsxs("button",{onClick:()=>w("short"),className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium transition-all "+("short"===k?"bg-red-500 text-white":c?"bg-gray-700 text-gray-400 hover:bg-gray-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"),children:[s.jsx(r,{className:"w-4 h-4"}),"Short"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Account Size (₹)"}),s.jsx("input",{type:"number",value:g,onChange:e=>x(e.target.value),className:H,placeholder:"e.g. 100000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Risk Per Trade (%)"}),s.jsx("div",{className:"flex gap-2",children:["0.5","1","2","3"].map(e=>s.jsxs("button",{onClick:()=>u(e),className:"flex-1 py-1.5 text-xs font-medium rounded-lg transition-all "+(m===e?"bg-blue-500 text-white":c?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e,"%"]},e))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Entry (₹)"}),s.jsx("input",{type:"number",value:p,onChange:e=>b(e.target.value),className:H,placeholder:"Entry"})]}),s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Stop Loss (₹)"}),s.jsx("input",{type:"number",value:y,onChange:e=>h(e.target.value),className:H,placeholder:"SL"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Target (₹)"}),s.jsx("input",{type:"number",value:f,onChange:e=>N(e.target.value),className:H,placeholder:"Target price (optional)"})]})]}),s.jsxs("button",{onClick:()=>q(!A),className:"w-full flex items-center justify-between py-2 px-3 rounded-lg text-sm font-medium transition-all "+(c?"bg-gray-700/50 text-gray-300 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[s.jsx("span",{children:"Advanced Options"}),A?s.jsx(o,{className:"w-4 h-4"}):s.jsx(n,{className:"w-4 h-4"})]}),s.jsx(j,{children:A&&s.jsx(v.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Leverage"}),s.jsx("input",{type:"number",value:R,onChange:e=>C(e.target.value),className:H,placeholder:"1x"})]}),s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Volatility"}),s.jsxs("select",{value:D,onChange:e=>P(e.target.value),className:T,children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Time Frame"}),s.jsx("div",{className:"flex gap-2",children:["intraday","swing","positional"].map(e=>s.jsx("button",{onClick:()=>$(e),className:"flex-1 py-1.5 text-xs font-medium rounded-lg capitalize transition-all "+(M===e?"bg-blue-500 text-white":c?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e},e))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Correlation %"}),s.jsx("input",{type:"number",value:F,onChange:e=>S(e.target.value),className:H,placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:I,children:"Portfolio Heat %"}),s.jsx("input",{type:"number",value:L,onChange:e=>z(e.target.value),className:H,placeholder:"0"})]})]})]})})}),s.jsx("button",{onClick:E,disabled:!V||d,className:"w-full py-2.5 px-4 rounded-xl font-semibold text-sm transition-all "+(V&&!d?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg shadow-blue-500/25":c?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:d?"Calculating...":"Calculate Position"})]})});S.displayName="PositionCalculator";const D=(e,a)=>{const{price:s,stopLoss:t,_target:i,volatility:l,volume:r}=a,o="high"===l?2:"medium"===l?1.5:1,n=Math.abs(s-t)*o,d=r<1e5?"high":r<5e5?"medium":"low",c=e.quantity*s/r;return{volatilityRisk:n/s,liquidityRisk:d,positionImpact:c,slippageEstimate:P(c,d)}},P=(e,a)=>100*e*{high:2,medium:1.5,low:1}[a],M=(e,a,s=1e3)=>{const t=[],{price:i,volatility:l,target:r,stopLoss:o}=a,n="high"===l?.02:"medium"===l?.015:.01;for(let d=0;d<s;d++){let e=i,a=0;for(;e>o&&e<r&&a<20;){const s=(r-i)/(100*i);e*=1+(Math.random()-.5)*n+s,a++}t.push({finalPrice:e,days:a,outcome:e>=r?"win":"loss"})}return $(t)},$=e=>{const a=e.filter(e=>"win"===e.outcome).length/e.length*100,s=e.reduce((e,a)=>e+a.days,0)/e.length;return{winProbability:a.toFixed(2),averageDaysToOutcome:s.toFixed(1),confidenceScore:L(a,s)}},L=(e,a)=>100*(.7*(e/100)+.3*Math.max(0,1-a/20)),z=(e,a,s)=>{const t=[],{riskRewardRatio:i,portfolioHeat:l,volatilityImpact:r}=a,{volatility:o,trend:n,volume:d}=s;return i<1.5&&t.push({type:"warning",message:"Risk:Reward ratio is below recommended minimum of 1.5:1",action:"Consider adjusting entry price or target to improve R:R ratio"}),l>.4&&t.push({type:"danger",message:"High portfolio heat detected",action:"Reduce position size or hedge existing positions"}),"high"===o&&r>15&&t.push({type:"info",message:"High market volatility detected",action:"Consider using options strategies or scaling in gradually"}),d<100*e.quantity&&t.push({type:"warning",message:"Position size may impact market liquidity",action:"Consider breaking up the order or using TWAP/VWAP"}),"weak"===n&&"long"===e.type&&t.push({type:"info",message:"Weak market trend for long position",action:"Consider waiting for trend confirmation or reducing size"}),t};f.register(N,k,w,R,C,F);const A=e.memo(({calculatedPosition:a,analysisData:i={},theme:l})=>{const[r,o]=e.useState("overview"),n="dark"===l,p=e.useMemo(()=>i||{},[i]),{simulationResults:b,riskMetrics:y,tradingSuggestions:h,marketData:f}=e.useMemo(()=>{const e={price:a.entryPrice,stopLoss:a.stopLoss,target:a.targetPrice,volatility:p.volatilityLevel||"medium",volume:5e5};return{marketData:e,simulationResults:M(0,e),riskMetrics:D(a,e),tradingSuggestions:z(a,p,e)}},[a,p]),N=e.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:n?"#1f2937":"#ffffff",titleColor:n?"#fff":"#111",bodyColor:n?"#9ca3af":"#666",borderColor:n?"#374151":"#e5e7eb",borderWidth:1,callbacks:{label:e=>"number"==typeof e.raw?`₹${e.raw.toFixed(2)}`:`${e.raw}%`}}},scales:{y:{beginAtZero:!0,grid:{color:n?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:n?"#9ca3af":"#6b7280"}},x:{grid:{display:!1},ticks:{color:n?"#9ca3af":"#6b7280",font:{size:10}}}}}),[n]),k=e.useMemo(()=>({labels:["Position","Risk","Gain","Loss"],datasets:[{data:[a.totalValue||0,a.riskAmount||0,parseFloat(p.potentialGain)||0,parseFloat(p.potentialLoss)||0],backgroundColor:["rgba(59,130,246,0.7)","rgba(239,68,68,0.7)","rgba(34,197,94,0.7)","rgba(249,115,22,0.7)"],borderRadius:6}]}),[a,p]),w=[{id:"overview",label:"Overview",icon:d},{id:"simulation",label:"Monte Carlo",icon:c},{id:"suggestions",label:"Insights",icon:g}];return s.jsxs("div",{className:"rounded-2xl border backdrop-blur-sm "+(n?"bg-gray-800/50 border-gray-700":"bg-white/80 border-gray-200 shadow-lg"),children:[s.jsxs("div",{className:"px-5 py-3 border-b flex items-center gap-4 "+(n?"border-gray-700":"border-gray-200"),children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(d,{className:"w-5 h-5 "+(n?"text-blue-400":"text-blue-600")}),"Risk Analysis"]}),s.jsx("div",{className:"flex-1"}),s.jsx("div",{className:"flex rounded-lg overflow-hidden border ${isDark ? 'border-gray-600' : 'border-gray-200'}",children:w.map(e=>s.jsxs("button",{onClick:()=>o(e.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium transition-all "+(r===e.id?"bg-blue-500 text-white":n?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[s.jsx(e.icon,{className:"w-3.5 h-3.5"}),e.label]},e.id))})]}),s.jsx("div",{className:"p-5",children:s.jsxs(j,{mode:"wait",children:["overview"===r&&s.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-5",children:[{label:"Position Size",value:`${a.quantity||0} units`},{label:"Risk:Reward",value:p.riskRewardRatio},{label:"Portfolio Heat",value:`${p.portfolioHeat}%`},{label:"Vol. Impact",value:`${p.volatilityImpact}%`}].map(e=>s.jsxs("div",{className:"p-3 rounded-xl "+(n?"bg-gray-700/50":"bg-gray-50"),children:[s.jsx("p",{className:"text-xs "+(n?"text-gray-400":"text-gray-500"),children:e.label}),s.jsx("p",{className:"text-lg font-bold",children:e.value})]},e.label))}),s.jsx("div",{className:"h-48 mb-5",children:s.jsx(t,{data:k,options:N})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl "+(n?"bg-gray-700/50":"bg-gray-50"),children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Market Risk"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx(q,{label:"Volatility Risk",value:`${(100*y.volatilityRisk).toFixed(1)}%`,isDark:n}),s.jsx(q,{label:"Liquidity Risk",value:y.liquidityRisk,status:y.liquidityRisk,isDark:n}),s.jsx(q,{label:"Position Impact",value:`${(100*y.positionImpact).toFixed(2)}%`,isDark:n}),s.jsx(q,{label:"Est. Slippage",value:`${y.slippageEstimate.toFixed(2)}%`,isDark:n})]})]}),s.jsxs("div",{className:"p-4 rounded-xl "+(n?"bg-gray-700/50":"bg-gray-50"),children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Position Risk"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx(q,{label:"Correlation Risk",value:p.correlationRisk,isDark:n}),s.jsx(q,{label:"Time Frame Risk",value:p.timeFrameRisk,isDark:n}),s.jsx(q,{label:"Market Condition",value:f.volatility,isDark:n}),s.jsx(q,{label:"Risk Score",value:`${b.confidenceScore?.toFixed(1)||0}%`,status:b.confidenceScore>70?"low":b.confidenceScore>50?"medium":"high",isDark:n})]})]})]})]},"overview"),"simulation"===r&&s.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-5",children:[s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Win Probability",value:`${b.winProbability}%`,color:"green"},{label:"Avg Days",value:`${b.averageDaysToOutcome} days`,color:"blue"},{label:"Confidence",value:`${b.confidenceScore}%`,color:"purple"}].map(e=>s.jsxs("div",{className:"p-4 rounded-xl text-center "+(n?"bg-gray-700/50":"bg-gray-50"),children:[s.jsx("p",{className:"text-xs mb-1 "+(n?"text-gray-400":"text-gray-500"),children:e.label}),s.jsx("p",{className:`text-xl font-bold text-${e.color}-500`,children:e.value})]},e.label))}),s.jsxs("div",{className:"p-4 rounded-xl "+(n?"bg-gray-700/50":"bg-gray-50"),children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Simulation Details"}),s.jsxs("ul",{className:"text-xs space-y-1 "+(n?"text-gray-400":"text-gray-500"),children:[s.jsxs("li",{children:["• Based on ",f.volatility," market volatility"]}),s.jsx("li",{children:"• 1000 Monte Carlo iterations"}),s.jsx("li",{children:"• Maximum 20-day simulation period"}),s.jsx("li",{children:"• Includes market drift and random walk"})]})]})]},"simulation"),"suggestions"===r&&s.jsx(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:h.length>0?h.map((e,a)=>s.jsx("div",{className:`p-4 rounded-xl border-l-4 ${"danger"===e.type?"border-red-500":"warning"===e.type?"border-amber-500":"border-blue-500"} ${n?"bg-gray-700/50":"bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:["danger"===e.type?s.jsx(x,{className:"w-5 h-5 text-red-500 flex-shrink-0"}):"warning"===e.type?s.jsx(m,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}):s.jsx(u,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.message}),s.jsx("p",{className:"text-xs mt-1 "+(n?"text-gray-400":"text-gray-500"),children:e.action})]})]})},a)):s.jsxs("div",{className:"p-6 text-center rounded-xl "+(n?"bg-gray-700/50":"bg-gray-50"),children:[s.jsx(u,{className:"w-10 h-10 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"font-medium",children:"Position looks good!"}),s.jsx("p",{className:"text-sm "+(n?"text-gray-400":"text-gray-500"),children:"No significant risk warnings"})]})},"suggestions")]})})]})});A.displayName="RiskAnalysis";const q=e.memo(({label:e,value:a,status:t,isDark:i})=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:i?"text-gray-400":"text-gray-500",children:e}),s.jsx("span",{className:t&&{high:"text-red-500",medium:"text-amber-500",low:"text-green-500"}[t]||"",children:a})]}));q.displayName="MetricRow";const H=e.memo(({calculatedPosition:a,analysisData:t={},theme:i})=>{const l="dark"===i,r=e.useMemo(()=>t||{},[t]),o=e.useMemo(()=>{const e=a.quantity||0,s=a.riskAmount||0,t=parseFloat(r.potentialGain)||0,i=parseFloat(r.volatilityImpact)||0;return{conservative:{quantity:Math.floor(.75*e),risk:(.75*s).toFixed(2),potential:(.75*t).toFixed(2)},calculated:{quantity:e,risk:s.toFixed(2),potential:t.toFixed(2)},aggressive:{quantity:Math.floor(1.25*e),risk:(1.25*s).toFixed(2),potential:(1.25*t).toFixed(2)},scaled:{quantity:Math.floor(e*(1-i/100)),risk:(s*(1-i/100)).toFixed(2),potential:(t*(1-i/100)).toFixed(2)}}},[a,r]),n=[{type:"conservative",label:"Conservative",icon:p,color:"green",badge:"Lower Risk",...o.conservative},{type:"calculated",label:"Calculated",icon:b,color:"blue",badge:"Balanced",isMain:!0,...o.calculated},{type:"aggressive",label:"Aggressive",icon:y,color:"red",badge:"Higher Risk",...o.aggressive}];return s.jsxs("div",{className:"rounded-2xl border backdrop-blur-sm "+(l?"bg-gray-800/50 border-gray-700":"bg-white/80 border-gray-200 shadow-lg"),children:[s.jsxs("div",{className:"px-5 py-3 border-b flex items-center gap-2 "+(l?"border-gray-700":"border-gray-200"),children:[s.jsx(b,{className:"w-5 h-5 "+(l?"text-purple-400":"text-purple-600")}),s.jsx("h3",{className:"font-semibold",children:"Alternative Positions"})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:n.map((e,a)=>s.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"relative p-4 rounded-xl "+(e.isMain?"ring-2 ring-blue-500 "+(l?"bg-blue-500/10":"bg-blue-50"):l?"bg-gray-700/50":"bg-gray-50"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e.icon,{className:`w-4 h-4 text-${e.color}-500`}),s.jsx("span",{className:"font-medium text-sm",children:e.label})]}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-medium "+("green"===e.color?"bg-green-500/20 text-green-500":"blue"===e.color?"bg-blue-500/20 text-blue-500":"bg-red-500/20 text-red-500"),children:e.badge})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(I,{label:"Quantity",value:e.quantity,isDark:l}),s.jsx(I,{label:"Risk",value:`₹${e.risk}`,isDark:l}),s.jsx(I,{label:"Potential",value:`₹${e.potential}`,isDark:l,color:"green"})]})]},e.type))}),s.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 rounded-xl "+(l?"bg-purple-500/10 border border-purple-500/30":"bg-purple-50 border border-purple-200"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Volatility Adjusted"})]}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-medium bg-purple-500/20 text-purple-500",children:"Market Adapted"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(I,{label:"Quantity",value:o.scaled.quantity,isDark:l}),s.jsx(I,{label:"Risk",value:`₹${o.scaled.risk}`,isDark:l}),s.jsx(I,{label:"Potential",value:`₹${o.scaled.potential}`,isDark:l,color:"green"})]}),s.jsxs("p",{className:"text-xs mt-2 "+(l?"text-gray-400":"text-gray-500"),children:["* Adjusted for current market volatility of ",r.volatilityImpact||0,"%"]})]})]})]})});H.displayName="SuggestedPositions";const I=e.memo(({label:e,value:a,isDark:t,color:i})=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:t?"text-gray-400":"text-gray-500",children:e}),s.jsx("span",{className:"font-semibold "+("green"===i?"text-green-500":""),children:a})]}));I.displayName="MetricLine";const T=()=>{const t=a(e=>e.theme.theme),[r,o]=e.useState(null),[n,d]=e.useState(null),[c,g]=e.useState(!1),m="dark"===t;e.useEffect(()=>{document.title="DeepStrike | Position Sizing Calculator"},[]);const u=e.useMemo(()=>r?{positionSize:r.positionSize||0,maxRisk:r.maxRisk||0,stopLoss:r.stopLoss||0,targetProfit:r.targetProfit||0,riskRewardRatio:r.riskRewardRatio||0}:null,[r]),p=e.useCallback((e,a)=>{g(!0),setTimeout(()=>{o(e),d(a),g(!1)},300)},[]);return s.jsxs(s.Fragment,{children:[s.jsxs(i,{children:[s.jsx("title",{children:"Position Sizing | DeepStrike"}),s.jsx("meta",{name:"description",content:"Professional position sizing calculator with risk management tools"})]}),s.jsxs("div",{className:"min-h-screen transition-colors duration-300 "+(m?"text-white":"text-gray-900"),children:[s.jsx("div",{className:"sticky top-0 z-10 backdrop-blur-md border-b "+(m?"bg-gray-900/90 border-gray-800":"bg-white/90 border-gray-200"),children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl "+(m?"bg-blue-500/20":"bg-blue-100"),children:s.jsx(h,{className:"w-6 h-6 "+(m?"text-blue-400":"text-blue-600")})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Position Sizing"}),s.jsx("p",{className:"text-xs "+(m?"text-gray-400":"text-gray-500"),children:"Risk-based position calculator"})]})]}),u&&s.jsxs(v.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"hidden md:flex items-center gap-4",children:[s.jsx(E,{label:"Position",value:`₹${u.positionSize.toLocaleString()}`,icon:b,color:"blue",isDark:m}),s.jsx(E,{label:"Risk",value:`₹${u.maxRisk.toLocaleString()}`,icon:x,color:"red",isDark:m}),s.jsx(E,{label:"R:R",value:`1:${u.riskRewardRatio.toFixed(1)}`,icon:l,color:"green",isDark:m})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl border backdrop-blur-sm "+(m?"bg-gray-800/50 border-gray-700":"bg-white/80 border-gray-200 shadow-lg"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(h,{className:"w-5 h-5 "+(m?"text-blue-400":"text-blue-600")}),s.jsx("h2",{className:"font-semibold",children:"Calculator"})]}),s.jsx(S,{setCalculatedPosition:e=>p(e,n),setAnalysisData:d,isCalculating:c})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx(j,{mode:"wait",children:c?s.jsx(V,{isDark:m}):r?s.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx(A,{calculatedPosition:r,analysisData:n,theme:t}),s.jsx(H,{calculatedPosition:r,analysisData:n,theme:t})]},"results"):s.jsx(W,{isDark:m})})})]})})]})]})},E=e.memo(({label:e,value:a,icon:t,color:i,isDark:l})=>{const r={blue:l?"text-blue-400 bg-blue-500/10":"text-blue-600 bg-blue-50",red:l?"text-red-400 bg-red-500/10":"text-red-600 bg-red-50",green:l?"text-green-400 bg-green-500/10":"text-green-600 bg-green-50"};return s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${r[i]}`,children:[s.jsx(t,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] uppercase opacity-70",children:e}),s.jsx("div",{className:"text-sm font-bold",children:a})]})]})});E.displayName="MetricBadge";const V=e.memo(({isDark:e})=>s.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col justify-center items-center h-80 rounded-2xl border backdrop-blur-sm "+(e?"bg-gray-800/50 border-gray-700":"bg-white/80 border-gray-200"),children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-blue-200 border-t-blue-600"}),s.jsx(h,{className:"absolute inset-0 m-auto w-5 h-5 text-blue-600"})]}),s.jsx("p",{className:"mt-4 text-sm "+(e?"text-gray-400":"text-gray-500"),children:"Calculating position..."})]},"loading"));V.displayName="LoadingState";const W=e.memo(({isDark:e})=>s.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col justify-center items-center h-80 rounded-2xl border backdrop-blur-sm "+(e?"bg-gray-800/50 border-gray-700":"bg-white/80 border-gray-200"),children:[s.jsx("div",{className:"p-4 rounded-full mb-4 "+(e?"bg-gray-700":"bg-gray-100"),children:s.jsx(d,{className:"w-8 h-8 "+(e?"text-gray-400":"text-gray-500")})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Calculate"}),s.jsx("p",{className:"text-sm text-center max-w-xs "+(e?"text-gray-400":"text-gray-500"),children:"Enter your account balance, risk percentage, and trade details to calculate optimal position size"})]},"empty"));W.displayName="EmptyState";export{T as default};
