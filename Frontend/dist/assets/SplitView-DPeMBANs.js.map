{"version":3,"file":"SplitView-DPeMBANs.js","sources":["../../src/pages/SplitView.jsx"],"sourcesContent":["import { useState, useEffect, useCallback, memo } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { \n    Squares2X2Icon,\n    TableCellsIcon,\n    ChartBarIcon,\n    ArrowPathIcon,\n    PlusIcon,\n    XMarkIcon,\n} from '@heroicons/react/24/outline';\nimport { selectIsAuthenticated } from '../context/selectors';\nimport Card from '../components/common/Card';\nimport Button from '../components/common/Button';\nimport { getAggregateCOI, getAggregateOI, getAggregatePCR, getOIDistribution } from '../api/analyticsApi';\n\n/**\n * Chart Panel Component - Individual chart in the grid\n */\nconst ChartPanel = memo(({ \n    id, \n    symbol, \n    expiry, \n    chartType, \n    onChangeType, \n    onRemove,\n    isFullScreen: _isFullScreen = false \n}) => {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const chartTypes = [\n        { id: 'coi', label: 'Change in OI', color: 'blue' },\n        { id: 'oi', label: 'Open Interest', color: 'green' },\n        { id: 'pcr', label: 'PCR', color: 'purple' },\n        { id: 'distribution', label: 'OI Distribution', color: 'orange' },\n    ];\n\n    const fetchData = useCallback(async () => {\n        if (!symbol || !expiry) return;\n        \n        setLoading(true);\n        setError(null);\n        \n        try {\n            let response;\n            switch (chartType) {\n                case 'coi':\n                    response = await getAggregateCOI({ symbol, expiry });\n                    break;\n                case 'oi':\n                    response = await getAggregateOI({ symbol, expiry });\n                    break;\n                case 'pcr':\n                    response = await getAggregatePCR({ symbol, expiry });\n                    break;\n                case 'distribution':\n                    response = await getOIDistribution({ symbol, expiry });\n                    break;\n                default:\n                    response = await getAggregateCOI({ symbol, expiry });\n            }\n            setData(response);\n        } catch (err) {\n            console.error(`Failed to fetch ${chartType} data:`, err);\n            setError(err.message || 'Failed to load data');\n        } finally {\n            setLoading(false);\n        }\n    }, [symbol, expiry, chartType]);\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n\n    // Simple bar chart renderer\n    const renderChart = () => {\n        if (!data?.data || data.data.length === 0) {\n            return (\n                <div className=\"flex items-center justify-center h-full text-gray-400\">\n                    No data available\n                </div>\n            );\n        }\n\n        const displayData = data.data.slice(0, 15);\n        const maxVal = Math.max(\n            ...displayData.map(d => Math.abs(d.ce_coi || d.ce_oi || d.pcr_oi || 0)),\n            ...displayData.map(d => Math.abs(d.pe_coi || d.pe_oi || 0)),\n            1\n        );\n\n        return (\n            <div className=\"flex flex-col h-full\">\n                {/* Mini bars */}\n                <div className=\"flex-1 flex flex-col justify-center gap-1 px-2\">\n                    {displayData.map((item, i) => {\n                        const ceVal = item.ce_coi || item.ce_oi || 0;\n                        const peVal = item.pe_coi || item.pe_oi || 0;\n                        const ceWidth = Math.min(90, Math.abs(ceVal / maxVal) * 90);\n                        const peWidth = Math.min(90, Math.abs(peVal / maxVal) * 90);\n\n                        return (\n                            <div key={i} className=\"flex items-center gap-1 h-4\">\n                                {/* CE bar (left) */}\n                                <div className=\"flex-1 flex justify-end\">\n                                    <div \n                                        className=\"h-3 bg-green-500 rounded-l\"\n                                        style={{ width: `${ceWidth}%` }}\n                                    />\n                                </div>\n                                {/* Strike label */}\n                                <div className={`w-12 text-center text-[9px] font-medium ${\n                                    item.is_atm ? 'text-yellow-500' : 'text-gray-400'\n                                }`}>\n                                    {item.strike}\n                                </div>\n                                {/* PE bar (right) */}\n                                <div className=\"flex-1\">\n                                    <div \n                                        className=\"h-3 bg-red-500 rounded-r\"\n                                        style={{ width: `${peWidth}%` }}\n                                    />\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n\n                {/* Summary footer */}\n                {data.summary && (\n                    <div className=\"flex justify-between text-[10px] px-2 py-1 border-t border-gray-700\">\n                        <span className=\"text-green-500\">\n                            CE: {((data.summary.total_ce_coi || data.summary.total_ce_oi || 0) / 100000).toFixed(1)}L\n                        </span>\n                        <span className={data.summary.signal === 'BULLISH' ? 'text-green-500' : 'text-red-500'}>\n                            {data.summary.signal || (data.summary.pcr > 1 ? 'BULLISH' : 'BEARISH')}\n                        </span>\n                        <span className=\"text-red-500\">\n                            PE: {((data.summary.total_pe_coi || data.summary.total_pe_oi || 0) / 100000).toFixed(1)}L\n                        </span>\n                    </div>\n                )}\n            </div>\n        );\n    };\n\n    return (\n        <Card variant=\"glass\" className=\"flex flex-col h-full overflow-hidden\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between px-3 py-2 border-b border-gray-700\">\n                <div className=\"flex items-center gap-2\">\n                    <ChartBarIcon className=\"w-4 h-4 text-gray-400\" />\n                    <select\n                        value={chartType}\n                        onChange={(e) => onChangeType(id, e.target.value)}\n                        className=\"bg-transparent text-xs font-medium text-gray-300 border-0 focus:ring-0 cursor-pointer\"\n                    >\n                        {chartTypes.map((type) => (\n                            <option key={type.id} value={type.id} className=\"bg-gray-800\">\n                                {type.label}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                    <button\n                        onClick={fetchData}\n                        disabled={loading}\n                        className=\"p-1 rounded hover:bg-gray-700 transition-colors\"\n                    >\n                        <ArrowPathIcon className={`w-3.5 h-3.5 text-gray-400 ${loading ? 'animate-spin' : ''}`} />\n                    </button>\n                    <button\n                        onClick={() => onRemove(id)}\n                        className=\"p-1 rounded hover:bg-gray-700 transition-colors\"\n                    >\n                        <XMarkIcon className=\"w-3.5 h-3.5 text-gray-400\" />\n                    </button>\n                </div>\n            </div>\n\n            {/* Chart Content */}\n            <div className=\"flex-1 min-h-0\">\n                {loading ? (\n                    <div className=\"h-full flex items-center justify-center\">\n                        <ArrowPathIcon className=\"w-6 h-6 animate-spin text-blue-500\" />\n                    </div>\n                ) : error ? (\n                    <div className=\"h-full flex items-center justify-center text-red-500 text-sm\">\n                        {error}\n                    </div>\n                ) : (\n                    renderChart()\n                )}\n            </div>\n        </Card>\n    );\n});\n\nChartPanel.displayName = 'ChartPanel';\n\n/**\n * Mini Option Chain Table Component\n */\nconst MiniOptionChain = memo(({ data }) => {\n    if (!data || Object.keys(data).length === 0) {\n        return (\n            <div className=\"flex items-center justify-center h-full text-gray-400\">\n                Loading option chain...\n            </div>\n        );\n    }\n\n    const strikes = Object.entries(data)\n        .sort((a, b) => parseFloat(a[0]) - parseFloat(b[0]))\n        .slice(0, 20);\n\n    return (\n        <div className=\"overflow-auto h-full\">\n            <table className=\"w-full text-[10px]\">\n                <thead className=\"bg-gray-800 sticky top-0\">\n                    <tr>\n                        <th className=\"py-1 px-1 text-green-500\">OI</th>\n                        <th className=\"py-1 px-1 text-green-500\">LTP</th>\n                        <th className=\"py-1 px-1 text-yellow-500\">Strike</th>\n                        <th className=\"py-1 px-1 text-red-500\">LTP</th>\n                        <th className=\"py-1 px-1 text-red-500\">OI</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {strikes.map(([strike, data]) => (\n                        <tr key={strike} className=\"border-b border-gray-800 hover:bg-gray-800/50\">\n                            <td className=\"py-0.5 px-1 text-center text-green-400\">\n                                {((data.ce?.OI || data.ce?.oi || 0) / 1000).toFixed(0)}K\n                            </td>\n                            <td className=\"py-0.5 px-1 text-center\">\n                                {data.ce?.ltp?.toFixed(1) || '-'}\n                            </td>\n                            <td className=\"py-0.5 px-1 text-center font-medium text-gray-300\">\n                                {parseFloat(strike).toFixed(0)}\n                            </td>\n                            <td className=\"py-0.5 px-1 text-center\">\n                                {data.pe?.ltp?.toFixed(1) || '-'}\n                            </td>\n                            <td className=\"py-0.5 px-1 text-center text-red-400\">\n                                {((data.pe?.OI || data.pe?.oi || 0) / 1000).toFixed(0)}K\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n});\n\nMiniOptionChain.displayName = 'MiniOptionChain';\n\n/**\n * Split View Page - LOC Calculator-style split layout\n * Shows option chain table alongside multiple chart panels\n */\nconst SplitView = () => {\n    const isAuthenticated = useSelector(selectIsAuthenticated);\n    const navigate = useNavigate();\n    const selectedSymbol = useSelector((state) => state.optionChain.selectedSymbol) || 'NIFTY';\n    const selectedExpiry = useSelector((state) => state.optionChain.selectedExpiry);\n    const optionChainData = useSelector((state) => state.optionChain.data);\n\n    // Chart panels state\n    const [panels, setPanels] = useState([\n        { id: 1, chartType: 'coi' },\n        { id: 2, chartType: 'oi' },\n        { id: 3, chartType: 'pcr' },\n        { id: 4, chartType: 'distribution' },\n    ]);\n\n    const [layout, setLayout] = useState('2x2'); // '2x2', '1x2', '3x1'\n    const [showTable, setShowTable] = useState(true);\n\n    const handleChangeChartType = (panelId, newType) => {\n        setPanels(prev => prev.map(p => \n            p.id === panelId ? { ...p, chartType: newType } : p\n        ));\n    };\n\n    const handleRemovePanel = (panelId) => {\n        setPanels(prev => prev.filter(p => p.id !== panelId));\n    };\n\n    const handleAddPanel = () => {\n        const newId = Math.max(...panels.map(p => p.id), 0) + 1;\n        setPanels(prev => [...prev, { id: newId, chartType: 'coi' }]);\n    };\n\n    if (!isAuthenticated) {\n        return (\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-4\">\n                <h2 className=\"text-2xl font-bold dark:text-white\">Authentication Required</h2>\n                <p className=\"text-gray-600 dark:text-gray-400\">Please log in to use Split View.</p>\n                <Button onClick={() => navigate('/login')}>Login Now</Button>\n            </div>\n        );\n    }\n\n    const gridClass = {\n        '2x2': 'grid-cols-2 grid-rows-2',\n        '1x2': 'grid-cols-1 grid-rows-2',\n        '3x1': 'grid-cols-3 grid-rows-1',\n    }[layout] || 'grid-cols-2 grid-rows-2';\n\n    return (\n        <>\n            <Helmet>\n                <title>Split View | Stockify</title>\n                <meta name=\"description\" content=\"Split view with option chain and multiple charts\" />\n            </Helmet>\n\n            <div className=\"w-full h-[calc(100vh-64px)] flex flex-col p-2 gap-2\">\n                {/* Header Controls */}\n                <div className=\"flex items-center justify-between px-2\">\n                    <div className=\"flex items-center gap-4\">\n                        <h1 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                            <Squares2X2Icon className=\"w-5 h-5\" />\n                            Split View\n                        </h1>\n                        <span className=\"text-sm text-gray-500\">\n                            {selectedSymbol} â€¢ {selectedExpiry}\n                        </span>\n                    </div>\n\n                    <div className=\"flex items-center gap-2\">\n                        {/* Layout Toggle */}\n                        <div className=\"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-0.5\">\n                            {['2x2', '1x2', '3x1'].map((l) => (\n                                <button\n                                    key={l}\n                                    onClick={() => setLayout(l)}\n                                    className={`px-2 py-1 text-xs font-medium rounded transition-colors ${\n                                        layout === l \n                                            ? 'bg-blue-500 text-white' \n                                            : 'text-gray-500 hover:text-gray-700 dark:text-gray-400'\n                                    }`}\n                                >\n                                    {l}\n                                </button>\n                            ))}\n                        </div>\n\n                        {/* Toggle Table */}\n                        <button\n                            onClick={() => setShowTable(!showTable)}\n                            className={`p-2 rounded-lg transition-colors ${\n                                showTable \n                                    ? 'bg-blue-100 text-blue-600 dark:bg-blue-900/30' \n                                    : 'bg-gray-100 text-gray-500 dark:bg-gray-800'\n                            }`}\n                            title=\"Toggle Option Chain Table\"\n                        >\n                            <TableCellsIcon className=\"w-4 h-4\" />\n                        </button>\n\n                        {/* Add Panel */}\n                        <button\n                            onClick={handleAddPanel}\n                            className=\"p-2 rounded-lg bg-green-100 text-green-600 dark:bg-green-900/30 hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors\"\n                            title=\"Add Chart Panel\"\n                        >\n                            <PlusIcon className=\"w-4 h-4\" />\n                        </button>\n                    </div>\n                </div>\n\n                {/* Main Content */}\n                <div className=\"flex-1 flex gap-2 min-h-0\">\n                    {/* Option Chain Table (Left Panel) */}\n                    {showTable && (\n                        <Card variant=\"glass\" className=\"w-64 flex-shrink-0 flex flex-col\">\n                            <div className=\"px-3 py-2 border-b border-gray-700 flex items-center gap-2\">\n                                <TableCellsIcon className=\"w-4 h-4 text-gray-400\" />\n                                <span className=\"text-xs font-medium text-gray-300\">Option Chain</span>\n                            </div>\n                            <div className=\"flex-1 min-h-0\">\n                                <MiniOptionChain data={optionChainData?.oc} />\n                            </div>\n                        </Card>\n                    )}\n\n                    {/* Charts Grid (Right Panel) */}\n                    <div className={`flex-1 grid ${gridClass} gap-2 min-h-0`}>\n                        {panels.slice(0, layout === '3x1' ? 3 : 4).map((panel) => (\n                            <ChartPanel\n                                key={panel.id}\n                                id={panel.id}\n                                symbol={selectedSymbol}\n                                expiry={selectedExpiry}\n                                chartType={panel.chartType}\n                                onChangeType={handleChangeChartType}\n                                onRemove={handleRemovePanel}\n                            />\n                        ))}\n\n                        {/* Empty state if no panels */}\n                        {panels.length === 0 && (\n                            <div className=\"col-span-full flex items-center justify-center\">\n                                <button\n                                    onClick={handleAddPanel}\n                                    className=\"flex flex-col items-center gap-2 p-8 rounded-xl border-2 border-dashed border-gray-600 hover:border-gray-500 transition-colors\"\n                                >\n                                    <PlusIcon className=\"w-8 h-8 text-gray-500\" />\n                                    <span className=\"text-sm text-gray-500\">Add Chart Panel</span>\n                                </button>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default SplitView;\n"],"names":["ChartPanel","memo","id","symbol","expiry","chartType","onChangeType","onRemove","_isFullScreen","data","setData","useState","loading","setLoading","error","setError","chartTypes","fetchData","useCallback","response","getAggregateCOI","getAggregateOI","getAggregatePCR","getOIDistribution","err","useEffect","renderChart","jsx","displayData","maxVal","d","jsxs","item","i","ceVal","peVal","ceWidth","peWidth","Card","ChartBarIcon","e","type","ArrowPathIcon","XMarkIcon","MiniOptionChain","strikes","a","b","strike","SplitView","isAuthenticated","useSelector","selectIsAuthenticated","navigate","useNavigate","selectedSymbol","state","selectedExpiry","optionChainData","panels","setPanels","layout","setLayout","showTable","setShowTable","handleChangeChartType","panelId","newType","prev","p","handleRemovePanel","handleAddPanel","newId","Button","gridClass","Fragment","Helmet","Squares2X2Icon","l","TableCellsIcon","PlusIcon","panel"],"mappings":"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"}