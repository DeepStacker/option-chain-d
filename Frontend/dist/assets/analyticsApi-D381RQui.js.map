{"version":3,"file":"analyticsApi-D381RQui.js","sources":["../../src/api/analyticsApi.js"],"sourcesContent":["/**\n * Analytics API Service\n * Handles all analytics endpoints for charts and time-series data\n */\nimport axiosInstance from './config';\n\n// Note: baseURL already includes /api/v1, so only add /analytics\nconst ANALYTICS_BASE = '/analytics';\n\n/**\n * Get time-series data for a specific strike\n */\nexport const getStrikeTimeSeries = async ({\n    symbol,\n    strike,\n    optionType = 'CE',\n    field = 'oi',\n    interval = '5m',\n    limit = 50,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/timeseries/${symbol}/${strike}`,\n        {\n            params: {\n                option_type: optionType,\n                field,\n                interval,\n                limit,\n            },\n        }\n    );\n    return response.data;\n};\n\n/**\n * Get spot price time-series\n */\nexport const getSpotTimeSeries = async ({\n    symbol,\n    interval = '5m',\n    limit = 100,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/timeseries/spot/${symbol}`,\n        {\n            params: { interval, limit },\n        }\n    );\n    return response.data;\n};\n\n/**\n * Get comprehensive strike analysis\n */\nexport const getStrikeAnalysis = async ({\n    symbol,\n    strike,\n    expiry,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/strike/${symbol}/${strike}`,\n        {\n            params: { expiry },\n        }\n    );\n    return response.data;\n};\n\n/**\n * Get futures summary for all contracts\n */\nexport const getFuturesSummary = async (symbol) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/futures/${symbol}`\n    );\n    return response.data;\n};\n\n/**\n * Get OI distribution across strikes\n */\nexport const getOIDistribution = async ({\n    symbol,\n    expiry,\n    topN = 20,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/oi-distribution/${symbol}/${expiry}`,\n        {\n            params: { top_n: topN },\n        }\n    );\n    return response.data;\n};\n\n/**\n * Get max pain analysis\n */\nexport const getMaxPainAnalysis = async ({\n    symbol,\n    expiry,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/maxpain/${symbol}/${expiry}`\n    );\n    return response.data;\n};\n\n/**\n * Get IV skew analysis\n */\nexport const getIVSkew = async ({\n    symbol,\n    expiry,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/iv-skew/${symbol}/${expiry}`\n    );\n    return response.data;\n};\n\n/**\n * Get aggregate Change in OI (COI) across all strikes\n * Similar to LOC Calculator's \"COi\" and \"Overall COi\" views\n */\nexport const getAggregateCOI = async ({\n    symbol,\n    expiry,\n    topN = 30,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/aggregate/coi/${symbol}/${expiry}`,\n        {\n            params: { top_n: topN },\n        }\n    );\n    return response.data;\n};\n\n/**\n * Get aggregate OI across all strikes\n * Similar to LOC Calculator's \"Oi\" and \"Overall Oi\" views\n */\nexport const getAggregateOI = async ({\n    symbol,\n    expiry,\n    topN = 30,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/aggregate/oi/${symbol}/${expiry}`,\n        {\n            params: { top_n: topN },\n        }\n    );\n    return response.data;\n};\n\n/**\n * Get aggregate PCR (Put-Call Ratio) across all strikes\n * Similar to LOC Calculator's \"PCR\" view\n */\nexport const getAggregatePCR = async ({\n    symbol,\n    expiry,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/aggregate/pcr/${symbol}/${expiry}`\n    );\n    return response.data;\n};\n\n/**\n * Get aggregate percentage changes across all strikes\n * Similar to LOC Calculator's \"Percentage\" view\n */\nexport const getAggregatePercentage = async ({\n    symbol,\n    expiry,\n}) => {\n    const response = await axiosInstance.get(\n        `${ANALYTICS_BASE}/aggregate/percentage/${symbol}/${expiry}`\n    );\n    return response.data;\n};\n\nexport default {\n    getStrikeTimeSeries,\n    getSpotTimeSeries,\n    getStrikeAnalysis,\n    getFuturesSummary,\n    getOIDistribution,\n    getMaxPainAnalysis,\n    getIVSkew,\n    getAggregateCOI,\n    getAggregateOI,\n    getAggregatePCR,\n    getAggregatePercentage,\n};\n\n"],"names":["ANALYTICS_BASE","getStrikeTimeSeries","symbol","strike","optionType","field","interval","limit","axiosInstance","getOIDistribution","expiry","topN","getAggregateCOI","getAggregateOI","getAggregatePCR","getAggregatePercentage"],"mappings":"wCAOA,MAAMA,EAAiB,aAKVC,EAAsB,MAAO,CACtC,OAAAC,EACA,OAAAC,EACA,WAAAC,EAAa,KACb,MAAAC,EAAQ,KACR,SAAAC,EAAW,KACX,MAAAC,EAAQ,EACZ,KACqB,MAAMC,EAAc,IACjC,GAAGR,CAAc,eAAeE,CAAM,IAAIC,CAAM,GAChD,CACI,OAAQ,CACJ,YAAaC,EACb,MAAAC,EACA,SAAAC,EACA,MAAAC,CAChB,CACA,CACA,GACoB,KAkDPE,EAAoB,MAAO,CACpC,OAAAP,EACA,OAAAQ,EACA,KAAAC,EAAO,EACX,KACqB,MAAMH,EAAc,IACjC,GAAGR,CAAc,oBAAoBE,CAAM,IAAIQ,CAAM,GACrD,CACI,OAAQ,CAAE,MAAOC,CAAI,CACjC,CACA,GACoB,KAiCPC,EAAkB,MAAO,CAClC,OAAAV,EACA,OAAAQ,EACA,KAAAC,EAAO,EACX,KACqB,MAAMH,EAAc,IACjC,GAAGR,CAAc,kBAAkBE,CAAM,IAAIQ,CAAM,GACnD,CACI,OAAQ,CAAE,MAAOC,CAAI,CACjC,CACA,GACoB,KAOPE,EAAiB,MAAO,CACjC,OAAAX,EACA,OAAAQ,EACA,KAAAC,EAAO,EACX,KACqB,MAAMH,EAAc,IACjC,GAAGR,CAAc,iBAAiBE,CAAM,IAAIQ,CAAM,GAClD,CACI,OAAQ,CAAE,MAAOC,CAAI,CACjC,CACA,GACoB,KAOPG,EAAkB,MAAO,CAClC,OAAAZ,EACA,OAAAQ,CACJ,KACqB,MAAMF,EAAc,IACjC,GAAGR,CAAc,kBAAkBE,CAAM,IAAIQ,CAAM,EAC3D,GACoB,KAOPK,EAAyB,MAAO,CACzC,OAAAb,EACA,OAAAQ,CACJ,KACqB,MAAMF,EAAc,IACjC,GAAGR,CAAc,yBAAyBE,CAAM,IAAIQ,CAAM,EAClE,GACoB"}